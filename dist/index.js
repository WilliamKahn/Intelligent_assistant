(()=>{"use strict";var t,e,o=(t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}),__spreadArray=function(t,e,o){if(o||2===arguments.length)for(var i,n=0,r=e.length;n<r;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},i=function(){function FrameCollection(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.frames=t}return FrameCollection.prototype.clear=function(){this.frames.length=0},FrameCollection.prototype.push=function(t){this.frames.push(t)},FrameCollection}(),n=function(t){function TraceCollection(){return null!==t&&t.apply(this,arguments)||this}return o(TraceCollection,t),TraceCollection.prototype.filter=function(t){for(var e,o=new TraceCollection,i=0;i<this.frames.length;i++)t(e=this.frames[i],i,this.frames)&&o.push(e);return o},TraceCollection.prototype.toStringArray=function(t){for(var e=[],o=0,i=this.frames;o<i.length;o++){var n=i[o];e.push(n.toString(t))}return e},TraceCollection.prototype.toString=function(t){for(var e=[],o=0,i=this.frames;o<i.length;o++){var n=i[o];e.push(n.toString(t))}return e.join("\n")},TraceCollection}(i),r=function(t){function LogCollection(){return null!==t&&t.apply(this,arguments)||this}return o(LogCollection,t),LogCollection.prototype.filter=function(t){for(var e,o=new LogCollection,i=0;i<this.frames.length;i++)t(e=this.frames[i],i,this.frames)&&o.push(e);return o},LogCollection.prototype.toHtmlString=function(){for(var t=['<div style="\n                font-size: 15px;\n                font-family: monospace;\n                word-wrap:break-word;\n            ">'],e=0;e<this.frames.length;e++)t.push(this.frames[e].toHtmlString());return t.push("</div>"),t.join("\n")},LogCollection.prototype.toStringArray=function(){for(var t=[],e=0;e<this.frames.length;e++)t.push(this.frames[e].toString());return t},LogCollection.prototype.toString=function(){for(var t=[],e=0;e<this.frames.length;e++)t.push(this.frames[e].toString());return t.join("\n")},LogCollection}(i),c=function(){function TraceStackFrame(t,e){this.line=t,this.callerName=e}return TraceStackFrame.prototype.getLine=function(){return this.line},TraceStackFrame.prototype.getCallerName=function(){return this.callerName},TraceStackFrame.prototype.setCallerName=function(t){this.callerName=t},TraceStackFrame.prototype.toString=function(t){return(null!=t?t:defaultFormatter)(this.line,this.callerName)},TraceStackFrame}(),a=function(){function LogStackFrame(t,e){this.data=t,this.scheme=null!=e?e:s.log}return LogStackFrame.prototype.getLevel=function(){return this.scheme.level},LogStackFrame.prototype.getData=function(){return this.data},LogStackFrame.prototype.toString=function(){return this.data},LogStackFrame.prototype.toHtmlString=function(){for(var t=[],e=("<span style='color: ".concat(this.scheme.color,";'>"),0),o=this.data.split("\n");e<o.length;e++){var i=o[e];i=i.replace(/[<>&"'`\/]/g,(function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#96","/":"&#x2F"}[t]})),t.push()}return t.join("\n")},LogStackFrame}();!function(t){t[t.Debug=0]="Debug",t[t.Log=1]="Log",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error"}(e||(e={}));var s=function(){function LoggerSchemes(){}return LoggerSchemes.trace={displayName:"TRACE",logFunction:console.verbose,color:"lightgrey",level:e.Debug},LoggerSchemes.debug={displayName:"DEBUG",logFunction:console.verbose,color:"lightgrey",level:e.Debug},LoggerSchemes.log={displayName:" LOG ",logFunction:console.log,color:"black",level:e.Log},LoggerSchemes.info={displayName:"INFO",logFunction:console.info,color:"green",level:e.Info},LoggerSchemes.warn={displayName:"WARN",logFunction:console.warn,color:"yellow",level:e.Warn},LoggerSchemes.error={displayName:"ERROR",logFunction:console.error,color:"red",level:e.Error},LoggerSchemes}(),l=new r;function getCallerName(t){void 0===t&&(t=0);var e=parseTrace(sliceStackFrames(getRawStackTrace(),1,0));return t<0&&(t=0),t>e.length-1&&(t=e.length-1),e[t].getCallerName()}function getRawStackTrace(t){var e={stack:""};return Error.captureStackTrace(e,t),sliceStackFrames(e.stack,1,-2)}var u={needPrint:!0,needRecord:!0,skipCallerNumber:1},f=function(){function Record(){}return Record.setRecordLevel=function(t){Record.RECORD_LEVEL=t},Record.setDisplayLevel=function(t){Record.DISPLAY_LEVEL=t},Record.log=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.log,u,util.format.apply(util,__spreadArray([t],e,!1)))},Record.verbose=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.debug,u,util.format.apply(util,__spreadArray([t],e,!1)))},Record.info=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.info,u,util.format.apply(util,__spreadArray([t],e,!1)))},Record.warn=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.warn,u,util.format.apply(util,__spreadArray([t],e,!1)))},Record.error=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.error,u,util.format.apply(util,__spreadArray([t],e,!1)))},Record.trace=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=sliceStackFrames(getRawStackTrace(),1,0),r=new(n.bind.apply(n,__spreadArray([void 0],parseTrace(i),!1)));return t=util.format.apply(util,__spreadArray([t],e,!1)),Record.recLog(s.trace,u,"".concat(t,"\n").concat(r.toString()))},Record.traceWithCustomFormatter=function(t,e){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var r=sliceStackFrames(getRawStackTrace(),1,0),c=new(n.bind.apply(n,__spreadArray([void 0],parseTrace(r),!1)));return e=util.format.apply(util,__spreadArray([e],o,!1)),Record.recLog(s.trace,u,"".concat(e,"\n").concat(c.toString(t)))},Record.customLog=function(t,e,o){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return Record.recLog(t,e,util.format.apply(util,__spreadArray([o],i,!1)))},Record.recLog=function(t,e,o){var i,n,r,c,s="[".concat(t.displayName,"] [").concat(getCallerName(e.skipCallerNumber),"]: ").concat(o),u="production"===Pe?"".concat(o):"[".concat(getCallerName(e.skipCallerNumber),"]: ").concat(o);return(null===(n=null!==(i=e.needRecord)&&void 0!==i?i:t.needRecord)||void 0===n||n)&&t.level>=Record.RECORD_LEVEL&&l.push(new a(s,t)),(null===(c=null!==(r=e.needPrint)&&void 0!==r?r:t.needPrint)||void 0===c||c)&&t.level>=Record.DISPLAY_LEVEL&&t.logFunction(u),s},Record.RECORD_LEVEL=e.Debug,Record.DISPLAY_LEVEL=e.Debug,Record.debug=Record.verbose,Record}();function sliceStackFrames(t,e,o){if(void 0===e&&(e=0),void 0===o&&(o=0),""===t)return"";var i=t.split("\n");if(o<=0&&(o=i.length+o),e<0?e=0:e>i.length-1&&(e=i.length-1),o>i.length)o=i.length;else if(o<=e)return"";return(i=i.slice(e,o)).join("\n")}function parseTrace(t){for(var e,o=[],i=0,n=t.split("\n");i<n.length;i++){var r=n[i],a=/\:(\d+)(?: \((.*)\))?/.exec(r);o.push(new c(Number(a[1])-3,null!==(e=a[2])&&void 0!==e?e:"Anonymous functions"))}return o[o.length-1].setCallerName("Outer"),o}function defaultFormatter(t,e){return"  | at line ".concat(t,", in <").concat(e,">")}var p=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),d=events.emitter();d.on("error",(function errorListener(t){f.customLog(s.error,{needPrint:!1,needRecord:!0,skipCallerNumber:2},t.toString())}));var h=function(t){function BaseException(e){var o=t.call(this)||this;o.exceptionType="BaseException",o.traceFilter=void 0,o.traceFormatter=void 0,o.message=e;var i=function getStackTrace(t){var e=sliceStackFrames(getRawStackTrace(t),1,0);return new(n.bind.apply(n,__spreadArray([void 0],parseTrace(e),!1)))}();return o.traceFilter&&(i=i.filter(o.traceFilter)),o.traceBack=i.toString(o.traceFormatter),d.emit("error",o),o}return p(BaseException,t),BaseException.prototype.toString=function(){return"Traceback (most recent call last):\n"+this.traceBack+"\n"+this.exceptionType+(this.message?": "+this.message:"")+"\n"},BaseException}(Error);function __isExceptionType(t,e){var o=Object.getOwnPropertyDescriptor(t,"exceptionType");return void 0!==o&&o.value===e}var g=function(t){function PermissionException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="PermissionException",e}return p(PermissionException,t),PermissionException}(h);var m=function(t){function ServiceNotEnabled(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ServiceNotEnabled",e}return p(ServiceNotEnabled,t),ServiceNotEnabled}(h);var y=function(t){function ValueException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ValueException",e}return p(ValueException,t),ValueException}(h);var v=function(t){function ExceedMaxNumberOfAttempts(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ExceedMaxNumberOfAttempts",e}return p(ExceedMaxNumberOfAttempts,t),ExceedMaxNumberOfAttempts}(h),w=function(t){function CurrentAppBanned(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="CurrentAppBanned",e}return p(CurrentAppBanned,t),CurrentAppBanned}(h);function isCurrentAppBanned(t){return __isExceptionType(t,"CurrentAppBanned")}!function(t){function WidgetNotFoundException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="WidgetNotFoundException",e}p(WidgetNotFoundException,t)}(h);var b,T=function(t){function ConfigInvalidException(e,o){var i=t.call(this,"The '".concat(e,"' field in the configuration is invalid").concat(", "+o,". ")+"please check it again !")||this;return i.exceptionType="ConfigInvalidException",i}return p(ConfigInvalidException,t),ConfigInvalidException}(y);function scrollTo(t,e,o,i,n,r,c){void 0===r&&(r=0),void 0===c&&(c=0);var a=(null==e?void 0:e.fixed)?0:(null==o?void 0:o.top)||0,s=(null==e?void 0:e.fixed)?device.height:(null==o?void 0:o.bottom)||device.height,l=(null==e?void 0:e.fixed)?0:(null==o?void 0:o.left)||0,u=(null==e?void 0:e.fixed)?device.width:(null==o?void 0:o.right)||device.width;if(r>2)throw f.debug("scrollTo error"),new v("超过最大限制次数");var p=search(t,e);if(p&&!(null==e?void 0:e.fixed)){var d=p.bounds.top,h=p.bounds.bottom,g=p.bounds.right,m=p.bounds.left,y=(d+h)/2,w=(g+m)/2;if(h<=d?h>0?h=s+1:d=a-1:g<=m&&(g>0?g=u+1:m=l-1),(n||i)&&(n&&y==n&&(closeByImageMatching(),closeDialogifExist(),r++),i&&w==i&&(closeByImageMatching(),closeDialogifExist(),r++)),d<a)return swipeUp(d<a-.5*s?b.Fast:b.Normal,1e3),waitRandomTime(1),scrollTo(t,e,o,void 0,y,r,c);if(h>s)return swipeDown(h>1.5*s?b.Fast:b.Normal,1e3),waitRandomTime(1),scrollTo(t,e,o,void 0,y,r,c);if(m<l)return function swipeLeft(t,e){console.hide(),sleep(100),gesture(e,[resizeX(random(280,320)),t],[resizeX(random(780,820)),t+random(-30,30)]),console.show()}(y+random(-5,5),1e3),waitRandomTime(1),scrollTo(t,e,o,w,void 0,r,c);if(g>u)return function swipeRight(t,e){console.hide(),sleep(100),gesture(e,[resizeX(random(780,820)),t],[resizeX(random(280,320)),t+random(-30,30)]),console.show()}(y+random(-5,5),1e3),waitRandomTime(1),scrollTo(t,e,o,w,void 0,r,c);if(waitRandomTime(1),++c<3&&coverCheck(p,e))return f.debug("按钮被遮挡"),o||(o={}),y>device.height/3&&y<2*device.height/3&&g>device.width-60?(o.right=m,o.left=void 0):h>device.height/2?(o.top=void 0,o.bottom=d):(o.bottom=void 0,o.top=h),scrollTo(t,e,o,void 0,void 0,r,c)}return p}function coverCheck(t,e){if(f.debug("遮挡校验"),""===t.text)return!1;var o=(null==e?void 0:e.coverBoundsScaling)||1.3,i=(null==e?void 0:e.threshold)||.6;f.debug("text :".concat(t.text));var n=getScreenImage(boundsScaling(t.bounds,o)),r=t.bounds.bottom-t.bounds.top,c=r>50?1:50/r,a=images.scale(n,c,c);n.recycle();var s=images.cvtColor(a,"BGR2GRAY");a.recycle();var l=images.adaptiveThreshold(s,255,"GAUSSIAN_C","BINARY",25,0);s.recycle();var u=(null==e?void 0:e.leftToRight)?function recognizeTextByLeftToRight(t){var e=ocr.recognize(t);return t.recycle(),e.results.sort((function(t,e){return t.bounds.left-e.bounds.left})).map((function(t){return t.text})).join("")}(l):ocr.recognizeText(l);return l.recycle(),f.debug("ocr str:".concat(u)),-1==u.search(t.text)&&function levenshteinDistance(t,e){for(var o=t.length,i=e.length,n=[],r=0;r<=o;r++){n[r]=[];for(var c=0;c<=i;c++)if(0===r)n[r][c]=c;else if(0===c)n[r][c]=r;else{var a=t[r-1]===e[c-1]?0:1;n[r][c]=Math.min(n[r-1][c]+1,n[r][c-1]+1,n[r-1][c-1]+a)}}var s=Math.max(o,i);return 1-n[o][i]/s}(t.text,u)<i}function search(t,e){var o=void 0;if("string"==typeof t?void 0===(o=searchByUiSelect(textMatches(t),e)||searchByUiSelect(descMatches(t),e))&&(null==e?void 0:e.ocrRecognize)&&(o=searchByOcrRecognize(t,e)):o=searchByUiSelect(t,e),void 0===o&&(null==e?void 0:e.waitFor))throw f.debug(t.toString()),"控件不存在";return o}function searchByOcrRecognize(t,e){var o=getScreenImage(null==e?void 0:e.bounds),i=images.cvtColor(o,"BGR2GRAY");o.recycle();var n=images.adaptiveThreshold(i,255,"GAUSSIAN_C","BINARY",25,0);i.recycle();var r=ocr.recognize(n);n.recycle();for(var c=[],a=0,s=r.results;a<s.length;a++){var l=s[a];RegExp("^"+t+"$").test(l.text)&&c.push(l)}f.debug("list length: ".concat(c.length));var u=void 0;if(c.length>0){var p=c[(null==e?void 0:e.index)?e.index:0];if(p){if(null==e?void 0:e.bounds){var d=e.bounds.left||0,h=e.bounds.top||0;p.bounds.left+=d,p.bounds.right+=d,p.bounds.top+=h,p.bounds.bottom+=h}u={text:p.text,bounds:p.bounds}}}return u}function searchByUiSelect(t,e){var o=void 0;if((null==e?void 0:e.waitFor)&&!t.findOne(1e4))for(var i=0;i<3&&(closeByImageMatching(),closeDialogifExist(),!t.findOne(5e3));i++);(null==e?void 0:e.method)&&e.method(t);var n=t.find();if(n.nonEmpty()){(null==e?void 0:e.fixed)&&(n=n.filter((function(t){var e=t.bounds();return e.height()>0&&e.width()>0}))),(null==e?void 0:e.bounds)&&(n=n.filter((function(t){var o=t.bounds();if(e.bounds)return function myBoundsContains(t,e){var o=t.left,i=void 0===o?0:o,n=t.top,r=void 0===n?0:n,c=t.right,a=void 0===c?device.width:c,s=t.bottom,l=void 0===s?device.height:s,u=e.left,f=void 0===u?0:u,p=e.top,d=void 0===p?0:p,h=e.right,g=void 0===h?device.width:h,m=e.bottom,y=void 0===m?device.height:m;return f>=i&&d>=r&&g<=a&&y<=l}(e.bounds,o)}))),n.sort((function(t,e){var o=t.bounds(),i=e.bounds(),n=o.width()>0&&o.height()>0,r=i.width()>0&&i.height()>0;return n&&!r?-1:!n&&r?1:o.centerY()-i.centerY()}));var r=n[(null==e?void 0:e.index)?e.index:0];void 0!==r&&(o={text:r.text(),bounds:r.bounds()})}return o}function closeDialogifExist(){return findAndClick(merge(["取消","(残忍)?关闭","(以后|下次)再说","(直接|坚持|仍要)?退出(阅读|直播间)?","暂不(加入|添加|升级)","(残忍)离开","放弃奖励","(我)?知道了"]),{fixed:!0,disableCheckBeforeClick:!0})}function fixedClick(t){return findAndClick(t,{fixed:!0})}function ocrClick(t){return findAndClick(t,{fixed:!0,ocrRecognize:!0})}function goneClick(t){return findAndClick(t,{fixed:!0,clickUntilGone:!0})}function dialogClick(t,e){return findAndClick(t,{fixed:!0,ocrRecognize:!0,clickUntilGone:!0,disableCheckBeforeClick:!0,bounds:e||{bottom:4*device.height/5,top:1*device.height/3,left:1*device.width/5,right:4*device.width/5}})}function readClick(t,e){return findAndClick(t,{waitFor:!0,index:e,clickUntilGone:!0})}function scrollClick(t,e,o){return void 0===o&&(o={clickUntilGone:!0}),e?function scrollAndClick(t,e,o){var i=!0;return o.findAndClickOptions.method=function(t){i?i=!1:o.searchOptions.waitFor=!1;var n=search(e,o.searchOptions);void 0!==n&&o.method(t,n)},findAndClick(t,o.findAndClickOptions)}(t,e,{findAndClickOptions:o,searchOptions:{waitFor:!0},method:function method(t,e){var o=e.bounds.top-30,i=e.bounds.bottom+80,n=e.bounds.right;i<=o&&(i=o+200),t.boundsInside(n,o,device.width,i)}}):findAndClick(t,o)}function selectedClick(t,e){return findAndClick(t,{waitFor:!0,selectedThreshold:e,check:!0})}function findAndClick(t,e,o){if(void 0===o&&(o=0),++o>Rt)throw f.debug("findAndClick error"),new v("超过最大限制次数");o>Rt-2?(closeByImageMatching(),closeDialogifExist()):o>Rt-4&&closeByImageMatching();var i=scrollTo(t,e);if(i){if(boundsCorrection(i.bounds),null==e?void 0:e.selectedThreshold){var n=getGrayscaleHistogram(c=getScreenImage(i.bounds));c.recycle();var r=findLargestIndexes(function mergeHistogram(t){for(var e=[],o=0;o<t.length;o+=16){for(var i=t.slice(o,o+16).reduce((function(t,e){return t+e}),0),n=0;n<7;n++)e.push(0);e.push(i);for(n=0;n<8;n++)e.push(0)}return e}(n),2);if(f.debug("selected index = ".concat(r)),Math.abs(r[0]-r[1])>e.selectedThreshold)return!0}if((null==e?void 0:e.waitFor)&&waitRandomTime(2),(null==e?void 0:e.fixed)&&!e.disableCheckBeforeClick)if(coverCheck(i,e))closeByImageMatching(),closeDialogifExist();else if(!e.disableGrayCheck){var c=getScreenImage(i.bounds),a=e.grayscaleRatio||1;(function getGrayscale(t,e){void 0===e&&(e=4);for(var o=0,i=0,n=0;n<t.getHeight();n+=e)for(var r=0;r<t.getWidth();r+=e){var c=t.pixel(r,n);isGray(colors.red(c),colors.green(c),colors.blue(c))&&i++,o++}return t.recycle(),f.debug("灰度值".concat((i/o).toFixed(2))),i/o})(c,1)>=a&&(closeByImageMatching(),closeDialogifExist()),c.recycle()}return i.text&&""!==i.text&&!/^[0-9]+$/.test(i.text)&&f.log(i.text),randomClick(i.bounds,e),(null==e?void 0:e.clickUntilGone)&&(e.waitFor=!1,findAndClick(t,e,o)),!0}return!1}function randomClick(t,e){var o=boundsScaling(t,.5),i=random(o.left,o.right),n=random(o.top,o.bottom);if(f.debug("click(".concat(i,", ").concat(n,")")),null==e?void 0:e.check)for(var r=0;++r<3&&!judgeFuncIsWorkByImg((function(){normalClick(i,n,e),i=random(o.left,o.right),n=random(o.top,o.bottom)}),o);)closeByImageMatching();else normalClick(i,n,e)}function normalClick(t,e,o){var i=(null==o?void 0:o.waitTimes)||Lt,n=threads.disposable();(null==o?void 0:o.feedback)&&threads.start((function(){events.observeToast(),events.once("toast",(function(t){t?n.setAndNotify(t.getText()):n.setAndNotify(t)}))})).waitFor();if(console.hide(),sleep(100),click(t,e),console.show(),null==o?void 0:o.feedback){threads.start((function(){waitRandomTime(i),events.emit("toast"),events.removeAllListeners("toast")})).waitFor();var r=n.blockedGet();if(f.debug(r),r.match("失败|异常|领取过奖励"))throw new w(r)}else waitRandomTime(i)}function resizeX(t){return t*device.width/Mt}function resizeY(t){return t*device.height/zt}function boundsScaling(t,e){var o=t.left||0,i=t.right||device.width,n=t.top||0,r=t.bottom||device.height,c=i-o,a=r-n,s=a*e,l=c*e,u={left:o+=(c-l)/2,top:n+=(a-s)/2,right:i-=(c-l)/2,bottom:r-=(a-s)/2};return boundsCorrection(u),u}function boundsCorrection(t){t.left=t.left<0?0:t.left,t.top=t.top<0?0:t.top,t.right=t.right>device.width?device.width:t.right,t.bottom=t.bottom>device.height?device.height:t.bottom}function getScreenImage(t){var e=(null==t?void 0:t.left)||0,o=(null==t?void 0:t.top)||0,i=(null==t?void 0:t.right)||device.width,n=(null==t?void 0:t.bottom)||device.height;console.hide(),sleep(100);var r=captureScreen();console.show(),waitRandomTime(1);var c=images.clip(r,e,o,i-e,n-o);try{return c}finally{r.recycle()}}function waitRandomTime(t){var e=t+random(.2*-t,.2*t);return sleep(1e3*e),e}function clearBackground(){home()&&(waitRandomTime(4),recents()&&(waitRandomTime(4),findAndClick(idContains("clear"),{fixed:!0,disableCheckBeforeClick:!0})||findAndClick(descContains("清除"),{fixed:!0,disableCheckBeforeClick:!0}),launchPackage(Gt),waitRandomTime(4)))}function moveDown(t,e){for(var o=0;t>o;)swipeDown(b.Fast,500),o+=waitRandomTime(e)}function randomMoveDown(t,e,o){for(var i=0;t>i;)swipeDown(b.Fast,500),i+=waitRandomTime(random(e,o))}function swipeDown(t,e){t===b.Normal?gesture(e,[resizeX(random(580,620)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(1350,1450))]):t===b.Fast&&gesture(e,[resizeX(random(580,620)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(250,350))])}function swipeUp(t,e){t===b.Normal?gesture(e,[resizeX(random(580,620)),resizeY(random(1350,1450))],[resizeX(random(780,820)),resizeY(random(1750,1850))]):t===b.Fast&&gesture(e,[resizeX(random(580,620)),resizeY(random(950,1050))],[resizeX(random(780,820)),resizeY(random(1750,1850))])}function merge(t){return t.join("|")}function convertSecondsToMinutes(t){return Math.floor(t/60)}function closeByImageMatching(t){var e=getScreenImage(),o=images.read("/sdcard/exit.png");if(null!=e&&null!=o){var i=images.cvtColor(e,"BGR2GRAY");e.recycle();var n=images.cvtColor(o,"BGR2GRAY");o.recycle();var r=images.adaptiveThreshold(n,255,"GAUSSIAN_C","BINARY",9,0),c=images.adaptiveThreshold(n,255,"GAUSSIAN_C","BINARY_INV",9,0);n.recycle();var a=images.adaptiveThreshold(i,255,"GAUSSIAN_C","BINARY",25,0);i.recycle();for(var s=[],l=50;l>=20;l-=5){var u=images.resize(r,l),p=images.resize(c,l),d=images.matchTemplate(a,u,{threshold:.7});u.recycle();var h=images.matchTemplate(a,p,{threshold:.7});p.recycle();for(var g=d.points.concat(h.points),m=0,y=g;m<y.length;m++){(v=y[m]).x+=l/2,v.y+=l/2}s.push.apply(s,g)}if(c.recycle(),r.recycle(),a.recycle(),null!=s){var v=function findPreferredCloseButton(t,e){for(var o=t.slice().sort((function(t,e){return calculateDistance(t,{x:0,y:0})-calculateDistance(e,{x:0,y:0})})),i={x:0,y:0},n=0;n<o.length;n++)if(calculateDistance(i,o[n])>3){if(i=o[n],e){var r=boundsInside(i.x-100,i.y-100,i.x+100,i.y+100).findOnce();i.y>device.height/5&&(null==r||""!==r.text())&&(o.splice(n),n--)}}else o.splice(n),n--;return o.sort((function(t,e){var o=calculatePriority(t),i=o.priority,n=o.distance,r=calculatePriority(e),c=r.priority,a=r.distance;return i===c?n-a:i-c})),o.length>0?o[0]:null}(s,t);if(null!=v)return f.debug("close(".concat(v.x,",").concat(v.y,")")),normalClick(v.x,v.y),!0}}return e.recycle(),!1}function calculateDistance(t,e){var o=t.x-e.x,i=t.y-e.y;return Math.sqrt(o*o+i*i)}function calculatePriority(t){var e=device.width/2,o=device.height/2,i=random(1,2),n=3-i;return t.x<e&&t.y<o?{priority:i,distance:calculateDistance(t,{x:0,y:0})}:t.x>e&&t.y<o?{priority:n,distance:calculateDistance(t,{x:e,y:o})}:{priority:3,distance:Math.abs(t.x-e)}}function doFuncAtGivenTime(t,e,o){for(;t>=0;){var i=new Date;o(Math.min(e,t)),t-=((new Date).getTime()-i.getTime())/1e3}}function doFuncAtGivenTimeByEstimate(t,e){for(;t>=0;){var o=new Date;e();var i=((new Date).getTime()-o.getTime())/1e3;if(i<10)break;t-=i}}function judgeFuncIsWorkByImg(t,e){var o=getScreenImage(e);t();var i=getScreenImage(e),n=findImage(o,i,{threshold:1});return o.recycle(),i.recycle(),n?(f.debug("操作失效"),!1):(f.debug("操作生效"),!0)}function randomExecute(t){for(var e,o=t.length-1;o>0;o--){var i=Math.floor(Math.random()*(o+1));e=[t[i],t[o]],t[o]=e[0],t[i]=e[1]}t.forEach((function(t){t()}))}function getGrayscaleHistogram(t,e){void 0===e&&(e=4);for(var o=[],i=0;i<256;i++)o[i]=0;for(var n=0;n<t.getHeight();n+=e)for(var r=0;r<t.getWidth();r+=e){var c=t.pixel(r,n),a=(colors.red(c)+colors.green(c)+colors.blue(c))/3;o[Math.floor(a)]++}return t.recycle(),o}function findLargestIndexes(t,e){if(e<=0)throw new Error("返回长度必须大于等于1");if(e>t.length)throw new Error("返回长度不能大于数组长度");for(var o=[],i=0;i<e;i++){for(var n=0,r=1;r<t.length;r++)t[r]>t[n]&&(n=r);o.push(n),t[n]=Number.MIN_SAFE_INTEGER}return o}function getNumFromComponent(t){var e=t.match("[0-9]+");return e?parseInt(e[0]):0}function isGray(t,e,o){var i=(t+e+o)/3,n=Math.max(t,e,o)-Math.min(t,e,o);return i<=150&&n<=150}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function sendErrorMessage(t){var e=l,o=getScreenImage();hamibot.postMessage(Date.now().toString(),{telemetry:!0,data:{title:t,attachments:[{type:"text",data:e.toString()},{type:"image",data:images.toBase64(o)}]}}),o.recycle()}!function(t){t[t.Normal=0]="Normal",t[t.Fast=1]="Fast"}(b||(b={}));var k,__decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},x=function(){function Base(){this.appName="",this.packageName="",this.initialComponent=text(""),this.initialNum=-1,this.first=!0,this.preComponent=text(""),this.preNum=-1,this.randomTab=text(""),this.tab=text(""),this.depth=0,this.exchangeRate=1e4,this.dialogBounds=void 0,this.lastSignInTime=new Date,this.canSign=!1,this.highEffEstimatedTime=Nt,this.medEffEstimatedTime=jt,this.lowEffEstimatedTime=jt,this.lowEffAssmitCount=1}return Base.prototype.medEff=function(){},Base.prototype.lowEff=function(t){},Base.prototype.start=function(t){if(this.lauchApp()){f.info("".concat(this.appName,"预计执行").concat(convertSecondsToMinutes(t),"分钟")),this.reset(),this.reSearchTab();var e=!1;if(t>=this.highEffEstimatedTime)t-=this.highEff(),e=!0;if(t>=this.medEffEstimatedTime)t-=this.medEff();if(t>this.lowEffEstimatedTime)t-=this.lowEff(t-300);e&&(f.info("统计当前app金币"),this.weight())}},Base.prototype.start2=function(){var t=hamibot.env[this.constructor.name];""!==t&&this.lauchApp()&&(this.reset(),this.reSearchTab(),this.executeRichText(t),this.weight())},Base.prototype.executeRichText=function(t){for(var e,o=this,i="string"==typeof t?t.replace(/(\n?)\{(\n?)/g,"\n{\n").replace(/(\n?)\}(\n?)/g,"\n}\n").replace(/(\n)(\n)/,"\n").split("\n"):t,n=null!==this.findMethodName("签到"),r=function _loop_1(t){var r=i[t].trim().split(/\(|\)/),a=c.findMethodName(r[0]),s=r[1]?r[1].split(","):[];if(null!=a){var l=c[a];if("function"!=typeof l)throw new T("".concat(r[0]," 方法不存在"));if(n)if("signIn"===a)c.lastSignInTime=new Date,c.canSign=!0;else if(c.canSign){var u=new Date;u.getDay()!==c.lastSignInTime.getDay()&&(c.lastSignInTime=u,c.signIn())}var f=60*parseInt(s[0],10);l.call(c,f)}else if("循环"===r[0]){var p=["{"];if("{"!==i[t+1])throw new T("语法错误");for(var d=-1,h=t+2;h<i.length;h++){if("}"===i[h])p.pop();else{if("{"!==i[h])continue;p.push("{")}if(0===p.length){d=h;break}}if(-1===d)throw new T("语法错误");!function executeDynamicLoop(t,e){for(var o=0;o<t;o++)e()}(parseInt(s[0],10),(function loopBody(){o.executeRichText(i.slice(t+2,d))})),t=d}else if("等待"===r[0]){var g=parseInt(s[0],10);sleep(1e3*g)}e=t},c=this,a=0;a<i.length;a++)r(a),a=e},Base.prototype.reSearchTab=function(){if(this.randomTab.toString()!==text("").toString()){search(this.randomTab,{waitFor:!0});var t=this.randomTab.findOnce();if(null===t)throw"id定位失败";this.tab=id(t.id()),this.initialComponent=this.tab,f.debug("".concat(this.tab))}},Base.prototype.beforeDoTask=function(){},Base.prototype.lauchApp=function(){f.log("尝试启动".concat(this.appName));var t=launchPackage(this.packageName);return t?(waitRandomTime(2),findAndClick(className("android.widget.Button").textMatches("打开"),{fixed:!0}),f.log("".concat(this.appName,"已启动")),waitRandomTime(13)):f.log("".concat(this.appName,"应用未安装")),t},Base.prototype.read=function(t){var e=this;f.log("准备看书".concat(convertSecondsToMinutes(t),"分钟"));text("简介").exists()&&normalClick(resizeX(1070),resizeY(2330));var o=getScreenImage({bottom:device.height/6}),i=getGrayscaleHistogram(o);o.recycle();var n=findLargestIndexes(i,1)[0];f.debug("read index: ".concat(n)),doFuncAtGivenTime(t,6,(function(t){normalClick(resizeX(random(1070,1080)),resizeY(random(1900,2e3))),waitRandomTime(t),fixedClick(merge([".*不再提示","我知道了","放弃下载"])),e.watch(n)}))},Base.prototype.watch=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var i=!1;if("number"==typeof t){var n=getScreenImage({bottom:device.height/6}),r=getGrayscaleHistogram(n);n.recycle();var c=findLargestIndexes(r,1)[0];f.debug("watch index: ".concat(c)),c<t+20&&c>t-20&&(i=!0)}else i=t.exists();if(i)f.debug("watch return");else{if(e>9)throw f.debug("watch error"),new v("超过最大限制次数");currentPackage()!==this.packageName&&this.lauchApp();var a=void 0,s=search(".*[0-9]+[ ]?[s秒]?.*",{ocrRecognize:!0,bounds:{bottom:device.height/4}});void 0!==s&&(a=s.text);var l=function matchAndJudge(t){if(f.debug("".concat(t)),t){var e=(t=t.replace(/\d+:\d+/,"x")).match(/[0-9]+[s秒]?/),o=t.match(/(滑动)?浏览/);if(e){var i=parseInt(e[0],10);if((i>50||i<1)&&(i=1),!o)return i;f.log("滑动浏览广告"),moveDown(i,4)}}return 1}(a);if(o+=l,f.debug("watchTimes = ".concat(e,", waitTime = ").concat(l)),text("该视频提到的内容是").findOne(1e3*l))return back(),waitRandomTime(1),void this.watch(t,++e,o);waitRandomTime(4),findAndClick(".*跳过.*",{fixed:!0,bounds:{left:2*device.width/3,bottom:device.height/5}})||function utils_close(){var t=random(0,1);if(!closeByImageMatching(!0)&&!fixedClick(idContains("close")))switch(t){case 0:findAndClick(classNameMatches("android.widget.(ImageView|Button|FrameLayout)"),{fixed:!0,bounds:{left:3*device.width/5,bottom:1*device.height/5}})||(back(),waitRandomTime(4));break;case 1:findAndClick(className("android.widget.(Button|ImageView)"),{fixed:!0,bounds:{right:2*device.width/5,bottom:1*device.height/5}})||(back(),waitRandomTime(4))}}(),o>120||e>=4?closeDialogifExist():function continueWatch(){return findAndClick(merge(["继续观看","再看[0-9]+秒(可)?(领取)?奖励","抓住奖励机会","留下看看"]),{fixed:!0,disableCheckBeforeClick:!0,bounds:{bottom:2*device.height/3,top:device.height/3}})}()||function watchAgain(){return findAndClick(merge(["领取奖励","再看一个领取[0-9]+金币","看视频再得[0-9]+金币"]),{fixed:!0,disableCheckBeforeClick:!0,bounds:{bottom:2*device.height/3,top:device.height/3}})}()||closeDialogifExist(),this.watch(t,++e,o)}},Base.prototype.goTo=function(t,e){if(!t.exists()||this.preComponent.toString()!=t.toString()||this.preNum!=e){for(var o=this.backUntilFind(t),i=0;i<this.depth;i++){var n=o.child(0);null!=n&&(o=n)}null!=o&&(-1!==e&&(o=o.child(e)),this.preComponent.toString()===t.toString()&&this.preNum===e||randomClick(o.bounds(),{check:!0})),this.preComponent=t,this.preNum=e,waitRandomTime(4)}},Base.prototype.backUntilFind=function(t,e){if(void 0===e&&(e=0),e>=St)throw f.debug("backUntilFind error"),new v("超过最大尝试次数");var o=t.findOnce();return null==o?(e>=St-2?(f.warn("尝试矫正"),closeByImageMatching()):(back(),waitRandomTime(4)),closeDialogifExist(),currentPackage()!==this.packageName&&this.lauchApp(),this.backUntilFind(t,++e)):o},Base.prototype.watchAdsForCoin=function(t){for(var e="(观)?看.*(视频|内容|广告).*(得|领|赚|收取).*([0-9]+金币|更多|火苗)",o=0;++o<Bt&&dialogClick(e,this.dialogBounds);)this.watch(textMatches(merge([t,e])));dialogClick(merge(["(开心|立即)收下","(我)?知道了"]))},Base.prototype.reset=function(){this.beforeDoTask(),l.clear(),this.enablewatchAds(),this.preComponent=this.initialComponent,this.preNum=this.initialNum,this.first=!0},Base.prototype.store=function(t,e){var o=Pt.get(this.constructor.name,{});o[t]=e,Pt.put(this.constructor.name,o)},Base.prototype.fetch=function(t,e){var o=Pt.get(this.constructor.name,{});return null==e||void 0!==o&&void 0!==o[t]?o[t]:e},Base.prototype.findMethodName=function(t){for(var e=hamibot.env[this.constructor.name+"Func"],o=0;o<e.length;o++){var i=e[o].split("|");if(i[1]===t)return i[0]}return null},Base.prototype.beforeRun=function(){},Base.prototype.signIn=function(){},Base.prototype.openTreasure=function(){},Base.prototype.watchAds=function(){},Base.prototype.enablewatchAds=function(){},Base.prototype.mealSupp=function(){},Base.prototype.readBook=function(t){},Base.prototype.swipeVideo=function(t){},Base.prototype.listenBook=function(){},Base.prototype.watchLive=function(){},Base.prototype.shopping=function(){},Base.prototype.reward=function(){},Base.prototype.clickPop=function(){},Base.prototype.record=function(){},__decorate([startDecorator],Base.prototype,"start",null),__decorate([startDecorator],Base.prototype,"start2",null),Base}();function functionLog(t){return function(e,o,i){var n=i.value,r=!0;return i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=new Date;try{if(r)return waitRandomTime(4),f.info("执行下一步任务：".concat(t)),!1===(u=n.apply(this,e))&&(r=!1),u}catch(i){if(isCurrentAppBanned(i))throw i;f.debug("".concat(i.message));for(var a=this,s=1;s<Ot;){if("readBook"===o||"swipeVideo"===o){var l=new Date;if(e[0]=e[0]-(l.getTime()-c.getTime())/1e3,e[0]<=0)break}f.warn("尝试第".concat(s,"次重启"));try{var u;if(c=new Date,clearBackground(),a.lauchApp())return waitRandomTime(4),f.info("执行下一步任务：".concat(t)),a.reset(),!1===(u=n.apply(this,e))&&(r=!1),u;break}catch(t){f.debug("".concat(t.message)),sendErrorMessage(t.message),s++}}if(s>=Ot)throw new v("超过最大尝试次数")}},"watchAds"===o&&(e["enable".concat(o)]=function(){r=!0}),i}}function measureExecutionTime(t,e,o){var i=o.value;return o.value=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=new Date;i.apply(this,t);var r=new Date,c=(r.getTime()-n.getTime())/1e3;f.debug("".concat(e,"执行了").concat(convertSecondsToMinutes(c),"分钟"));var a=this;return a.constructor.name===Pt.get(Dt)?f.debug("不调整时间"):"highEff"===e?(f.debug("highEff时间调整为".concat(convertSecondsToMinutes(c),"分钟")),a.highEffEstimatedTime=c,a.store(k.HighEffEstimatedTime,c)):"medEff"===e&&(f.debug("medEff时间调整为".concat(convertSecondsToMinutes(c),"分钟")),a.medEffEstimatedTime=c,a.store(k.MedEffEstimatedTime,c)),c},o}function startDecorator(t,e,o){var i=o.value;return o.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=new Date;try{i.apply(this,t)}catch(t){isCurrentAppBanned(t)?f.error("账号异常"):(f.error("当前app发生异常: ".concat(t.message)),sendErrorMessage(t.message))}var n=new Date,r=(n.getTime()-o.getTime())/1e3;return f.info("即将执行下一个app"),f.debug("剩余".concat(convertSecondsToMinutes(t[0]-r),"分钟")),l.clear(),t[0]-r},o}!function(t){t[t.Weight=0]="Weight",t[t.Executed=1]="Executed",t[t.HighEffEstimatedTime=2]="HighEffEstimatedTime",t[t.MedEffEstimatedTime=3]="MedEffEstimatedTime",t[t.LowEffEstimatedTime=4]="LowEffEstimatedTime"}(k||(k={}));var _,C=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractArticle_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},E=function(t){function AbstractArticle(e){var o=t.call(this)||this;return o.packageName=e,o.tab=id("android:id/tabs"),o.initialComponent=o.tab,o.initialNum=0,o.exchangeRate=33e3,o.highEffEstimatedTime=o.fetch(k.HighEffEstimatedTime,Nt),o.medEffEstimatedTime=o.fetch(k.MedEffEstimatedTime,6600),o.lowEffEstimatedTime=0,o}return C(AbstractArticle,t),AbstractArticle.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.walkEarn()},function(){t.mealSupp()},function(){t.sleepEarn()},function(){t.openTreasure()},function(){t.doubleEarn()},function(){t.watchAds()}])},AbstractArticle.prototype.medEff=function(){var t=0;do{this.swipeVideo(600),this.openTreasure()}while(++t<Bt&&this.watchAds());this.reward()},AbstractArticle.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.swipeVideo(t),e.openTreasure(),e.watchAds()})),this.reward()},AbstractArticle.prototype.weight=function(){if(this.goToTask(),scrollClick(".*我的金币.*")){var t=textMatches(/(\d+)/).findOnce();if(null!=t){f.debug("".concat(this.constructor.name,":").concat(t.text()));var e=parseInt(t.text());this.store(k.Weight,e)}}},AbstractArticle.prototype.signIn=function(){this.goTo(this.tab,2),(dialogClick("立即签到")||findAndClick("立即签到",{feedback:!0}))&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.openTreasure=function(){if(this.goToTask(),fixedClick("开宝箱得金币")){if(getNumFromComponent(this.getCoinStr())<It)throw new w(this.appName+"账号异常");this.watchAdsForCoin("日常任务")}},AbstractArticle.prototype.watchAds=function(){return this.goToTask(),!!scrollClick("领福利")&&(this.watch(text("日常任务")),!0)},AbstractArticle.prototype.swipeVideo=function(t){this.goTo(this.tab,1),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,15)},AbstractArticle.prototype.reward=function(){this.goToTask();var t=0;for(scrollTo("现金收益.*");++t<Bt&&ocrClick("点击领取|点击抽奖")&&(this.watchAdsForCoin("日常任务"),!dialogClick("开始抽奖")||(normalClick(resizeX(random(395,689)),resizeY(random(750,1067))),!dialogClick("点击领取"))););},AbstractArticle.prototype.mealSupp=function(){this.goToTask(),scrollClick("吃饭补贴")&&findAndClick("领取.*补贴[0-9]+金币",{fixed:!0})&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.walkEarn=function(){this.goToTask(),scrollClick("走路赚钱")&&findAndClick("领取[0-9]+金币",{fixed:!0,feedback:!0})&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.sleepEarn=function(){this.goToTask(),scrollClick("睡觉赚钱")&&(fixedClick("我睡醒了")&&fixedClick("领取[0-9]+金币")&&this.watchAdsForCoin("日常任务"),fixedClick("我要睡了"))},AbstractArticle.prototype.doubleEarn=function(){this.goToTask(),scrollClick("去翻倍|点击翻倍")&&dialogClick("我知道了")},AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"highEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"medEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"lowEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"weight",null),AbstractArticle_decorate([functionLog("签到")],AbstractArticle.prototype,"signIn",null),AbstractArticle_decorate([functionLog("开宝箱")],AbstractArticle.prototype,"openTreasure",null),AbstractArticle_decorate([functionLog("看广告")],AbstractArticle.prototype,"watchAds",null),AbstractArticle_decorate([functionLog("刷视频")],AbstractArticle.prototype,"swipeVideo",null),AbstractArticle_decorate([functionLog("领取奖励")],AbstractArticle.prototype,"reward",null),AbstractArticle_decorate([functionLog("吃饭补贴")],AbstractArticle.prototype,"mealSupp",null),AbstractArticle_decorate([functionLog("走路赚钱")],AbstractArticle.prototype,"walkEarn",null),AbstractArticle_decorate([functionLog("睡觉赚钱")],AbstractArticle.prototype,"sleepEarn",null),AbstractArticle}(x),A=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),F=function(t){function Article(){var e=t.call(this,Be)||this;return e.appName=Le,e}return A(Article,t),Article.prototype.goToTask=function(){this.goTo(this.tab,2)},Article.prototype.getCoinStr=function(){var t=search("恭喜你获得[0-9]+金币");return(null==t?void 0:t.text)||""},Article}(E),S=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ArticleLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},R=function(t){function ArticleLite(){var e=t.call(this,je)||this;return e.appName=Ne,e}return S(ArticleLite,t),ArticleLite.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.doubleEarn()},function(){t.watchAds()},function(){t.toSearch()},function(){t.doubleEarn()},function(){t.randomSearch()}]),this.dailyReward()},ArticleLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("现金收益");var t=search("[0-9]+金币");if(void 0!==t){var e=parseInt(t.text);f.debug("".concat(e)),this.store(k.Weight,e)}},ArticleLite.prototype.goToTask=function(){this.goTo(this.tab,2)},ArticleLite.prototype.getCoinStr=function(){var t=search("恭喜获得宝箱奖励"),e=search("\\+[0-9]+金币",{bounds:{top:null==t?void 0:t.bounds.bottom}});return(null==e?void 0:e.text)||""},ArticleLite.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("额外再领|翻倍领取")&&(this.watch(text("日常任务")),closeByImageMatching())},ArticleLite.prototype.toSearch=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&text("搜一搜赚钱").exists();)scrollClick("去搜索","搜一搜赚钱")&&fixedClick("搜索")&&(moveDown(15,4),this.backUntilFind(text("日常任务")))},ArticleLite.prototype.randomSearch=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&text("随机搜赚钱").exists();)scrollClick("随机搜","随机搜赚钱")&&(moveDown(15,4),this.backUntilFind(text("日常任务")))},ArticleLite.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("点击领取",void 0,{clickUntilGone:!1});)this.watchAdsForCoin("日常任务")},ArticleLite.prototype.dailyReward=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("领取",void 0,{clickUntilGone:!1});)this.watchAdsForCoin("日常任务")},ArticleLite.prototype.swipeVideo=function(t){this.goTo(this.tab,2),scrollClick("看视频","看文章或视频赚金币")&&moveDown(t,10)},ArticleLite_decorate([measureExecutionTime],ArticleLite.prototype,"highEff",null),ArticleLite_decorate([measureExecutionTime],ArticleLite.prototype,"weight",null),ArticleLite_decorate([functionLog("签到")],ArticleLite.prototype,"signIn",null),ArticleLite_decorate([functionLog("搜一搜赚钱")],ArticleLite.prototype,"toSearch",null),ArticleLite_decorate([functionLog("随机搜赚钱")],ArticleLite.prototype,"randomSearch",null),ArticleLite_decorate([functionLog("看视频奖励领取")],ArticleLite.prototype,"reward",null),ArticleLite_decorate([functionLog("领取挑战奖励")],ArticleLite.prototype,"dailyReward",null),ArticleLite_decorate([functionLog("看视频")],ArticleLite.prototype,"swipeVideo",null),ArticleLite}(E),O=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractBaidu_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},L=function(t){function AbstractBaidu(e){var o=t.call(this)||this;return o.readRewardText="看文章或视频赚金币",o.exitSign="金币收益",o.packageName=e,o.tab=id("android:id/tabs"),o.initialComponent=o.tab,o.initialNum=0,o}return O(AbstractBaidu,t),AbstractBaidu.prototype.signIn=function(){this.goto(-1),(fixedClick("额外领[0-9]+金币")||scrollClick("去签到","今日签到|明日签到",{clickUntilGone:!1})&&fixedClick("额外领[0-9]+金币"))&&(this.watch(text(this.exitSign)),this.watchAdsForCoin(this.exitSign))},AbstractBaidu.prototype.searchForCoin=function(){var t,e,o,i;this.goto(-1),scrollTo("搜索赚金币.*",{waitFor:!0},{bottom:device.height/2});var n=textMatches("搜索赚金币.*").findOnce();if(null!==n){var r=n.text().match(/\((\d+)\/(\d+)\)/);if(r)for(var c=parseInt(r[1]);c<parseInt(r[2]);c++)findAndClick(className("android.widget.TextView"),{bounds:null===(i=null===(o=null===(e=null===(t=n.parent())||void 0===t?void 0:t.parent())||void 0===e?void 0:e.parent())||void 0===o?void 0:o.child(1))||void 0===i?void 0:i.bounds(),waitTimes:17,fixed:!0,disableCheckBeforeClick:!0})&&(this.backUntilFind(text(this.exitSign)),waitRandomTime(2),this.watchAdsForCoin(this.exitSign),text("立即添加").exists()&&closeByImageMatching())}},AbstractBaidu.prototype.watchAds=function(){return this.goto(-1),!!scrollClick("去完成","看广告赚钱.*")&&(this.watch(text(this.exitSign)),this.watchAdsForCoin(this.exitSign),!0)},AbstractBaidu.prototype.openTreasure=function(){this.goto(-1),fixedClick("开宝箱得金币")&&this.watchAdsForCoin(this.exitSign)},AbstractBaidu.prototype.dailyReward=function(){this.goto(-1);for(var t=0,e=scrollTo("今日任务");++t<=Bt&&void 0!==e&&findAndClick(".?领取.?",{ocrRecognize:!0,bounds:{top:e.bounds.top-30,bottom:e.bounds.bottom+30}}););},AbstractBaidu.prototype.swipeReward=function(){this.goto(-1);for(var t=0,e=scrollTo(this.readRewardText,{waitFor:!0},{bottom:device.height/2});++t<=Bt&&void 0!==e&&findAndClick("领",{ocrRecognize:!0,bounds:{top:e.bounds.bottom,bottom:e.bounds.bottom+500},fixed:!0}););},AbstractBaidu_decorate([functionLog("签到")],AbstractBaidu.prototype,"signIn",null),AbstractBaidu_decorate([functionLog("搜索赚金币")],AbstractBaidu.prototype,"searchForCoin",null),AbstractBaidu_decorate([functionLog("看广告")],AbstractBaidu.prototype,"watchAds",null),AbstractBaidu_decorate([functionLog("开宝箱")],AbstractBaidu.prototype,"openTreasure",null),AbstractBaidu_decorate([functionLog("每日挑战奖励领取")],AbstractBaidu.prototype,"dailyReward",null),AbstractBaidu_decorate([functionLog("看视频领红包")],AbstractBaidu.prototype,"swipeReward",null),AbstractBaidu}(x),B=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),Baidu_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},N=function(t){function Baidu(){var e=t.call(this,Ae)||this;return e.appName=Ee,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e}return B(Baidu,t),Baidu.prototype.highEff=function(){this.signIn(),this.openTreasure(),this.searchForCoin(),this.makesureFortune(),this.goFarm();for(var t=0;++t<Bt&&this.watchAds(););this.swipeVideo(240),this.swipeReward(),this.openTreasure(),this.dailyReward()},Baidu.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),e.openTreasure(),e.swipeReward()})),this.dailyReward()},Baidu.prototype.weight=function(){this.goto(-1),scrollTo("金币收益");var t=searchByOcrRecognize("[0-9]+");if(null!=t){var e=parseInt(t.text);f.debug("weight: ".concat(e)),this.store(k.Weight,e)}},Baidu.prototype.goFarm=function(){this.goto(-1),text("去支付宝芭芭农场").exists()&&scrollClick("去完成","去支付宝芭芭农场")&&(this.watch(text("金币收益")),this.watchAdsForCoin("金币收益"))},Baidu.prototype.makesureFortune=function(){this.goto(-1),scrollClick("测一测","测测今日运势")&&ocrClick("测一测")&&(closeByImageMatching(),this.backUntilFind(text("金币收益")),this.watchAdsForCoin("金币收益"))},Baidu.prototype.swipeVideo=function(t){this.goto(-1),scrollClick("去阅读","看文章或视频赚金币")&&(this.first=!0,this.preNum=0,selectedClick("发现",170)&&findAndClick(className("android.widget.ImageView"),{bounds:{top:device.height/5}})&&(f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,30)))},Baidu.prototype.goto=function(t){-1===t?this.first?(this.goTo(this.tab,4),findAndClick("天天领现金",{ocrRecognize:!0,clickUntilGone:!0,bounds:{bottom:device.height/5,left:device.width/2}})&&(this.first=!1)):this.backUntilFind(text("金币收益")):this.goTo(this.tab,t)},Baidu_decorate([measureExecutionTime],Baidu.prototype,"highEff",null),Baidu_decorate([measureExecutionTime],Baidu.prototype,"lowEff",null),Baidu_decorate([measureExecutionTime],Baidu.prototype,"weight",null),Baidu_decorate([functionLog("去芭芭农场")],Baidu.prototype,"goFarm",null),Baidu_decorate([functionLog("测运势")],Baidu.prototype,"makesureFortune",null),Baidu_decorate([functionLog("刷视频")],Baidu.prototype,"swipeVideo",null),Baidu}(L),j=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),BaiduBig_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},I=function(t){function BaiduBig(){var e=t.call(this,Oe)||this;return e.appName=Re,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e.readRewardText="看视频/热搜赚金币",e.exitSign="现金收益",e}return j(BaiduBig,t),BaiduBig.prototype.highEff=function(){this.signIn(),this.openTreasure(),this.listenBook(),this.searchForCoin();for(var t=0;++t<=Bt&&this.watchAds(););this.openTreasure(),this.dailyReward()},BaiduBig.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),e.openTreasure(),e.listenReward(),e.swipeReward(),e.dailyReward()}))},BaiduBig.prototype.weight=function(){this.goto(-1),scrollTo("现金收益");var t=searchByOcrRecognize("[0-9]+",{bounds:{bottom:device.height/5}});if(void 0!==t){var e=parseInt(t.text);this.store(k.Weight,e)}},BaiduBig.prototype.listenBook=function(){this.goto(1);var t=text(random(1,4).toString()).findOnce();if(null!==t){var e=t.parent();null!==e&&(randomClick(e.bounds()),fixedClick("开始听书|续播")&&fixedClick("立即看视频领[0-9]+分钟")&&this.watch(text("看视频领免费时长")))}},BaiduBig.prototype.swipeVideo=function(t){this.goto(0),selectedClick("视频",170)&&(f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,10))},BaiduBig.prototype.listenReward=function(){this.goto(-1);for(var t=0;++t<=Bt&&scrollClick("领取",void 0,{clickUntilGone:!1});)this.watchAdsForCoin("现金收益")},BaiduBig.prototype.goto=function(t){-1===t?this.goTo(this.tab,3):this.goTo(this.tab,t)},BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"highEff",null),BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"lowEff",null),BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"weight",null),BaiduBig_decorate([functionLog("听书")],BaiduBig.prototype,"listenBook",null),BaiduBig_decorate([functionLog("看视频/热搜")],BaiduBig.prototype,"swipeVideo",null),BaiduBig_decorate([functionLog("听书赚金币")],BaiduBig.prototype,"listenReward",null),BaiduBig}(L),D=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),BaiduLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},P=function(t){function BaiduLite(){var e=t.call(this,Se)||this;return e.appName=Fe,e.initialNum=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,2400),e.lowEffEstimatedTime=0,e.exitSign="每日任务",e}return D(BaiduLite,t),BaiduLite.prototype.highEff=function(){this.signIn(),this.openTreasure();for(var t=0;++t<=Bt&&this.watchAds(););this.searchForCoin(),this.mealSupp(),this.openTreasure()},BaiduLite.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),e.openTreasure(),e.readReward()}))},BaiduLite.prototype.weight=function(){this.goto(4);var t=search("[0-9]+",{index:2});null!=t&&this.store(k.Weight,t.text)},BaiduLite.prototype.beforeDoTask=function(){dialogClick("立即领今日打款")&&closeByImageMatching()},BaiduLite.prototype.searchForCoin=function(){this.goto(2);for(var t=0;++t<=Bt&&scrollClick("随心搜","搜索赚金币.*");)waitRandomTime(15),this.backUntilFind(text("每日任务")),waitRandomTime(2),this.watchAdsForCoin("每日任务")},BaiduLite.prototype.readReward=function(){this.goto(2),fixedClick("立即收下");for(var t=0;++t<Bt&&scrollClick("可领"););},BaiduLite.prototype.mealSupp=function(){this.goto(2),scrollClick("去领取","吃饭补贴")&&fixedClick("(补签)?领取.*补贴")&&this.watch(textMatches(".*时间.*"))},BaiduLite.prototype.swipeVideo=function(t){if(this.goto(0),selectedClick("推荐",170))for(;t>0;){var e=random(10,30),o=random(10,30);moveDown(e,4),normalClick(device.width/2,device.height/2),randomMoveDown(o,5,20),t-=e,t-=o,this.backUntilFind(text("推荐"))}},BaiduLite.prototype.goto=function(t){-1===t&&(t=2),2==t&&1!==this.preNum?(this.goTo(this.tab,1),this.goTo(this.tab,2)):this.goTo(this.tab,t)},BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"highEff",null),BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"lowEff",null),BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"weight",null),BaiduLite_decorate([functionLog("搜索赚金币")],BaiduLite.prototype,"searchForCoin",null),BaiduLite_decorate([functionLog("看文章视频赚金币")],BaiduLite.prototype,"readReward",null),BaiduLite_decorate([functionLog("吃饭补贴")],BaiduLite.prototype,"mealSupp",null),BaiduLite_decorate([functionLog("刷视频")],BaiduLite.prototype,"swipeVideo",null),BaiduLite}(L),M=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),DeJian_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},z=function(t){function DeJian(){var e=t.call(this)||this;return e.appName=Qt,e.packageName=qt,e.initialComponent=desc("bookstore_button"),e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,Nt),e.medEffEstimatedTime=e.fetch(k.MedEffEstimatedTime,2700),e.lowEffEstimatedTime=0,e}return M(DeJian,t),DeJian.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.mealSupp()},function(){t.joinActivity()}])},DeJian.prototype.medEff=function(){var t=0;do{t%3==0&&this.openTreasure(),this.readBook(180),this.reward()}while(++t<Bt&&this.watchAds())},DeJian.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.watchAds(),e.openTreasure(),e.reward()}))},DeJian.prototype.weight=function(){this.goTo(desc("discovery_button"),-1),scrollTo("金币收益");var t=textEndsWith("币").findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},DeJian.prototype.readBook=function(t){this.goTo(desc("bookstore_button"),-1);var e=id(this.packageName+":id/channel_tab").findOnce();null!=e&&findAndClick("推荐",{fixed:!0,ocrRecognize:!0,bounds:e.bounds(),selectedThreshold:100})&&readClick(id("com.zhangyue.iReader.bookStore:id/id_tv_book_name"),random(0,5))&&this.read(t)},DeJian.prototype.reward=function(){this.goTo(desc("discovery_button"),-1);for(var t=0;++t<Bt&&scrollClick("领取","每日阅读福利",{clickUntilGone:!1});)this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching()},DeJian.prototype.signIn=function(){this.goTo(desc("discovery_button"),-1),(textStartsWith("成功签到").exists()||scrollClick("点击签到.+"))&&closeByImageMatching()},DeJian.prototype.mealSupp=function(){this.goTo(desc("discovery_button"),-1),scrollClick("点击领取")&&(this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching())},DeJian.prototype.watchAds=function(){return this.goTo(desc("discovery_button"),-1),!!scrollClick("去观看","看视频赚金币与声望")&&(this.watch(text("金币收益")),dialogClick("知道了")||closeByImageMatching(),!0)},DeJian.prototype.joinActivity=function(){this.goTo(desc("discovery_button"),-1),findAndClick("参与活动赚金币")&&(this.activity(),back())},DeJian.prototype.activity=function(){var t=id("com.zhangyue.module.ad:id/tv_reward_video_title").findOnce();if(null!=t){var e=t.text().match(/\((\d+)\/(\d+)\)/);if(e){for(var o=parseInt(e[1]);o<parseInt(e[2]);o++)findAndClick("看视频赚金币",{fixed:!0,clickUntilGone:!0}),f.log("参与活动, 正在观看".concat(o+1,"/").concat(e[2],"个广告")),this.watch(text("金币收益"));this.activity()}else f.log("活动已完成")}},DeJian.prototype.openTreasure=function(){this.goTo(desc("discovery_button"),-1),fixedClick("开宝箱得金币")&&(this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching())},DeJian_decorate([measureExecutionTime],DeJian.prototype,"highEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"medEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"lowEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"weight",null),DeJian_decorate([functionLog("阅读")],DeJian.prototype,"readBook",null),DeJian_decorate([functionLog("领取奖励")],DeJian.prototype,"reward",null),DeJian_decorate([functionLog("签到")],DeJian.prototype,"signIn",null),DeJian_decorate([functionLog("领取餐补")],DeJian.prototype,"mealSupp",null),DeJian_decorate([functionLog("看广告")],DeJian.prototype,"watchAds",null),DeJian_decorate([functionLog("参加活动")],DeJian.prototype,"joinActivity",null),DeJian_decorate([functionLog("开宝箱")],DeJian.prototype,"openTreasure",null),DeJian}(x),G=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractFreeNovel_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},V=function(t){function AbstractFreeNovel(e){var o=t.call(this)||this;return o.tab=id(e+":id/home_activity_navigation_bar"),o.initialComponent=o.tab,o.initialNum=1,o.highEffEstimatedTime=o.fetch(k.HighEffEstimatedTime,900),o.lowEffEstimatedTime=0,o.lowEffAssmitCount=2,o}return G(AbstractFreeNovel,t),AbstractFreeNovel.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.shopping()},function(){t.luckySpin()}])},AbstractFreeNovel.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t/2,1800,(function(t){return e.readBook(t),e.reward(),e.openTreasure(),t}));var o=!0;doFuncAtGivenTime(t/2,1800,(function(t){o?(e.listenBook(),o=!1):e.continueListen();var i=waitRandomTime(t);return e.reward(),e.openTreasure(),i}))},AbstractFreeNovel.prototype.weight=function(){if(this.goTo(this.tab,2),scrollTo("我的金币"),fixedClick("我的金币")){var t=textStartsWith("今日金币").findOnce();if(null!=t){var e=t.text().replace(",","").match(/[0-9]+/);if(e){var o=parseInt(e[0]);f.debug("".concat(this.constructor.name,":").concat(o)),this.store(k.Weight,o)}}}},AbstractFreeNovel.prototype.signIn=function(){this.goTo(this.tab,2),this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.openTreasure=function(){this.goTo(this.tab,2),ocrClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.watchAds=function(){this.goTo(this.tab,2),scrollClick("去观看","看小视频赚金币.*")&&(this.watch(text("日常福利")),scrollClick("领金币","看小视频赚金币.*"))},AbstractFreeNovel.prototype.shopping=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("去逛逛","逛街赚金币.*");)this.watch(text("日常福利")),scrollClick("领金币","逛街赚金币.*")},AbstractFreeNovel.prototype.readBook=function(t){this.openBook(),this.read(t)},AbstractFreeNovel.prototype.listenBook=function(){this.openBook(),id(this.packageName+":id/reader_listen_entry").exists()||normalClick(device.width/2,device.height/2),fixedClick(id(this.packageName+":id/reader_listen_entry"))&&(dialogClick("去看小视频")&&this.watch(text("边听边读")),goneClick("边听边读"))},AbstractFreeNovel.prototype.luckySpin=function(){if(this.goTo(this.tab,2),scrollClick("去抽奖","幸运大转盘.*")){var t=textStartsWith("今日剩余抽奖次数").findOnce();if(null!=t){var e=getNumFromComponent(t.text());f.debug("".concat(e));for(var o=0;o<e;o++)findAndClick("抽奖|看视频",{fixed:!0,ocrRecognize:!0,waitTimes:10,bounds:{bottom:2*device.height/3,top:device.height/3}})&&(this.watch(text("幸运大转盘")),findAndClick("好的",{fixed:!0,waitFor:!0,clickUntilGone:!0}))}}},AbstractFreeNovel.prototype.reward=function(){this.goTo(this.tab,2),this.watchAdsForCoin("日常福利");for(var t=0,e=0,o=["阅读赚金币.*","听书赚金币.*"];e<o.length;e++)for(var i=o[e];++t<Bt&&scrollClick("领金币",i,{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.continueListen=function(){id(this.packageName+":id/voice_rl").exists()?findAndClick(id(this.packageName+":id/voice_rl"))&&(dialogClick("去看小视频")&&this.watch(text("边听边读")),goneClick("边听边读")):this.listenBook()},AbstractFreeNovel.prototype.openBook=function(){this.goTo(this.tab,1),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tv_book_one_book_title"),random(0,3))},AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"highEff",null),AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"lowEff",null),AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"weight",null),AbstractFreeNovel_decorate([functionLog("签到")],AbstractFreeNovel.prototype,"signIn",null),AbstractFreeNovel_decorate([functionLog("开宝箱")],AbstractFreeNovel.prototype,"openTreasure",null),AbstractFreeNovel_decorate([functionLog("看视频")],AbstractFreeNovel.prototype,"watchAds",null),AbstractFreeNovel_decorate([functionLog("逛街")],AbstractFreeNovel.prototype,"shopping",null),AbstractFreeNovel_decorate([functionLog("阅读")],AbstractFreeNovel.prototype,"readBook",null),AbstractFreeNovel_decorate([functionLog("听书")],AbstractFreeNovel.prototype,"listenBook",null),AbstractFreeNovel_decorate([functionLog("幸运大转盘")],AbstractFreeNovel.prototype,"luckySpin",null),AbstractFreeNovel_decorate([functionLog("领取奖励")],AbstractFreeNovel.prototype,"reward",null),AbstractFreeNovel}(x),K=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),U=function(t){function EggplantFree(){var e=t.call(this,Zt)||this;return e.appName=$t,e.packageName=Zt,e}return K(EggplantFree,t),EggplantFree}(V),W=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShou_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Y=function(t){function KuaiShou(){var e=t.call(this)||this;return e.appName=ve,e.packageName=we,e.tab=id(e.packageName+":id/tab_layout"),e.initialComponent=e.tab,e.depth=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1200),e.lowEffEstimatedTime=0,e}return W(KuaiShou,t),KuaiShou.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.mealSupp()},function(){t.like()},function(){t.comment()},function(){text("收藏1个作品").exists()&&t.collect()},function(){t.like()},function(){t.comment()},function(){text("收藏1个作品").exists()&&t.collect()}])},KuaiShou.prototype.lowEff=function(t){var e=this,o=0;doFuncAtGivenTimeByEstimate(t/2,(function(){e.watchAds(),++o%25==0&&e.openTreasure()})),doFuncAtGivenTime(t/2,1500,(function(t){e.swipeVideo(t),e.openTreasure()})),this.reward()},KuaiShou.prototype.weight=function(){this.goto(-1),scrollTo("[0-9]+");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(549),resizeY(429)).findOnce();if(null!=t){var e=parseInt(t.text());f.debug("weight: ".concat(e)),this.store(k.Weight,e)}},KuaiShou.prototype.beforeDoTask=function(){findAndClick("首页",{fixed:!0})&&(this.initialNum=0)},KuaiShou.prototype.signIn=function(){this.goto(-1),dialogClick("立即领取")&&(this.watchAdsForCoin("日常任务"),closeByImageMatching())},KuaiShou.prototype.swipeVideo=function(t){this.goto(1),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,10)},KuaiShou.prototype.openTreasure=function(){this.goto(-1),fixedClick("立刻领[0-9]+金币")&&this.watchAdsForCoin("日常任务")},KuaiShou.prototype.watchAds=function(){return this.goto(-1),!!scrollClick("领福利 赚更多","看广告得.*金币",{clickUntilGone:!0,leftToRight:!0})&&(this.watch(text("日常任务")),!0)},KuaiShou.prototype.watchLive=function(){if(this.goto(-1),scrollClick("去观看 限时领","看直播得.*金币",{coverBoundsScaling:1.2,clickUntilGone:!0,leftToRight:!0})){for(var t=0;t<6;t++)swipeDown(b.Fast,1e3),waitRandomTime(2),findAndClick(id(this.packageName+":id/photo"),{index:random(0,3),waitTimes:40})&&this.backUntilFind(id(this.packageName+":id/photo"));this.backUntilFind(text("日常任务")),scrollClick("领金币 限时领","看直播得.*金币",{coverBoundsScaling:1.2,clickUntilGone:!0,leftToRight:!0})&&dialogClick("知道了")}},KuaiShou.prototype.mealSupp=function(){if(this.goto(-1),scrollClick("去查看|去领取","到饭点领饭补")){var t=0;for(fixedClick("领取饭补")&&this.watchAdsForCoin("看直播");++t<Bt&&fixedClick(".*待补签");)this.watch(text("已补签"))}},KuaiShou.prototype.like=function(){if(this.goto(-1),scrollClick("去点赞","点赞1个作品")){this.goto(1),this.first=!0,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Bt&&!fixedClick(id(this.packageName+":id/like_icon"));)swipeDown(b.Fast,400),waitRandomTime(2)}},KuaiShou.prototype.comment=function(){if(this.goto(-1),scrollClick("去评论","评论1个作品")){this.goto(1),this.first=!0,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Bt&&!fixedClick(id(this.packageName+":id/comment_icon"));)swipeDown(b.Fast,400),waitRandomTime(2);if(++t<Bt&&findAndClick(id(this.packageName+":id/editor_holder_text"),{fixed:!0,threshold:.5})){var e=id(this.packageName+":id/editor").findOnce();null!=e&&(e.setText("打卡"),waitRandomTime(3),fixedClick(id(this.packageName+":id/finish_button"))&&(fixedClick("忽略"),back()))}}},KuaiShou.prototype.collect=function(){if(this.goto(-1),scrollClick("去收藏","收藏1个作品")){this.goto(1),this.first=!0,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Bt&&!fixedClick(id(this.packageName+":id/collect_icon"));)swipeDown(b.Fast,400),waitRandomTime(2)}},KuaiShou.prototype.reward=function(){this.goto(-1),fixedClick("领取奖励")&&closeByImageMatching()},KuaiShou.prototype.goto=function(t){-1===t?this.first?(this.goTo(this.tab,0),fixedClick(id(this.packageName+":id/left_btn_parent"))&&fixedClick("任务中心")&&(this.first=!1)):this.backUntilFind(text("日常任务")):this.goTo(this.tab,t)},KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"highEff",null),KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"lowEff",null),KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"weight",null),KuaiShou_decorate([functionLog("签到")],KuaiShou.prototype,"signIn",null),KuaiShou_decorate([functionLog("刷视频")],KuaiShou.prototype,"swipeVideo",null),KuaiShou_decorate([functionLog("开宝箱")],KuaiShou.prototype,"openTreasure",null),KuaiShou_decorate([functionLog("看广告")],KuaiShou.prototype,"watchAds",null),KuaiShou_decorate([functionLog("看直播")],KuaiShou.prototype,"watchLive",null),KuaiShou_decorate([functionLog("领饭补")],KuaiShou.prototype,"mealSupp",null),KuaiShou_decorate([functionLog("点赞")],KuaiShou.prototype,"like",null),KuaiShou_decorate([functionLog("评论")],KuaiShou.prototype,"comment",null),KuaiShou_decorate([functionLog("收藏")],KuaiShou.prototype,"collect",null),KuaiShou_decorate([functionLog("领取奖励")],KuaiShou.prototype,"reward",null),KuaiShou}(x),H=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShouFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},X=function(t){function KuaiShouFree(){var e=t.call(this)||this;return e.coin=0,e.isFirst=!0,e.appName=be,e.packageName=Te,e.tab=id(e.packageName+":id/home_bottom_bar"),e.initialComponent=e.tab,e.initialNum=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1200),e.lowEffEstimatedTime=0,e}return H(KuaiShouFree,t),KuaiShouFree.prototype.highEff=function(){this.signIn(),this.coin=this.record(),this.openTreasure();for(var t=0;++t<Bt&&textMatches("看视频赚[0-9]+金币").exists();)this.watchAds()},KuaiShouFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},KuaiShouFree.prototype.weight=function(){var t=this.record()-this.coin;t>0&&this.store(k.Weight,t)},KuaiShouFree.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即签到")&&closeByImageMatching()},KuaiShouFree.prototype.watchAds=function(){this.goTo(this.tab,2),scrollClick("去赚钱","看视频赚[0-9]+金币")&&this.watch(text("日常任务"))},KuaiShouFree.prototype.openTreasure=function(){this.goTo(this.tab,2),fixedClick("点击领[0-9]+金币")&&this.watchAdsForCoin("日常任务")},KuaiShouFree.prototype.readBook=function(t){this.goTo(this.tab,1),fixedClick("领[0-9]+金币");var e=scrollTo(random(1,4).toString(),{waitFor:!0});void 0!==e&&findAndClick(className("android.widget.TextView"),{fixed:!0,bounds:{left:e.bounds.right,top:e.bounds.top,bottom:e.bounds.bottom+100}})&&this.read(t)},KuaiShouFree.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("去领取","认真阅读小说额外奖励");)this.watchAdsForCoin("日常任务")},KuaiShouFree.prototype.record=function(){this.goTo(this.tab,2);var t=searchByOcrRecognize("[0-9]+",{bounds:{bottom:device.height/5}}),e=(t[0],t[1]);return null!=e?parseInt(e):0},KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"highEff",null),KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"lowEff",null),KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"weight",null),KuaiShouFree_decorate([functionLog("签到")],KuaiShouFree.prototype,"signIn",null),KuaiShouFree_decorate([functionLog("看视频")],KuaiShouFree.prototype,"watchAds",null),KuaiShouFree_decorate([functionLog("开宝箱")],KuaiShouFree.prototype,"openTreasure",null),KuaiShouFree_decorate([functionLog("阅读")],KuaiShouFree.prototype,"readBook",null),KuaiShouFree_decorate([functionLog("领取奖励")],KuaiShouFree.prototype,"reward",null),KuaiShouFree}(x),J=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShouLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Q=function(t){function KuaiShouLite(){var e=t.call(this)||this;return e.moveFlag=!0,e.appName=ke,e.packageName=xe,e.tab=id(e.packageName+":id/tab_layout"),e.initialComponent=e.tab,e.initialNum=0,e.depth=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,300),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return J(KuaiShouLite,t),KuaiShouLite.prototype.highEff=function(){this.signIn(),this.openTreasure()},KuaiShouLite.prototype.lowEff=function(t){var e=this,o=0;doFuncAtGivenTimeByEstimate(t/2,(function(){e.watchAds(),++o%15==0&&e.openTreasure()})),doFuncAtGivenTime(t/2,600,(function(t){e.swipeVideo(t),e.openTreasure()}))},KuaiShouLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("我的金币",{coverBoundsScaling:1});var t=searchByOcrRecognize("[0-9]+");if(null!=t){var e=parseInt(t.text);f.debug("weight: ".concat(e)),this.store(k.Weight,e)}},KuaiShouLite.prototype.swipeVideo=function(t){this.goTo(this.tab,0),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,15)},KuaiShouLite.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即领取")&&(this.watchAdsForCoin("日常福利"),closeByImageMatching())},KuaiShouLite.prototype.watchAds=function(){return this.goTo(this.tab,2),!!scrollClick("领福利","看视频得[0-9]+金币")&&(this.watch(text("日常任务")),!0)},KuaiShouLite.prototype.watchLive=function(){if(this.goTo(this.tab,2),scrollClick("领福利","看6次直播领金币"))for(var t=0;t<6;t++)swipeDown(b.Fast,1e3),waitRandomTime(2),findAndClick(id(this.packageName+":id/play_view_container"),{index:random(0,3),waitTimes:70})&&this.backUntilFind(id(this.packageName+":id/play_view_container"))},KuaiShouLite.prototype.openTreasure=function(){if(this.goTo(this.tab,2),this.watchAdsForCoin("日常福利"),fixedClick("开宝箱得金币")){var t=search("恭喜你获得"),e=search("[0-9]+金币",{bounds:{top:null==t?void 0:t.bounds.bottom}});if(getNumFromComponent((null==e?void 0:e.text)||"0")<It)throw new w(this.appName+"账号异常");this.watchAdsForCoin("日常福利")}},KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"highEff",null),KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"lowEff",null),KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"weight",null),KuaiShouLite_decorate([functionLog("刷视频")],KuaiShouLite.prototype,"swipeVideo",null),KuaiShouLite_decorate([functionLog("签到")],KuaiShouLite.prototype,"signIn",null),KuaiShouLite_decorate([functionLog("看广告")],KuaiShouLite.prototype,"watchAds",null),KuaiShouLite_decorate([functionLog("看直播")],KuaiShouLite.prototype,"watchLive",null),KuaiShouLite_decorate([functionLog("开宝箱")],KuaiShouLite.prototype,"openTreasure",null),KuaiShouLite}(x),q=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),MarvelFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},$=function(t){function MarvelFree(){var e=t.call(this)||this;return e.appName=oe,e.packageName=ie,e.tab=id(e.packageName+":id/tab_layout"),e.initialComponent=e.tab,e.initialNum=0,e.depth=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,900),e.lowEffEstimatedTime=0,e}return q(MarvelFree,t),MarvelFree.prototype.highEff=function(){this.signIn(),this.openTreasure();for(var t=0;++t<Bt&&textMatches("看视频领金币.+").exists();)this.watchAds()},MarvelFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},MarvelFree.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches("[0-9]+").boundsInside(0,0,resizeX(582),resizeY(735)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},MarvelFree.prototype.signIn=function(){this.goTo(this.tab,2),textStartsWith("今日签到").exists()&&closeByImageMatching()},MarvelFree.prototype.openTreasure=function(){this.goTo(this.tab,2),fixedClick("开宝箱")&&this.watchAdsForCoin("日常福利")},MarvelFree.prototype.watchAds=function(){this.goTo(this.tab,2),textMatches("看视频领金币.+").exists()&&scrollClick("去领取","看视频领金币.+")&&this.watch(text("日常福利"))},MarvelFree.prototype.readBook=function(t){this.goTo(this.tab,0),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tv_book_name"),2*random(0,3))&&this.read(t)},MarvelFree.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("领金币","阅读领金币",{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"highEff",null),MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"lowEff",null),MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"weight",null),MarvelFree_decorate([functionLog("签到")],MarvelFree.prototype,"signIn",null),MarvelFree_decorate([functionLog("开宝箱")],MarvelFree.prototype,"openTreasure",null),MarvelFree_decorate([functionLog("看视频")],MarvelFree.prototype,"watchAds",null),MarvelFree_decorate([functionLog("阅读")],MarvelFree.prototype,"readBook",null),MarvelFree_decorate([functionLog("领取奖励")],MarvelFree.prototype,"reward",null),MarvelFree}(x),Z=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),tt=function(t){function PandaBrain(){var e=t.call(this,ee)||this;return e.appName=te,e.packageName=ee,e}return Z(PandaBrain,t),PandaBrain}(V),et=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ot=function(t){function AbstractTomato(){var e=t.call(this)||this;return e.moveFlag=!0,e.exchangeRate=33e3,e}return et(AbstractTomato,t),AbstractTomato.prototype.sign=function(){if(findAndClick("立即签到.+",{fixed:!0,feedback:!0,disableGrayCheck:!0}),findAndClick("看视频立即续签|额外领[0-9]+金币",{fixed:!0})&&(this.watch(textMatches(merge(["日常福利","看视频立即续签"]))),text("看视频立即续签").exists()))throw new w(this.appName);this.watchAdsForCoin("日常福利")},AbstractTomato.prototype.open=function(){fixedClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},AbstractTomato.prototype.scrollClick=function(t,e,o){for(var i=0;++i<Bt&&void 0===search(e);)this.move();return!(i>=Bt)&&scrollClick(t,e,{clickUntilGone:o})},AbstractTomato.prototype.move=function(){var t=search("金币献爱心",{waitFor:!0});this.moveFlag?swipeDown(b.Fast,1e3):swipeUp(b.Fast,1e3),waitRandomTime(2);var e=search("金币献爱心",{waitFor:!0});(null==t?void 0:t.bounds.top)===(null==e?void 0:e.bounds.top)&&(closeByImageMatching()||(this.moveFlag=!this.moveFlag))},AbstractTomato}(x),it=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),RedFruits_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},nt=function(t){function RedFruits(){var e=t.call(this)||this;return e.list=["阅读赚金币"],e.appName=Xt,e.packageName=Jt,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1200),e.initialComponent=text("首页"),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return it(RedFruits,t),RedFruits.prototype.highEff=function(){this.signIn(),this.openTreasure();for(var t=0;++t<Bt&&text("立即领取").findOne(6e4);)this.watchAds();this.mealSupp()},RedFruits.prototype.lowEff=function(t){var e=this;this.goTo(text("福利"),-1);var o=!1;textMatches("看短剧(自动)?赚金币").exists()&&(textMatches("看短剧赚金币").exists()&&this.list.push("看短剧赚金币"),o=!0),doFuncAtGivenTime(t/2,600,(function(t){o?e.swipeVideo(t):e.readBook(t),e.openTreasure(),e.reward()})),doFuncAtGivenTime(t/2,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},RedFruits.prototype.weight=function(){if(this.goTo(text("福利"),-1),scrollClick("金币收益")){var t=textMatches("[0-9]+").findOnce();if(null!=t){var e=parseInt(t.text());f.debug("".concat(e)),this.store(k.Weight,e)}}},RedFruits.prototype.swipeVideo=function(t){if(this.goTo(text("首页"),-1),selectedClick("推荐",170)&&findAndClick(className("android.widget.ImageView"),{waitFor:!0,fixed:!0,index:random(0,17)})){f.log("计划时间: ".concat(convertSecondsToMinutes(t),"分钟"));for(var e=0;t>e;)textMatches(merge(["上滑查看下一集","上滑继续观看短剧"])).exists()&&gesture(1e3,[resizeX(random(380,420)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(250,350))]),e+=waitRandomTime(30)}},RedFruits.prototype.readBook=function(t){if(this.goTo(text("首页"),-1),selectedClick("经典",170)){var e=search(random(1,4).toString());findAndClick(className("android.widget.TextView"),{bounds:{top:null==e?void 0:e.bounds.top,left:null==e?void 0:e.bounds.right}})&&this.read(t)}},RedFruits.prototype.reward=function(){this.goTo(text("福利"),-1);for(var t=0,e=0,o=this.list;e<o.length;e++)for(var i=o[e];++t<Bt&&scrollClick("立即领取",i,{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},RedFruits.prototype.readReward=function(){this.goTo(text("福利"),-1);for(var t=0;++t<Bt&&scrollClick("立即领取","阅读赚金币",{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},RedFruits.prototype.swipeReward=function(){this.goTo(text("福利"),-1);for(var t=0;++t<Bt&&scrollClick("立即领取","看短剧赚金币",{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},RedFruits.prototype.signIn=function(){this.goTo(text("福利"),-1),this.sign(),scrollClick("去签到","签到领金币|明日签到",{clickUntilGone:!1})&&this.sign()},RedFruits.prototype.watchAds=function(){this.goTo(text("福利"),-1),scrollClick("立即领取","看视频赚海量金币")&&this.watch(text("日常福利"))},RedFruits.prototype.openTreasure=function(){this.goTo(text("福利"),-1),this.open()},RedFruits.prototype.mealSupp=function(){if(this.goTo(text("福利"),-1),scrollClick("去领取","吃饭补贴")){fixedClick("领.*补贴[0-9]+金币")&&this.watchAdsForCoin("已按时吃饭.*天");for(var t=0;++t<Bt&&fixedClick("看视频补领一次补贴");)this.watch(textMatches("已按时吃饭.*天|恭喜获得")),this.watchAdsForCoin("已按时吃饭.*天")}},RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"highEff",null),RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"lowEff",null),RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"weight",null),RedFruits_decorate([functionLog("刷短剧")],RedFruits.prototype,"swipeVideo",null),RedFruits_decorate([functionLog("阅读")],RedFruits.prototype,"readBook",null),RedFruits_decorate([functionLog("领取奖励")],RedFruits.prototype,"reward",null),RedFruits_decorate([functionLog("阅读赚金币")],RedFruits.prototype,"readReward",null),RedFruits_decorate([functionLog("签到")],RedFruits.prototype,"signIn",null),RedFruits_decorate([functionLog("看广告")],RedFruits.prototype,"watchAds",null),RedFruits_decorate([functionLog("开宝箱")],RedFruits.prototype,"openTreasure",null),RedFruits_decorate([functionLog("吃饭补贴")],RedFruits.prototype,"mealSupp",null),RedFruits}(ot),rt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),SevenCatsFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},ct=function(t){function SevenCatsFree(){var e=t.call(this,le)||this;return e.appName=se,e.packageName=le,e}return rt(SevenCatsFree,t),SevenCatsFree.prototype.weight=function(){this.goTo(this.tab,2);var t=textMatches(".*今日金币.*").findOnce();if(null!=t){var e=t.text().match(/[0-9]+今日金币/);if(e){var o=parseInt(e[0]);this.store(k.Weight,o)}}},SevenCatsFree.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即签到.+"),this.watchAdsForCoin("日常福利")},SevenCatsFree_decorate([measureExecutionTime],SevenCatsFree.prototype,"weight",null),SevenCatsFree_decorate([functionLog("签到")],SevenCatsFree.prototype,"signIn",null),SevenCatsFree}(V),at=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ShuQi_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},st=function(t){function ShuQi(){var e=t.call(this)||this;return e.appName=ce,e.packageName=ae,e.tab=id("android:id/tabs"),e.initialComponent=e.tab,e.initialNum=1,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,900),e.lowEffEstimatedTime=0,e}return at(ShuQi,t),ShuQi.prototype.highEff=function(){this.signIn(),this.watchAds(),this.reward()},ShuQi.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.readBook(t),e.reward()}))},ShuQi.prototype.weight=function(){this.goTo(this.tab,4);var t=id(this.packageName+":id/account_worth_money").findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},ShuQi.prototype.signIn=function(){this.goTo(this.tab,2),(dialogClick("立即签到")||scrollClick("去签到","每日签到")&&dialogClick("立即签到"))&&(closeByImageMatching(),closeByImageMatching())},ShuQi.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Bt&&scrollClick("去观看","看视频赚[0-9]+金币");)this.watch(text("做任务 赚金币"))},ShuQi.prototype.readBook=function(t){this.goTo(this.tab,1),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tpl_book_name"),2*random(0,3))&&this.read(t)},ShuQi.prototype.reward=function(){this.goTo(this.tab,2),scrollClick("(一键|加倍)收取")&&(this.watchAdsForCoin("做任务 赚金币"),dialogClick("领取加倍奖励"),closeByImageMatching())},ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"highEff",null),ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"lowEff",null),ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"weight",null),ShuQi_decorate([functionLog("签到")],ShuQi.prototype,"signIn",null),ShuQi_decorate([functionLog("看视频")],ShuQi.prototype,"watchAds",null),ShuQi_decorate([functionLog("阅读")],ShuQi.prototype,"readBook",null),ShuQi_decorate([functionLog("领取奖励")],ShuQi.prototype,"reward",null),ShuQi}(x),lt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),SpeedFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},ut=function(t){function SpeedFree(){var e=t.call(this)||this;return e.appName=ne,e.packageName=re,e.initialComponent=desc("bookstore_button"),e.exchangeRate=33e3,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,1200),e.medEffEstimatedTime=e.fetch(k.MedEffEstimatedTime,6e3),e.lowEffEstimatedTime=0,e}return lt(SpeedFree,t),SpeedFree.prototype.highEff=function(){this.signIn()},SpeedFree.prototype.medEff=function(){this.listenBook(),this.openTreasure();for(var t=0;++t<Bt&&text("去观看").exists();)this.watchAds();this.reward()},SpeedFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.listenBook(),e.readBook(t),e.openTreasure(),e.reward()}))},SpeedFree.prototype.weight=function(){this.goTo(desc("discovery_button"),-1),scrollTo("金币收益");var t=textMatches("[0-9]+").boundsInside(0,0,resizeX(420),resizeY(432)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},SpeedFree.prototype.signIn=function(){this.goTo(desc("discovery_button"),-1),dialogClick("立即签到.+")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.openTreasure=function(){this.goTo(desc("discovery_button"),-1),fixedClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.watchAds=function(){this.goTo(desc("discovery_button"),-1),scrollClick("去观看","看视频赚金币")&&(this.watch(text("日常福利")),this.watchAdsForCoin("日常福利"))},SpeedFree.prototype.readBook=function(t){this.goTo(desc("bookstore_button"),-1);var e=id("com.dj.speed:id/channel_tab").findOnce();null!=e&&findAndClick("推荐",{fixed:!0,ocrRecognize:!0,bounds:e.bounds(),selectedThreshold:100})&&readClick(id("com.zhangyue.iReader.bookStore:id/iv_book"),random(0,5))&&this.read(t)},SpeedFree.prototype.listenBook=function(){this.goTo(desc("bookstore_button"),-1);var t=id("com.dj.speed:id/channel_tab").findOnce();null!=t&&findAndClick("听书",{fixed:!0,ocrRecognize:!0,bounds:t.bounds(),selectedThreshold:100})&&findAndClick(id("com.zhangyue.iReader.bookStore:id/id_audition_btn"),{index:random(0,7)})&&(fixedClick("确定"),dialogClick(merge(["看视频","看广告加时长"]))&&this.watch(desc("bookstore_button")))},SpeedFree.prototype.mealSupp=function(){this.goTo(desc("discovery_button"),-1),scrollClick("立即领取","吃饭赚钱")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.reward=function(){this.goTo(desc("discovery_button"),-1);for(var t=0,e=0,o=["阅读赚海量金币","听书赚海量金币"];e<o.length;e++)for(var i=o[e];++t<Bt&&scrollClick("领取",i,{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"highEff",null),SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"medEff",null),SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"lowEff",null),SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"weight",null),SpeedFree_decorate([functionLog("签到")],SpeedFree.prototype,"signIn",null),SpeedFree_decorate([functionLog("开宝箱")],SpeedFree.prototype,"openTreasure",null),SpeedFree_decorate([functionLog("看广告")],SpeedFree.prototype,"watchAds",null),SpeedFree_decorate([functionLog("阅读")],SpeedFree.prototype,"readBook",null),SpeedFree_decorate([functionLog("听书")],SpeedFree.prototype,"listenBook",null),SpeedFree_decorate([functionLog("领饭补")],SpeedFree.prototype,"mealSupp",null),SpeedFree_decorate([functionLog("领取奖励")],SpeedFree.prototype,"reward",null),SpeedFree}(x),ft=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),pt=function(t){function StarrySky(){var e=t.call(this,de)||this;return e.appName=pe,e.packageName=de,e}return ft(StarrySky,t),StarrySky}(V),dt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractTikTok_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},ht=function(t){function AbstractTikTok(){var e=t.call(this)||this;return e.moveFlag=!0,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,600),e.medEffEstimatedTime=e.fetch(k.MedEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e}return dt(AbstractTikTok,t),AbstractTikTok.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.shopping()}])},AbstractTikTok.prototype.medEff=function(){this.watchLive()},AbstractTikTok.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),randomExecute([function(){e.openTreasure()},function(){e.watchAds()},function(){e.shopping()}])}))},AbstractTikTok.prototype.scrollOcrClick=function(t,e){for(var o=0;++o<Bt&&void 0===searchByOcrRecognize(e);)this.move();if(o>=Bt)return!1;var i=searchByOcrRecognize(e);return!(void 0!==i&&!findAndClick(t,{fixed:!0,ocrRecognize:!0,bounds:{top:i.bounds.top,bottom:i.bounds.bottom+80}}))||(this.move(),this.scrollOcrClick(t,e))},AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"highEff",null),AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"medEff",null),AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"lowEff",null),AbstractTikTok}(x),gt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TikTokLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},mt=function(t){function TikTokLite(){var e=t.call(this)||this;return e.appName=he,e.packageName=ge,e.tab=id(e.packageName+":id/root_view"),e.initialComponent=e.tab,e.initialNum=0,e}return gt(TikTokLite,t),TikTokLite.prototype.move=function(){this.moveFlag?swipeDown(b.Fast,1e3):swipeUp(b.Fast,1e3),waitRandomTime(2),void 0!==searchByOcrRecognize("日常任务")&&(this.moveFlag=!0),void 0!==searchByOcrRecognize("已经到底了")&&(this.moveFlag=!1)},TikTokLite.prototype.weight=function(){for(this.goto(-1);void 0===searchByOcrRecognize("金币收益.*");)this.move();var t=searchByOcrRecognize("金币收益.*"),e=(t[0],getNumFromComponent(t[1]));if(0===e){var o=searchByOcrRecognize("[0-9]+");o[0];e=getNumFromComponent(o[1])}this.store(k.Weight,e)},TikTokLite.prototype.signIn=function(){this.goto(-1),dialogClick("立即签到.+|立即领取.+")&&this.watchAdsForCoin("首页")},TikTokLite.prototype.openTreasure=function(){this.goto(-1),findAndClick(".?开宝箱得金币",{ocrRecognize:!0,bounds:{top:4*device.height/5,left:device.width/3}})&&this.watchAdsForCoin("首页")},TikTokLite.prototype.watchAds=function(){this.goto(-1),this.scrollOcrClick(".?去领取.?","看广告赚金币.*")&&this.watch(text("首页"))},TikTokLite.prototype.watchLive=function(){if(this.goto(-1),this.scrollOcrClick(".?去看看.?","看直播开宝箱.*")){for(;textMatches(".*后可开|开宝箱").exists();){var t=text("开宝箱").findOne(18e4);if(null==t)break;randomClick(t.bounds()),closeByImageMatching()}this.backUntilFind(text("首页"))}},TikTokLite.prototype.shoppingHot=function(){this.goto(-1),this.scrollOcrClick(".?去抢购.?",".?浏览爆款得金币.*")&&(moveDown(130,2),this.backUntilFind(text("首页")))},TikTokLite.prototype.shopping=function(){this.goto(-1),this.scrollOcrClick(".?去.?街.?",".?街赚钱.*")&&(moveDown(65,4),this.backUntilFind(text("首页")))},TikTokLite.prototype.swipeVideo=function(t){this.goto(0),moveDown(t,10)},TikTokLite.prototype.goto=function(t){var e=search(className("android.widget.HorizontalScrollView"),{waitFor:!0});if(void 0!==e){var o=(e.bounds.top+e.bounds.bottom)/2;this.goTo(this.tab,0),-1===t?o<500?findAndClick(className("android.widget.FrameLayout"),{fixed:!0,bounds:{top:o,bottom:device.height/3,left:2*device.width/3}}):this.backUntilFind(this.tab):0===t&&o>500&&back()}},TikTokLite_decorate([measureExecutionTime],TikTokLite.prototype,"weight",null),TikTokLite_decorate([functionLog("签到")],TikTokLite.prototype,"signIn",null),TikTokLite_decorate([functionLog("开宝箱")],TikTokLite.prototype,"openTreasure",null),TikTokLite_decorate([functionLog("看视频")],TikTokLite.prototype,"watchAds",null),TikTokLite_decorate([functionLog("看直播")],TikTokLite.prototype,"watchLive",null),TikTokLite_decorate([functionLog("浏览爆款")],TikTokLite.prototype,"shoppingHot",null),TikTokLite_decorate([functionLog("逛街")],TikTokLite.prototype,"shopping",null),TikTokLite_decorate([functionLog("刷视频")],TikTokLite.prototype,"swipeVideo",null),TikTokLite}(ht),yt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TikTokVolcano_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},vt=function(t){function TikTokVolcano(){var e=t.call(this)||this;return e.appName=me,e.packageName=ye,e.initialComponent=text("首页"),e.exchangeRate=3e4,e}return yt(TikTokVolcano,t),TikTokVolcano.prototype.weight=function(){for(this.goto();void 0===searchByOcrRecognize("今日领取火苗.*");)this.move();var t=searchByOcrRecognize("今日领取火苗.*"),e=(t[0],getNumFromComponent(t[1]));this.store(k.Weight,e)},TikTokVolcano.prototype.signIn=function(){this.goto(),this.watchAdsForCoin("我的赠送榜")},TikTokVolcano.prototype.openTreasure=function(){this.goto(),findAndClick(".?开宝箱得火苗.?",{ocrRecognize:!0,fixed:!0,feedback:!0})&&this.watchAdsForCoin("我的赠送榜")},TikTokVolcano.prototype.watchAds=function(){this.goto(),this.scrollOcrClick(".?去领取.?","限时任务赚火苗.*")&&this.watch(text("我的赠送榜"))},TikTokVolcano.prototype.shopping=function(){this.goto(),this.scrollOcrClick(".?去.?街.?",".?街得火苗.*")&&(moveDown(65,4),this.backUntilFind(text("我的赠送榜")))},TikTokVolcano.prototype.watchLive=function(){if(this.goto(),this.scrollOcrClick(".?去看看.?","看直播领火苗.*")){for(;textEndsWith("后可开").exists();){var t=text("开宝箱").findOne(18e4);if(null==t)break;randomClick(t.bounds()),dialogClick("收下火苗")}this.backUntilFind(text("我的赠送榜"))}},TikTokVolcano.prototype.swipeVideo=function(t){this.goTo(text("首页"),-1),moveDown(t,10)},TikTokVolcano.prototype.move=function(){var t=search("我的赠送榜",{waitFor:!0});this.moveFlag?swipeDown(b.Fast,1e3):swipeUp(b.Fast,1e3),waitRandomTime(2);var e=search("我的赠送榜",{waitFor:!0});(null==t?void 0:t.bounds.top)===(null==e?void 0:e.bounds.top)&&(closeByImageMatching()||(this.moveFlag=!this.moveFlag))},TikTokVolcano.prototype.goto=function(){text("首页").exists()?(this.goTo(text("首页"),-1),fixedClick(desc("侧边栏"))&&fixedClick("火苗")):this.backUntilFind(text("我的赠送榜"))},TikTokVolcano_decorate([measureExecutionTime],TikTokVolcano.prototype,"weight",null),TikTokVolcano_decorate([functionLog("签到")],TikTokVolcano.prototype,"signIn",null),TikTokVolcano_decorate([functionLog("开宝箱")],TikTokVolcano.prototype,"openTreasure",null),TikTokVolcano_decorate([functionLog("看广告")],TikTokVolcano.prototype,"watchAds",null),TikTokVolcano_decorate([functionLog("逛街")],TikTokVolcano.prototype,"shopping",null),TikTokVolcano_decorate([functionLog("看直播")],TikTokVolcano.prototype,"watchLive",null),TikTokVolcano_decorate([functionLog("刷视频")],TikTokVolcano.prototype,"swipeVideo",null),TikTokVolcano}(ht),wt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),Tomato_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},bt=function(t){function Tomato(){var e=t.call(this)||this;return e.appName=Vt,e.packageName=Kt,e.randomTab=className("android.widget.RadioGroup").boundsInside(0,2*device.height/3,device.width,device.height),e.initialNum=0,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,Nt),e.medEffEstimatedTime=e.fetch(k.MedEffEstimatedTime,5400),e.lowEffEstimatedTime=0,e}return wt(Tomato,t),Tomato.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.winGoldCoin()},function(){t.listenBook()},function(){t.watchAds()}])},Tomato.prototype.medEff=function(){var t=0;do{this.readBook(180),t%3==0&&this.openTreasure()}while(++t<Bt&&this.watchAds());this.reward()},Tomato.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.watchAds(),e.openTreasure(),e.reward()}))},Tomato.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(535),resizeY(627)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},Tomato.prototype.signIn=function(){this.goTo(this.tab,2),this.sign(),this.scrollClick("立即签到","(明日)?签到",!1)&&this.sign()},Tomato.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0,e=0,o=["听书赚金币","阅读赚金币","听书额外存金币"];e<o.length;e++)for(var i=o[e];++t<Bt&&this.scrollClick("(?:立即|翻倍)领取",i,!1);)this.watchAdsForCoin("日常福利")},Tomato.prototype.listenBook=function(){this.goTo(this.tab,0),this.openBook("开始播放|续播"),fixedClick("看视频领时长")&&this.watch(text("看视频领时长"))},Tomato.prototype.readBook=function(t){this.goTo(this.tab,0),this.openBook("阅读电子书"),this.read(t)},Tomato.prototype.openBook=function(t){if(selectedClick("推荐",170))for(var e=1;e<5;e++){var o=search(e.toString());if(findAndClick(className("android.widget.TextView"),{bounds:{top:null==o?void 0:o.bounds.top,left:null==o?void 0:o.bounds.right}})){if(fixedClick(t))break;back(),waitRandomTime(4)}}},Tomato.prototype.watchAds=function(){return this.goTo(this.tab,2),!!this.scrollClick("立即观看","看视频赚金币",!0)&&(this.watch(text("日常福利")),null!=text("立即观看").findOne(1e4)&&this.watchAds(),!0)},Tomato.prototype.openTreasure=function(){this.goTo(this.tab,2),this.open()},Tomato.prototype.winGoldCoin=function(){if(this.goTo(this.tab,2),this.scrollClick("去抽奖","天天抽奖赢金币",!0)&&findAndClick("抽奖",{fixed:!0,waitTimes:10}))for(var t=0;++t<Bt&&scrollClick("待领取",void 0,{clickUntilGone:!1});)this.watchAdsForCoin("已领取")},Tomato_decorate([measureExecutionTime],Tomato.prototype,"highEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"medEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"lowEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"weight",null),Tomato_decorate([functionLog("签到")],Tomato.prototype,"signIn",null),Tomato_decorate([functionLog("领取奖励")],Tomato.prototype,"reward",null),Tomato_decorate([functionLog("听书")],Tomato.prototype,"listenBook",null),Tomato_decorate([functionLog("阅读")],Tomato.prototype,"readBook",null),Tomato_decorate([functionLog("看广告")],Tomato.prototype,"watchAds",null),Tomato_decorate([functionLog("开宝箱")],Tomato.prototype,"openTreasure",null),Tomato_decorate([functionLog("抽奖赢金币")],Tomato.prototype,"winGoldCoin",null),Tomato}(ot),Tt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TomatoFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},kt=function(t){function TomatoFree(){var e=t.call(this)||this;return e.appName=Ut,e.packageName=Wt,e.initialNum=0,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,2100),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return Tt(TomatoFree,t),TomatoFree.prototype.reSearchTab=function(){var t=search("我的",{waitFor:!0,fixed:!0});if(void 0!==t){var e=className("android.view.ViewGroup").clickable(!1).boundsInside(0,2*device.height/3,device.width,device.height).boundsContains(100,t.bounds.top,device.width-100,t.bounds.top).findOnce();if(null===e)throw"id定位失败";this.tab=id(e.id()),this.initialComponent=this.tab,f.debug("".concat(this.tab))}},TomatoFree.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.mealSupp()},function(){t.listenBook();for(var e=0;++e<Bt&&text("看视频赚金币").findOne(3e4);)t.watchAds()}]),this.reward()},TomatoFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t/2,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()})),doFuncAtGivenTime(t/2,600,(function(t){e.swipeVideo(t),e.openTreasure(),e.reward()}))},TomatoFree.prototype.weight=function(){this.goto(),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(581),resizeY(567)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},TomatoFree.prototype.signIn=function(){this.goto(),this.sign(),this.scrollClick("去签到","签到领金币|明日签到",!1)&&this.sign()},TomatoFree.prototype.listenBook=function(){if(this.goTo(this.tab,0),selectedClick("听书",170))for(var t=1;t<5;t++){var e=search(t.toString());if(findAndClick(className("android.widget.TextView"),{bounds:{top:null==e?void 0:e.bounds.top,left:null==e?void 0:e.bounds.right}})){if(fixedClick("全部播放|续播"))break;back(),waitRandomTime(4)}}},TomatoFree.prototype.mealSupp=function(){this.goto(),this.scrollClick("去领取","吃饭补贴",!0)&&fixedClick("领取.*补贴[0-9]+金币")&&this.watchAdsForCoin("日常福利")},TomatoFree.prototype.readBook=function(t){if(this.goTo(this.tab,0),selectedClick("推荐",170)){for(var e=1;e<5;e++){var o=search(e.toString());if(findAndClick(className("android.widget.TextView"),{bounds:{top:null==o?void 0:o.bounds.top,left:null==o?void 0:o.bounds.right}})){if(!text("阅读电子书").exists())break;back(),waitRandomTime(4)}}this.read(t)}},TomatoFree.prototype.reward=function(){this.goto();for(var t=0,e=0,o=["阅读赚金币","听书赚金币","看短剧赚金币"];e<o.length;e++)for(var i=o[e];++t<Bt&&this.scrollClick("立即领取",i,!1);)this.watchAdsForCoin("日常福利")},TomatoFree.prototype.watchAds=function(){this.goto(),this.scrollClick("立即领取","看视频赚金币",!0)&&this.watch(text("日常福利"))},TomatoFree.prototype.swipeVideo=function(t){if(this.goTo(this.tab,0),selectedClick("看剧",170)&&findAndClick(className("android.widget.ImageView"),{fixed:!0,index:random(2,13)})){f.log("计划时间: ".concat(convertSecondsToMinutes(t),"分钟"));for(var e=0;t>e;)textMatches(merge(["上滑查看下一集","上滑继续观看短剧"])).exists()&&swipeDown(b.Fast,200),e+=waitRandomTime(30)}},TomatoFree.prototype.openTreasure=function(){this.goto(),this.open()},TomatoFree.prototype.goto=function(){6===this.backUntilFind(this.tab).childCount()?this.goTo(this.tab,3):this.goTo(this.tab,2)},TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"highEff",null),TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"lowEff",null),TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"weight",null),TomatoFree_decorate([functionLog("签到")],TomatoFree.prototype,"signIn",null),TomatoFree_decorate([functionLog("听书")],TomatoFree.prototype,"listenBook",null),TomatoFree_decorate([functionLog("领取餐补")],TomatoFree.prototype,"mealSupp",null),TomatoFree_decorate([functionLog("阅读")],TomatoFree.prototype,"readBook",null),TomatoFree_decorate([functionLog("领取奖励")],TomatoFree.prototype,"reward",null),TomatoFree_decorate([functionLog("看视频")],TomatoFree.prototype,"watchAds",null),TomatoFree_decorate([functionLog("看短剧")],TomatoFree.prototype,"swipeVideo",null),TomatoFree_decorate([functionLog("开宝箱")],TomatoFree.prototype,"openTreasure",null),TomatoFree}(ot),xt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TomatoLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},_t=function(t){function TomatoLite(){var e=t.call(this)||this;return e.appName=Yt,e.packageName=Ht,e.randomTab=className("android.widget.RadioGroup").boundsInside(0,2*device.height/3,device.width,device.height),e.initialNum=0,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,600),e.medEffEstimatedTime=e.fetch(k.MedEffEstimatedTime,2700),e}return xt(TomatoLite,t),TomatoLite.prototype.highEff=function(){this.signIn(),this.openTreasure()},TomatoLite.prototype.medEff=function(){var t=this;randomExecute([function(){t.mealSupp()},function(){t.winGoldCoin()},function(){t.listenBook();for(var e=0;++e<Bt&&text("立即观看").findOne(18e4);)t.watchAds()}]),this.reward()},TomatoLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(540),resizeY(373)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(k.Weight,e)}},TomatoLite.prototype.signIn=function(){this.goTo(this.tab,2),this.sign(),scrollClick("立即签到","签到",{clickUntilGone:!1})&&this.sign()},TomatoLite.prototype.listenBook=function(){if(this.goTo(this.tab,0),selectedClick("音乐",170)){var t=search(className("android.widget.ImageView"),{bounds:{top:device.height/3},index:random(0,4)});findAndClick(className("android.widget.TextView").boundsInside(0,(null==t?void 0:t.bounds.top)||0,device.width,(null==t?void 0:t.bounds.bottom)||device.height))&&fixedClick("看视频领时长")&&this.watch(text("看视频领时长"))}},TomatoLite.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0,e=0,o=["听音乐赚金币","每日听歌赚钱"];e<o.length;e++)for(var i=o[e];++t<Bt&&scrollClick("立即领取",i,{clickUntilGone:!1});)this.watchAdsForCoin("日常福利")},TomatoLite.prototype.mealSupp=function(){this.goTo(this.tab,2),scrollClick("去领取","吃饭补贴")&&dialogClick("领取.*补贴[0-9]金币")&&this.watchAdsForCoin("日常福利")},TomatoLite.prototype.watchAds=function(){this.goTo(this.tab,2),scrollClick("立即观看","看视频赚金币")&&this.watch(text("日常福利"))},TomatoLite.prototype.openTreasure=function(){this.goTo(this.tab,2),this.open()},TomatoLite.prototype.winGoldCoin=function(){if(this.goTo(this.tab,2),scrollClick("去抽奖","天天抽奖赢金币"))for(var t=0;++t<Bt&&findAndClick("抽奖",{fixed:!0,waitTimes:10})&&!dialogClick("开心收下");)this.watchAdsForCoin("日常福利")},TomatoLite_decorate([measureExecutionTime],TomatoLite.prototype,"highEff",null),TomatoLite_decorate([measureExecutionTime],TomatoLite.prototype,"medEff",null),TomatoLite_decorate([measureExecutionTime],TomatoLite.prototype,"weight",null),TomatoLite_decorate([functionLog("签到")],TomatoLite.prototype,"signIn",null),TomatoLite_decorate([functionLog("听书")],TomatoLite.prototype,"listenBook",null),TomatoLite_decorate([functionLog("领取奖励")],TomatoLite.prototype,"reward",null),TomatoLite_decorate([functionLog("领取餐补")],TomatoLite.prototype,"mealSupp",null),TomatoLite_decorate([functionLog("看广告")],TomatoLite.prototype,"watchAds",null),TomatoLite_decorate([functionLog("开宝箱")],TomatoLite.prototype,"openTreasure",null),TomatoLite_decorate([functionLog("去抽奖")],TomatoLite.prototype,"winGoldCoin",null),TomatoLite}(ot),Ct=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),WanChao_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Et=function(t){function WanChao(){var e=t.call(this)||this;return e.appName=ue,e.packageName=fe,e.highEffEstimatedTime=e.fetch(k.HighEffEstimatedTime,Nt),e}return Ct(WanChao,t),WanChao.prototype.highEff=function(){this.readForMoney()},WanChao.prototype.weight=function(){this.store(k.Weight,0)},WanChao.prototype.readForMoney=function(){if(findAndClick("阅读有礼")){for(var t=0;++t<Bt&&text("请完成安全验证").exists();)this.overDetection(),waitRandomTime(4);for(;++t<Bt&&findAndClick("待完成",{waitTimes:10,disableCheckBeforeClick:!0});)back(),waitRandomTime(4);if(fixedClick("抽奖")){var e=idContains("nc_1_n1z").findOnce();if(null!=e&&(swipe(e.bounds().centerX(),e.bounds().centerY(),device.width,e.bounds().centerY()+random(-25,0),100),waitRandomTime(3)),findAndClick("抽奖",{ocrRecognize:!0,bounds:{top:200}})){var o=textMatches("[0-9]+.[0-9]+元").boundsInside(resizeX(108),resizeY(1140),resizeX(972),resizeY(1323)).findOnce();null!=o&&(f.log("中奖".concat(o.text())),this.store(k.Weight,parseFloat(o.text())*this.exchangeRate))}}}},WanChao.prototype.overDetection=function(){var t=id("tf-verify-canvas").findOnce(),e=resizeX(123),o=resizeX(957),i=resizeY(1065);null!=t&&(e=t.bounds().left,o=t.bounds().right,i=t.bounds().top);for(var n=getScreenImage(),r=1e4,c=0,a=e;a<o;a++){for(var s=0,l=a;l<a+120;l++){var u=images.pixel(n,l,i+150),f=colors.red(u),p=colors.green(u),d=colors.blue(u);s+=this.isGrayColor(f,p,d)}s<r&&(r=s,c=a)}var h=className("android.view.View").depth(14).drawingOrder(0).boundsInside(100,1400,300,1600).findOnce();if(null!=h){var g=(h.bounds().left+h.bounds().right)/2,m=(h.bounds().top+h.bounds().bottom)/2;gesture(2e3,[g,m],[g+c-149,m+random(-50,50)])}n.recycle()},WanChao.prototype.isGrayColor=function(t,e,o){return t+e+o>200&&t+e+o<500?Math.sqrt((Math.pow(t-e,2)+Math.pow(t-o,2)+Math.pow(e-o,2))/3):100},WanChao_decorate([measureExecutionTime],WanChao.prototype,"highEff",null),WanChao}(x),At=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),YouShi_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Ft=function(t){function YouShi(){var e=t.call(this,Ce)||this;return e.appName=_e,e}return At(YouShi,t),YouShi.prototype.goToTask=function(){this.goTo(this.tab,3)},YouShi.prototype.getCoinStr=function(){var t=search("恭喜获得宝箱奖励"),e=search("\\+[0-9]+金币",{bounds:{top:null==t?void 0:t.bounds.bottom}});return(null==e?void 0:e.text)||""},YouShi.prototype.signIn=function(){this.goToTask(),(dialogClick("签到领金币")||findAndClick("立即签到",{feedback:!0}))&&this.watchAdsForCoin("日常任务")},YouShi_decorate([functionLog("签到")],YouShi.prototype,"signIn",null),YouShi}(E),St=10,Rt=8,Ot=3,Lt=6,Bt=25,Nt=600,jt=86400,It=10,Dt="app",Pt=storages.create("YWfjbEVp32"),Mt=1080,zt=2340,Gt="com.hamibot.hamibot",Vt="番茄畅听",Kt="com.xs.fm",Ut="番茄免费小说",Wt="com.dragon.read",Yt="番茄畅听音乐版",Ht="com.xs.fm.lite",Xt="红果免费短剧",Jt="com.phoenix.read",Qt="得间小说",qt="com.chaozh.iReader.dj",$t="茄子免费小说",Zt="com.qz.freader",te="熊猫脑洞小说",ee="com.xm.freader",oe="奇迹免费小说",ie="reader.com.xmly.xmlyreader",ne="速读免费小说",re="com.dj.speed",ce="书旗小说",ae="com.shuqi.controller",se="七猫免费小说",le="com.kmxs.reader",ue="望潮",fe="com.shangc.tiennews.taizhou",pe="星空免费小说",de="com.xk.qreader",he="抖音极速版",ge="com.ss.android.ugc.aweme.lite",me="抖音火山版",ye="com.ss.android.ugc.live",ve="快手",we="com.smile.gifmaker",be="快手免费小说",Te="com.kuaishou.kgx.novel",ke="快手极速版",xe="com.kuaishou.nebula",_e="有柿",Ce="com.ss.android.article.search",Ee="百度",Ae="com.baidu.searchbox",Fe="百度极速版",Se="com.baidu.searchbox.lite",Re="百度大字版",Oe="com.baidu.searchbox.tomas",Le="今日头条",Be="com.ss.android.article.news",Ne="头条搜索极速版",je="com.ss.android.article.lite",Ie=(new Ft,new st,new pt,new $,new U,new ct,new tt,new bt,new kt,new _t,new nt,new X,new Y,new Q,new mt,new vt,new ut,new z,new N,new P,new I,new F,new R,new Et);f.info("加载配置");var De=(_=hamibot.env)._TOKEN,Pe=_.APP_ENV,Me=(_.ROBOT_ID,_.ORDER,_.RESET);if(f.info("正在启动...\n\n\t当前脚本版本: ".concat("0.7.3","\n")),"production"===Pe?f.setDisplayLevel(e.Log):"development"===Pe&&f.debug("处于开发环境"),!0===Me&&(f.info("脚本重置"),Pt.clear()),events.on("exit",(function(){threads.shutDownAll(),f.info("结束..."),waitRandomTime(5),console.hide()})),De&&""!==De&&0==function setToken(t){return 32===t.length&&!/^\d*$/.test(t)&&(t,!0)}(De))throw new T("pushplus token","needs to be a 32-bit hexadecimal number");f.info("开始执行脚本"),function init(){if(null===auto.service){if(!confirm("Please enable accessibility permission"))throw new g("Accessibility permission obtaining failure.");auto.waitFor()}else f.verbose("已启用无障碍辅助功能权限");if(0===device.height||0===device.width)throw new m("Failed to get the screen size. Please try restarting the service or re-installing Hamibot");if(f.debug("分辨率: "+device.height+" x "+device.width),threads.start((function(){f.debug("子线程启动"),findAndClick(className("android.widget.Button").textMatches(".?立即开始.?|.?允许.?"),{waitFor:!0,clickUntilGone:!0,disableCheckBeforeClick:!0,fixed:!0})})).waitFor(),!requestScreenCapture())throw new g("Accessibility permission obtaining failure.");if(f.debug("启动视觉识别"),!files.exists("/sdcard/exit.png")){f.debug("正在加载资源");var t=images.load("https://hamibot-1304500632.cos.ap-nanjing.myqcloud.com/exit.png");null!=t&&(t.saveTo("/sdcard/exit.png"),t.recycle())}device.keepScreenOn(36e5),console.show(),waitRandomTime(1)}(),function test(){Ie.start(600)}()})();