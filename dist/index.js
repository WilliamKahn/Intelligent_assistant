(()=>{"use strict";var t,e,o=(t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}),__spreadArray=function(t,e,o){if(o||2===arguments.length)for(var i,n=0,r=e.length;n<r;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},i=function(){function FrameCollection(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.frames=t}return FrameCollection.prototype.clear=function(){this.frames.length=0},FrameCollection.prototype.push=function(t){this.frames.push(t)},FrameCollection}(),n=function(t){function TraceCollection(){return null!==t&&t.apply(this,arguments)||this}return o(TraceCollection,t),TraceCollection.prototype.filter=function(t){for(var e,o=new TraceCollection,i=0;i<this.frames.length;i++)t(e=this.frames[i],i,this.frames)&&o.push(e);return o},TraceCollection.prototype.toStringArray=function(t){for(var e=[],o=0,i=this.frames;o<i.length;o++){var n=i[o];e.push(n.toString(t))}return e},TraceCollection.prototype.toString=function(t){for(var e=[],o=0,i=this.frames;o<i.length;o++){var n=i[o];e.push(n.toString(t))}return e.join("\n")},TraceCollection}(i),r=function(t){function LogCollection(){return null!==t&&t.apply(this,arguments)||this}return o(LogCollection,t),LogCollection.prototype.filter=function(t){for(var e,o=new LogCollection,i=0;i<this.frames.length;i++)t(e=this.frames[i],i,this.frames)&&o.push(e);return o},LogCollection.prototype.toHtmlString=function(){for(var t=['<div style="\n                font-size: 15px;\n                font-family: monospace;\n                word-wrap:break-word;\n            ">'],e=0;e<this.frames.length;e++)t.push(this.frames[e].toHtmlString());return t.push("</div>"),t.join("\n")},LogCollection.prototype.toStringArray=function(){for(var t=[],e=0;e<this.frames.length;e++)t.push(this.frames[e].toString());return t},LogCollection.prototype.toString=function(){for(var t=[],e=0;e<this.frames.length;e++)t.push(this.frames[e].toString());return t.join("\n")},LogCollection}(i),c=function(){function TraceStackFrame(t,e){this.line=t,this.callerName=e}return TraceStackFrame.prototype.getLine=function(){return this.line},TraceStackFrame.prototype.getCallerName=function(){return this.callerName},TraceStackFrame.prototype.setCallerName=function(t){this.callerName=t},TraceStackFrame.prototype.toString=function(t){return(null!=t?t:defaultFormatter)(this.line,this.callerName)},TraceStackFrame}(),a=function(){function LogStackFrame(t,e){this.data=t,this.scheme=null!=e?e:s.log}return LogStackFrame.prototype.getLevel=function(){return this.scheme.level},LogStackFrame.prototype.getData=function(){return this.data},LogStackFrame.prototype.toString=function(){return this.data},LogStackFrame.prototype.toHtmlString=function(){for(var t=[],e=("<span style='color: ".concat(this.scheme.color,";'>"),0),o=this.data.split("\n");e<o.length;e++){var i=o[e];i=i.replace(/[<>&"'`\/]/g,(function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#96","/":"&#x2F"}[t]})),t.push()}return t.join("\n")},LogStackFrame}();!function(t){t[t.Debug=0]="Debug",t[t.Log=1]="Log",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error"}(e||(e={}));var s=function(){function LoggerSchemes(){}return LoggerSchemes.trace={displayName:"TRACE",logFunction:console.verbose,color:"lightgrey",level:e.Debug},LoggerSchemes.debug={displayName:"DEBUG",logFunction:console.verbose,color:"lightgrey",level:e.Debug},LoggerSchemes.log={displayName:" LOG ",logFunction:console.log,color:"black",level:e.Log},LoggerSchemes.info={displayName:"INFO",logFunction:console.info,color:"green",level:e.Info},LoggerSchemes.warn={displayName:"WARN",logFunction:console.warn,color:"yellow",level:e.Warn},LoggerSchemes.error={displayName:"ERROR",logFunction:console.error,color:"red",level:e.Error},LoggerSchemes}(),u=new r;function getCallerName(t){void 0===t&&(t=0);var e=parseTrace(sliceStackFrames(getRawStackTrace(),1,0));return t<0&&(t=0),t>e.length-1&&(t=e.length-1),e[t].getCallerName()}function getRawStackTrace(t){var e={stack:""};return Error.captureStackTrace(e,t),sliceStackFrames(e.stack,1,-2)}var l={needPrint:!0,needRecord:!0,skipCallerNumber:1},f=function(){function Record(){}return Record.setRecordLevel=function(t){Record.RECORD_LEVEL=t},Record.setDisplayLevel=function(t){Record.DISPLAY_LEVEL=t},Record.log=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.log,l,util.format.apply(util,__spreadArray([t],e,!1)))},Record.verbose=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.debug,l,util.format.apply(util,__spreadArray([t],e,!1)))},Record.info=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.info,l,util.format.apply(util,__spreadArray([t],e,!1)))},Record.warn=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.warn,l,util.format.apply(util,__spreadArray([t],e,!1)))},Record.error=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return Record.recLog(s.error,l,util.format.apply(util,__spreadArray([t],e,!1)))},Record.trace=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=sliceStackFrames(getRawStackTrace(),1,0),r=new(n.bind.apply(n,__spreadArray([void 0],parseTrace(i),!1)));return t=util.format.apply(util,__spreadArray([t],e,!1)),Record.recLog(s.trace,l,"".concat(t,"\n").concat(r.toString()))},Record.traceWithCustomFormatter=function(t,e){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var r=sliceStackFrames(getRawStackTrace(),1,0),c=new(n.bind.apply(n,__spreadArray([void 0],parseTrace(r),!1)));return e=util.format.apply(util,__spreadArray([e],o,!1)),Record.recLog(s.trace,l,"".concat(e,"\n").concat(c.toString(t)))},Record.customLog=function(t,e,o){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return Record.recLog(t,e,util.format.apply(util,__spreadArray([o],i,!1)))},Record.recLog=function(t,e,o){var i,n,r,c,s="[".concat(t.displayName,"] [").concat(getCallerName(e.skipCallerNumber),"]: ").concat(o),l="production"===po?"".concat(o):"[".concat(getCallerName(e.skipCallerNumber),"]: ").concat(o);return(null===(n=null!==(i=e.needRecord)&&void 0!==i?i:t.needRecord)||void 0===n||n)&&t.level>=Record.RECORD_LEVEL&&u.push(new a(s,t)),(null===(c=null!==(r=e.needPrint)&&void 0!==r?r:t.needPrint)||void 0===c||c)&&t.level>=Record.DISPLAY_LEVEL&&t.logFunction(l),s},Record.RECORD_LEVEL=e.Debug,Record.DISPLAY_LEVEL=e.Debug,Record.debug=Record.verbose,Record}();function sliceStackFrames(t,e,o){if(void 0===e&&(e=0),void 0===o&&(o=0),""===t)return"";var i=t.split("\n");if(o<=0&&(o=i.length+o),e<0?e=0:e>i.length-1&&(e=i.length-1),o>i.length)o=i.length;else if(o<=e)return"";return(i=i.slice(e,o)).join("\n")}function parseTrace(t){for(var e,o=[],i=0,n=t.split("\n");i<n.length;i++){var r=n[i],a=/\:(\d+)(?: \((.*)\))?/.exec(r);o.push(new c(Number(a[1])-3,null!==(e=a[2])&&void 0!==e?e:"Anonymous functions"))}return o[o.length-1].setCallerName("Outer"),o}function defaultFormatter(t,e){return"  | at line ".concat(t,", in <").concat(e,">")}var p=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),d=events.emitter();d.on("error",(function errorListener(t){f.customLog(s.error,{needPrint:!1,needRecord:!0,skipCallerNumber:2},t.toString())}));var h=function(t){function BaseException(e){var o=t.call(this)||this;o.exceptionType="BaseException",o.traceFilter=void 0,o.traceFormatter=void 0,o.message=e;var i=function getStackTrace(t){var e=sliceStackFrames(getRawStackTrace(t),1,0);return new(n.bind.apply(n,__spreadArray([void 0],parseTrace(e),!1)))}();return o.traceFilter&&(i=i.filter(o.traceFilter)),o.traceBack=i.toString(o.traceFormatter),d.emit("error",o),o}return p(BaseException,t),BaseException.prototype.toString=function(){return"Traceback (most recent call last):\n"+this.traceBack+"\n"+this.exceptionType+(this.message?": "+this.message:"")+"\n"},BaseException}(Error);function __isExceptionType(t,e){var o=Object.getOwnPropertyDescriptor(t,"exceptionType");return void 0!==o&&o.value===e}var g=function(t){function PermissionException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="PermissionException",e}return p(PermissionException,t),PermissionException}(h);var m=function(t){function ServiceNotEnabled(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ServiceNotEnabled",e}return p(ServiceNotEnabled,t),ServiceNotEnabled}(h);var y=function(t){function ValueException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ValueException",e}return p(ValueException,t),ValueException}(h);var v=function(t){function ExceedMaxNumberOfAttempts(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="ExceedMaxNumberOfAttempts",e}return p(ExceedMaxNumberOfAttempts,t),ExceedMaxNumberOfAttempts}(h),w=function(t){function CurrentAppBanned(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="CurrentAppBanned",e}return p(CurrentAppBanned,t),CurrentAppBanned}(h);function isCurrentAppBanned(t){return __isExceptionType(t,"CurrentAppBanned")}!function(t){function WidgetNotFoundException(){var e=null!==t&&t.apply(this,arguments)||this;return e.exceptionType="WidgetNotFoundException",e}p(WidgetNotFoundException,t)}(h);var T,b,k=function(t){function ConfigInvalidException(e,o){var i=t.call(this,"The '".concat(e,"' field in the configuration is invalid").concat(", "+o,". ")+"please check it again !")||this;return i.exceptionType="ConfigInvalidException",i}return p(ConfigInvalidException,t),ConfigInvalidException}(y);function scrollTo(t,e,o,i,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var c=(null==e?void 0:e.fixed)?0:(null==o?void 0:o.top)||0,a=(null==e?void 0:e.fixed)?device.height:(null==o?void 0:o.bottom)||device.height;if(n>2)throw f.debug("scrollTo error"),new v("超过最大限制次数");var s=search(t,e),u=s[0],l=s[1];if(u&&!(null==e?void 0:e.fixed)){var p=u.top,d=u.bottom,h=(p+d)/2;if(d<=p&&(d>0?d=a+1:p=c-1),i&&h==i&&(closeByImageMatching(),clickDialogOption(T.Negative),n++),p<c)return swipeUp(p<c-.5*a?b.Fast:b.Normal,1e3),waitRandomTime(1),scrollTo(t,e,o,h,n,r);if(d>a)return swipeDown(d>1.5*a?b.Fast:b.Normal,1e3),waitRandomTime(1),scrollTo(t,e,o,h,n,r);if(waitRandomTime(1),(null==e?void 0:e.coverBoundsScaling)&&""!==l&&++r<3){f.debug("滑动遮挡校验"),f.debug("text :".concat(l)),f.debug("bounds :".concat(u));var g=getScreenImage(boundsScaling(u,e.coverBoundsScaling)),m=images.scale(g,3,3),y=images.cvtColor(m,"BGR2GRAY"),w=function recognizeTextByLeftToRight(t){var e=ocr.recognize(t);return t.recycle(),e.results.sort((function(t,e){return t.bounds.left-e.bounds.left})).map((function(t){return t.text})).join("")}(y);if(g.recycle(),m.recycle(),y.recycle(),f.debug("ocr str:".concat(w)),-1==w.search(l)&&!function compareStr(t,e){if(function levenshteinDistance(t,e){for(var o=t.length,i=e.length,n=[],r=0;r<=o;r++){n[r]=[];for(var c=0;c<=i;c++)if(0===r)n[r][c]=c;else if(0===c)n[r][c]=r;else{var a=t[r-1]===e[c-1]?0:1;n[r][c]=Math.min(n[r-1][c]+1,n[r][c-1]+1,n[r-1][c-1]+a)}}var s=Math.max(o,i);return 1-n[o][i]/s}(t,e)>.6)return!0;return!1}(l,w))return f.debug("按钮被遮挡"),o||(o={}),d>device.height/2?(o.top=void 0,o.bottom=p):(o.bottom=void 0,o.top=d),scrollTo(t,e,o,void 0,n,r)}}return[u,l]}function search(t,e){var o,i,n,r;if((null==e?void 0:e.leftRange)?n=searchByLeftRange(t,e):"string"==typeof t?null==(n=searchByUiSelect(textMatches(t),e)||searchByUiSelect(descMatches(t),e))&&(null==e?void 0:e.ocrRecognize)&&(i=(o=searchByOcrRecognize(t,e))[0],r=o[1]):n=searchByUiSelect(t,e),null!=n&&(i=n.bounds(),r=n.text()),void 0===i&&(null==e?void 0:e.waitFor))throw f.debug(t.toString()),"控件不存在";return[i,r]}function searchByLeftRange(t,e,o){if(void 0===o&&(o=0),o>3)throw f.debug("searchByLeftRange error"),new v("超过最大限制次数");var i;if(e.leftRange){if(null==(i="string"==typeof e.leftRange?searchByUiSelect(textMatches(e.leftRange))||searchByUiSelect(descMatches(e.leftRange)):searchByUiSelect(e.leftRange)))return closeByImageMatching(),clickDialogOption(T.Negative),searchByLeftRange(t,e,++o);var n=i.bounds().top-10,r=i.bounds().bottom+80,c=i.bounds().right;return r<=n&&(r=n+200),"string"==typeof t?searchByUiSelect(textMatches(t).boundsInside(c,n,device.width,r),e)||searchByUiSelect(descMatches(t).boundsInside(c,n,device.width,r)):searchByUiSelect(t.boundsInside(c,n,device.width,r),e)}}function searchByOcrRecognize(t,e){var o=getScreenImage(null==e?void 0:e.bounds),i=images.cvtColor(o,"BGR2GRAY"),n=images.adaptiveThreshold(i,255,"GAUSSIAN_C","BINARY",25,0),r=ocr.recognize(n);o.recycle(),i.recycle(),n.recycle();for(var c=[],a=0,s=r.results;a<s.length;a++){var u=s[a];RegExp("^"+t+"$").test(u.text)&&c.push(u)}if(f.debug("list length: ".concat(c.length)),c.length>0){var l=null;if(l=(null==e?void 0:e.index)?c[e.index]:c[0]){if(null==e?void 0:e.bounds){var p=e.bounds.left||0,d=e.bounds.top||0;l.bounds.left+=p,l.bounds.right+=p,l.bounds.top+=d,l.bounds.bottom+=d}return[l.bounds,l.text]}}return[void 0,void 0]}function searchByUiSelect(t,e){var o=null;if(null==e?void 0:e.waitFor){if(null==(o=t.findOne(1e4)))for(var i=0;i<3&&(closeByImageMatching(),clickDialogOption(T.Negative),!(o=t.findOne(5e3)));i++);waitRandomTime(2)}var n=t.find();return n.nonEmpty()&&(n=n.filter((function(t){return t.bounds().width()>0})),(null==e?void 0:e.fixed)&&(n=n.filter((function(t){return t.bounds().height()>0}))),(null==e?void 0:e.bounds)&&(n=n.filter((function(t){var o=t.bounds();if(e.bounds)return function myBoundsContains(t,e){var o=t.left,i=void 0===o?0:o,n=t.top,r=void 0===n?0:n,c=t.right,a=void 0===c?device.width:c,s=t.bottom,u=void 0===s?device.height:s,l=e.left,f=void 0===l?0:l,p=e.top,d=void 0===p?0:p,h=e.right,g=void 0===h?device.width:h,m=e.bottom,y=void 0===m?device.height:m;return f>=i&&d>=r&&g<=a&&y<=u}(e.bounds,o)}))),o=(null==e?void 0:e.index)?n[e.index]:n[0]),o}function fixedClick(t){return findAndClick(t,{fixed:!0})}function ocrClick(t){return findAndClick(t,{fixed:!0,ocrRecognize:!0})}function goneClick(t){return findAndClick(t,{fixed:!0,clickUntilGone:!0})}function dialogClick(t){return findAndClick(t,{fixed:!0,ocrRecognize:!0,clickUntilGone:!0,bounds:{bottom:4*device.height/5,top:1*device.height/3,left:1*device.width/6,right:5*device.width/6}})}function readClick(t,e){return findAndClick(t,{index:e,clickUntilGone:!0,coverBoundsScaling:1})}function scrollClick(t,e){return findAndClick(t,{leftRange:e,coverBoundsScaling:1,clickUntilGone:!0})}function selectedClick(t,e){return findAndClick(t,{fixed:!0,waitFor:!0,selectedThreshold:e,check:!0})}function clickDialogOption(t){return void 0===t&&(t=random(T.Positive,T.Negative)),t===T.Positive?fixedClick(merge(["继续观看","抓住奖励机会","留下看看","(残忍)?关闭","领取奖励"])):t===T.Negative?fixedClick(merge(["取消","(残忍)?关闭","(以后|下次)再说","(直接|坚持|仍要)?退出(阅读)?","暂不(加入|添加)","(残忍)离开","放弃奖励","(我)?知道了"])):void 0}function findAndClick(t,e,o){if(void 0===o&&(o=0),++o>Ft)throw f.debug("findAndClick error"),new v("超过最大限制次数");o>Ft-2?(closeByImageMatching(),clickDialogOption(T.Negative)):o>Ft-4&&closeByImageMatching();var i=scrollTo(t,e),n=i[0],r=i[1];if(n){if(null==e?void 0:e.selectedThreshold){var c=getScreenImage(n),a=getGrayscaleHistogram(c);c.recycle();var s=findLargestIndexes(function mergeHistogram(t){for(var e=[],o=0;o<t.length;o+=16){for(var i=t.slice(o,o+16).reduce((function(t,e){return t+e}),0),n=0;n<7;n++)e.push(0);e.push(i);for(n=0;n<8;n++)e.push(0)}return e}(a),2);if(f.debug("selected index = ".concat(s)),Math.abs(s[0]-s[1])>e.selectedThreshold)return!0}if(r&&""!==r&&!/^[0-9]+$/.test(r)&&f.log(r),randomClick(n,e),null==e?void 0:e.clickUntilGone){if(e.waitFor=!1,e.leftRange&&void 0===search(e.leftRange)[0])return!0;findAndClick(t,e,o)}return!0}return!1}function randomClick(t,e){var o=boundsScaling(t,.5),i=random(o.left,o.right),n=random(o.top,o.bottom);if(f.debug("click(".concat(i,", ").concat(n,")")),null==e?void 0:e.check)for(var r=0;++r<3&&!judgeFuncIsWorkByImg((function(){normalClick(i,n,e),i=random(o.left,o.right),n=random(o.top,o.bottom)}),o);)closeByImageMatching();else normalClick(i,n,e)}function normalClick(t,e,o){var i=(null==o?void 0:o.waitTimes)||Bt,n=threads.disposable();(null==o?void 0:o.feedback)&&threads.start((function(){events.observeToast(),events.once("toast",(function(t){t?n.setAndNotify(t.getText()):n.setAndNotify(t)}))})).waitFor();if(mo?(console.hide(),sleep(100),click(t,e),console.show()):click(t,e),null==o?void 0:o.feedback){threads.start((function(){waitRandomTime(i),events.emit("toast")})).waitFor();var r=n.blockedGet();if(threads.shutDownAll(),f.debug(r),r.match("失败|异常|领取过奖励"))throw new w(r)}else waitRandomTime(i)}function resizeX(t){return t*device.width/Mt}function resizeY(t){return t*device.height/zt}function boundsScaling(t,e){var o=t.left||0,i=t.right||device.width,n=t.top||0,r=t.bottom||device.height,c=i-o,a=r-n,s=a*e,u=c*e;return{left:o+=(c-u)/2,top:n+=(a-s)/2,right:i-=(c-u)/2,bottom:r-=(a-s)/2}}function getScreenImage(t){var e=(null==t?void 0:t.left)||0,o=(null==t?void 0:t.top)||0,i=(null==t?void 0:t.right)||device.width,n=(null==t?void 0:t.bottom)||device.height;mo&&(console.hide(),sleep(100));var r=captureScreen();return mo&&console.show(),waitRandomTime(1),images.clip(r,e,o,i-e,n-o)}function waitRandomTime(t){var e=t+random(.2*-t,.2*t);return sleep(1e3*e),e}function clearBackground(){home()&&(waitRandomTime(4),recents()&&(waitRandomTime(4),findAndClick(idContains("clear"),{fixed:!0})))}function moveDown(t,e){for(var o=0;t>o;)swipeDown(b.Fast,400),o+=waitRandomTime(e)}function swipeDown(t,e){t===b.Normal?gesture(e,[resizeX(random(580,620)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(1350,1450))]):t===b.Fast&&gesture(e,[resizeX(random(580,620)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(250,350))])}function swipeUp(t,e){t===b.Normal?gesture(e,[resizeX(random(580,620)),resizeY(random(1350,1450))],[resizeX(random(780,820)),resizeY(random(1750,1850))]):t===b.Fast&&gesture(e,[resizeX(random(580,620)),resizeY(random(950,1050))],[resizeX(random(780,820)),resizeY(random(1750,1850))])}function merge(t){return t.join("|")}function convertSecondsToMinutes(t){return Math.floor(t/60)}function closeByImageMatching(t){var e=getScreenImage(),o=images.read("/sdcard/exit.png");if(null!=e&&null!=o){var i=images.cvtColor(e,"BGR2GRAY"),n=images.cvtColor(o,"BGR2GRAY"),r=images.adaptiveThreshold(n,255,"GAUSSIAN_C","BINARY",9,0),c=images.adaptiveThreshold(n,255,"GAUSSIAN_C","BINARY_INV",9,0),a=images.adaptiveThreshold(i,255,"GAUSSIAN_C","BINARY",25,0),s=[];try{for(var u=50;u>=20;u-=5){for(var l=images.resize(r,u),p=images.resize(c,u),d=images.matchTemplate(a,l,{threshold:.7}),h=images.matchTemplate(a,p,{threshold:.7}),g=d.points.concat(h.points),m=0,y=g;m<y.length;m++){(v=y[m]).x+=u/2,v.y+=u/2}s.push.apply(s,g),l.recycle(),p.recycle()}}finally{e.recycle(),o.recycle(),i.recycle(),n.recycle(),c.recycle(),a.recycle()}if(null!=s){var v=function findPreferredCloseButton(t,e){for(var o=t.slice().sort((function(t,e){return calculateDistance(t,{x:0,y:0})-calculateDistance(e,{x:0,y:0})})),i={x:0,y:0},n=0;n<o.length;n++)if(calculateDistance(i,o[n])>3){if(i=o[n],e){var r=boundsInside(i.x-100,i.y-100,i.x+100,i.y+100).findOnce();i.y>1*device.height/5&&(null==r||""!==r.text())&&(o.splice(n),n--)}}else o.splice(n),n--;return o.sort((function(t,e){var o=calculatePriority(t),i=o.priority,n=o.distance,r=calculatePriority(e),c=r.priority,a=r.distance;return i===c?n-a:i-c})),o.length>0?o[0]:null}(s,t);if(null!=v)return f.debug("close(".concat(v.x,",").concat(v.y,")")),normalClick(v.x,v.y),!0}}return e.recycle(),!1}function calculateDistance(t,e){var o=t.x-e.x,i=t.y-e.y;return Math.sqrt(o*o+i*i)}function calculatePriority(t){var e=device.width/2,o=device.height/2,i=random(1,2),n=3-i;return t.x<e&&t.y<o?{priority:i,distance:calculateDistance(t,{x:0,y:0})}:t.x>e&&t.y<o?{priority:n,distance:calculateDistance(t,{x:e,y:o})}:{priority:3,distance:Math.abs(t.x-e)}}function doFuncAtGivenTime(t,e,o){for(;t>=0;){var i=new Date;o(Math.min(e,t)),t-=((new Date).getTime()-i.getTime())/1e3}}function doFuncAtGivenTimeByEstimate(t,e){for(;t>=0;){var o=new Date;e();var i=((new Date).getTime()-o.getTime())/1e3;if(i<10)break;t-=i}}function judgeFuncIsWorkByImg(t,e){var o=getScreenImage(e);t();var i=getScreenImage(e),n=findImage(o,i,{threshold:1});return o.recycle(),i.recycle(),n?(f.debug("操作失效"),!1):(f.debug("操作生效"),!0)}function randomExecute(t){for(var e,o=t.length-1;o>0;o--){var i=Math.floor(Math.random()*(o+1));e=[t[i],t[o]],t[o]=e[0],t[i]=e[1]}t.forEach((function(t){t()}))}function getGrayscaleHistogram(t,e){void 0===e&&(e=4);for(var o=[],i=0;i<256;i++)o[i]=0;for(var n=0;n<t.getHeight();n+=e)for(var r=0;r<t.getWidth();r+=e){var c=t.pixel(r,n),a=(colors.red(c)+colors.green(c)+colors.blue(c))/3;o[Math.floor(a)]++}return t.recycle(),o}function findLargestIndexes(t,e){if(e<=0)throw new Error("返回长度必须大于等于1");if(e>t.length)throw new Error("返回长度不能大于数组长度");for(var o=[],i=0;i<e;i++){for(var n=0,r=1;r<t.length;r++)t[r]>t[n]&&(n=r);o.push(n),t[n]=Number.MIN_SAFE_INTEGER}return o}function getNumFromComponent(t){var e=t.match("[0-9]+");return e?parseInt(e[0]):0}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t){t[t.Positive=0]="Positive",t[t.Negative=1]="Negative"}(T||(T={})),function(t){t[t.Normal=0]="Normal",t[t.Fast=1]="Fast"}(b||(b={}));var _,__decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},x=function(){function Base(){this.appName="",this.packageName="",this.initialComponent=text(""),this.initialNum=-1,this.preComponent=text(""),this.preNum=-1,this.randomTab=text(""),this.tab=text(""),this.depth=0,this.exchangeRate=1e4,this.highEffEstimatedTime=Rt,this.medEffEstimatedTime=Nt,this.lowEffEstimatedTime=Nt,this.lowEffAssmitCount=1}return Base.prototype.medEff=function(){},Base.prototype.lowEff=function(t){},Base.prototype.start=function(t){if(this.lauchApp()){this.reset(),f.info("".concat(this.appName,"预计执行").concat(convertSecondsToMinutes(t),"分钟")),this.reSearchTab();var e=!1;if(t>=this.highEffEstimatedTime)t-=this.highEff(),e=!0;if(t>=this.medEffEstimatedTime)t-=this.medEff();if(t>this.lowEffEstimatedTime)t-=this.lowEff(t);e&&(f.info("统计当前app金币"),this.weight())}},Base.prototype.reSearchTab=function(){if(this.randomTab.toString()!==text("").toString()){var t=this.backUntilFind(this.randomTab);if(null==t)throw"id定位失败";this.tab=id(t.id()),this.initialComponent=this.tab,f.debug("".concat(this.tab))}},Base.prototype.lauchApp=function(){f.log("尝试启动".concat(this.appName));var t=launchPackage(this.packageName);return t?(waitRandomTime(2),findAndClick(className("android.widget.Button").textMatches("打开"),{fixed:!0}),f.log("".concat(this.appName,"已启动")),waitRandomTime(13)):f.log("".concat(this.appName,"应用未安装")),t},Base.prototype.read=function(t){var e=this;f.log("准备看书".concat(convertSecondsToMinutes(t),"分钟"));text("简介").exists()&&normalClick(resizeX(1070),resizeY(2330));var o=getScreenImage({bottom:1*device.height/6}),i=getGrayscaleHistogram(o);o.recycle();var n=findLargestIndexes(i,1)[0];f.debug("read index: ".concat(n)),doFuncAtGivenTime(t,8,(function(t){waitRandomTime(t),e.watch(n),fixedClick(merge([".*不再提示","我知道了","放弃下载"])),normalClick(resizeX(random(1070,1080)),resizeY(random(1900,2e3)))}))},Base.prototype.watch=function(t,e){void 0===e&&(e=0);var o=!1;if("number"==typeof t){var i=getScreenImage({bottom:1*device.height/6}),n=getGrayscaleHistogram(i);i.recycle();var r=findLargestIndexes(n,1)[0];f.debug("watch index: ".concat(r)),r<t+20&&r>t-20&&(o=!0)}else o=t.exists();if(o)f.debug("watch return");else{if(e>9)throw f.debug("watch error"),new v("超过最大限制次数");currentPackage()!==this.packageName&&this.lauchApp();var c=search(".*[0-9]+[ ]?[s秒]?.*",{ocrRecognize:!0,bounds:{bottom:1*device.height/5}}),a=(c[0],function matchAndJudge(t){if(f.debug("".concat(t)),t){var e=(t=t.replace(/\d+:\d+/,"x")).match(/[0-9]+[s秒]?/),o=t.match(/(滑动)?浏览/);if(e){var i=parseInt(e[0],10);if((i>50||i<3)&&(i=3),!o)return i;f.log("滑动浏览广告"),moveDown(i,4)}}return 3}(c[1]));if(f.debug("watchTimes = ".concat(e,", waitTime = ").concat(a)),text("该视频提到的内容是").findOne(1e3*a))return back(),waitRandomTime(1),void this.watch(t,++e);if(waitRandomTime(10),findAndClick(".*跳过.*",{fixed:!0,bounds:{left:2*device.width/3,bottom:1*device.height/5}})&&!clickDialogOption(T.Positive))return waitRandomTime(1),void this.watch(t,++e);!function utils_close(){var t=random(0,1);if(!closeByImageMatching(!0))switch(t){case 0:findAndClick(classNameMatches("android.widget.(ImageView|Button|FrameLayout)"),{fixed:!0,bounds:{left:3*device.width/5,bottom:1*device.height/5}})||(back(),waitRandomTime(4));break;case 1:findAndClick(className("android.widget.(Button|ImageView)").idContains("close"),{fixed:!0,bounds:{right:2*device.width/5,bottom:1*device.height/5}})||(back(),waitRandomTime(4))}}(),(e>=3||!clickDialogOption(T.Positive))&&clickDialogOption(T.Negative),this.watch(t,++e)}},Base.prototype.goTo=function(t,e){if(!t.exists()||this.preComponent.toString()!=t.toString()||this.preNum!=e){for(var o=this.backUntilFind(t),i=0;i<this.depth;i++){var n=o.child(0);null!=n&&(o=n)}null!=o&&(-1!==e&&(o=o.child(e)),this.preComponent.toString()===t.toString()&&this.preNum===e||randomClick(o.bounds(),{check:!0})),this.preComponent=t,this.preNum=e,waitRandomTime(4)}},Base.prototype.backUntilFind=function(t,e){if(void 0===e&&(e=0),e>=St)throw new v("backUntilFind");var o=t.findOnce();return null==o?(e>=St-2?(f.warn("尝试矫正"),closeByImageMatching()):(back(),waitRandomTime(4)),clickDialogOption(T.Negative),currentPackage()!==this.packageName&&this.lauchApp(),this.backUntilFind(t,++e)):o},Base.prototype.watchAdsForCoin=function(t){for(var e=0,o="(观)?看.*(视频|内容|广告).*(得|领|赚|收取).*([0-9]+金币|更多|火苗)";++e<Ot&&dialogClick(o);)this.watch(textMatches(merge([t,o])));f.debug("done"),dialogClick(merge(["(开心|立即)收下","(我)?知道了"]))},Base.prototype.reset=function(){u.clear(),this.enablewatchAds(),this.preComponent=this.initialComponent,this.preNum=this.initialNum},Base.prototype.store=function(t,e){var o=Dt.get(this.constructor.name,{});o[t]=e,Dt.put(this.constructor.name,o)},Base.prototype.fetch=function(t,e){var o=Dt.get(this.constructor.name,{});return null==e||void 0!==o&&void 0!==o[t]?o[t]:e},Base.prototype.beforeRun=function(){},Base.prototype.signIn=function(){},Base.prototype.openTreasure=function(){},Base.prototype.watchAds=function(){},Base.prototype.enablewatchAds=function(){},Base.prototype.mealSupp=function(){},Base.prototype.readBook=function(t){},Base.prototype.swipeVideo=function(t){},Base.prototype.listenBook=function(){},Base.prototype.watchLive=function(){},Base.prototype.shopping=function(){},Base.prototype.reward=function(){},Base.prototype.clickPop=function(){},Base.prototype.record=function(){},__decorate([startDecorator],Base.prototype,"start",null),Base}();function functionLog(t){return function(e,o,i){var n=i.value,r=!0;return i.value=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var c=new Date;try{if(r)return waitRandomTime(4),f.info("执行下一步任务：".concat(t)),!1===(l=n.apply(this,e))&&(r=!1),l}catch(i){if(isCurrentAppBanned(i))throw i;f.debug("".concat(i.message));for(var a=this,s=1;s<Lt;){if("readBook"===o||"swipeVideo"===o){var u=new Date;if(e[0]=e[0]-(u.getTime()-c.getTime())/1e3,e[0]<=0)break}f.warn("尝试第".concat(s,"次重启"));try{var l;if(c=new Date,clearBackground(),a.lauchApp())return waitRandomTime(4),f.info("执行下一步任务：".concat(t)),a.reset(),!1===(l=n.apply(this,e))&&(r=!1),l;break}catch(t){f.debug("".concat(t.message)),sendErrorMessage(t.message),s++}}if(s>=Lt)throw new v("超过最大尝试次数")}},"watchAds"===o&&(e["enable".concat(o)]=function(){r=!0}),i}}function measureExecutionTime(t,e,o){var i=o.value;return o.value=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=new Date;i.apply(this,t);var r=new Date,c=(r.getTime()-n.getTime())/1e3;f.debug("".concat(e,"执行了").concat(convertSecondsToMinutes(c),"分钟"));var a=this;return a.constructor.name===Dt.get(It)?f.debug("不调整时间"):"highEff"===e?(f.debug("highEff时间调整为".concat(convertSecondsToMinutes(c),"分钟")),a.highEffEstimatedTime=c,a.store(_.HighEffEstimatedTime,c)):"medEff"===e&&(f.debug("medEff时间调整为".concat(convertSecondsToMinutes(c),"分钟")),a.medEffEstimatedTime=c,a.store(_.MedEffEstimatedTime,c)),c},o}function startDecorator(t,e,o){var i=o.value;return o.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=new Date;try{i.apply(this,t)}catch(t){isCurrentAppBanned(t)?f.error("账号异常"):(f.error("当前app发生异常: ".concat(t.message)),sendErrorMessage(t.message))}var n=new Date,r=(n.getTime()-o.getTime())/1e3;return f.info("即将执行下一个app"),f.debug("剩余".concat(convertSecondsToMinutes(t[0]-r),"分钟")),u.clear(),t[0]-r},o}!function(t){t[t.Weight=0]="Weight",t[t.Executed=1]="Executed",t[t.HighEffEstimatedTime=2]="HighEffEstimatedTime",t[t.MedEffEstimatedTime=3]="MedEffEstimatedTime",t[t.LowEffEstimatedTime=4]="LowEffEstimatedTime"}(_||(_={}));var C,E=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractArticle_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},A=function(t){function AbstractArticle(e){var o=t.call(this)||this;return o.packageName=e,o.tab=id("android:id/tabs"),o.initialComponent=o.tab,o.initialNum=0,o.exchangeRate=33e3,o.highEffEstimatedTime=o.fetch(_.HighEffEstimatedTime,Rt),o.medEffEstimatedTime=o.fetch(_.MedEffEstimatedTime,6600),o.lowEffEstimatedTime=0,o}return E(AbstractArticle,t),AbstractArticle.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.walkEarn()},function(){t.mealSupp()},function(){t.sleepEarn()},function(){t.openTreasure()},function(){t.doubleEarn()},function(){t.watchAds()}])},AbstractArticle.prototype.medEff=function(){var t=0;do{this.swipeVideo(600),this.openTreasure()}while(++t<Ot&&this.watchAds());this.reward()},AbstractArticle.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.swipeVideo(t),e.openTreasure(),e.watchAds()})),this.reward()},AbstractArticle.prototype.weight=function(){if(this.goToTask(),scrollClick(".*我的金币.*")){var t=textMatches(/(\d+)/).findOnce();if(null!=t){f.debug("".concat(this.constructor.name,":").concat(t.text()));var e=parseInt(t.text());this.store(_.Weight,e)}}},AbstractArticle.prototype.signIn=function(){this.goTo(this.tab,2),(dialogClick("立即签到")||findAndClick("立即签到",{feedback:!0}))&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.openTreasure=function(){if(this.goToTask(),fixedClick("开宝箱得金币")){if(getNumFromComponent(this.getCoinStr())<jt)throw new w(this.appName+"账号异常");this.watchAdsForCoin("日常任务")}},AbstractArticle.prototype.watchAds=function(){return this.goToTask(),!!scrollClick("领福利")&&(this.watch(text("日常任务")),!0)},AbstractArticle.prototype.swipeVideo=function(t){this.goTo(this.tab,1),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,15)},AbstractArticle.prototype.reward=function(){this.goToTask();var t=0;for(scrollTo("现金收益.*",{coverBoundsScaling:1});++t<Ot&&ocrClick("点击领取|点击抽奖")&&(this.watchAdsForCoin("日常任务"),!dialogClick("开始抽奖")||(normalClick(resizeX(random(395,689)),resizeY(random(750,1067))),!dialogClick("点击领取"))););},AbstractArticle.prototype.mealSupp=function(){this.goToTask(),scrollClick("吃饭补贴")&&findAndClick("领取.*补贴[0-9]+金币",{fixed:!0})&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.walkEarn=function(){this.goToTask(),scrollClick("走路赚钱")&&findAndClick("领取[0-9]+金币",{fixed:!0,feedback:!0})&&this.watchAdsForCoin("日常任务")},AbstractArticle.prototype.sleepEarn=function(){this.goToTask(),scrollClick("睡觉赚钱")&&(fixedClick("我睡醒了")&&fixedClick("领取[0-9]+金币")&&this.watchAdsForCoin("日常任务"),fixedClick("我要睡了"))},AbstractArticle.prototype.doubleEarn=function(){this.goToTask(),scrollClick("去翻倍|点击翻倍")&&dialogClick("我知道了")},AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"highEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"medEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"lowEff",null),AbstractArticle_decorate([measureExecutionTime],AbstractArticle.prototype,"weight",null),AbstractArticle_decorate([functionLog("签到")],AbstractArticle.prototype,"signIn",null),AbstractArticle_decorate([functionLog("开宝箱")],AbstractArticle.prototype,"openTreasure",null),AbstractArticle_decorate([functionLog("看广告")],AbstractArticle.prototype,"watchAds",null),AbstractArticle_decorate([functionLog("刷视频")],AbstractArticle.prototype,"swipeVideo",null),AbstractArticle_decorate([functionLog("领取奖励")],AbstractArticle.prototype,"reward",null),AbstractArticle_decorate([functionLog("吃饭补贴")],AbstractArticle.prototype,"mealSupp",null),AbstractArticle_decorate([functionLog("走路赚钱")],AbstractArticle.prototype,"walkEarn",null),AbstractArticle_decorate([functionLog("睡觉赚钱")],AbstractArticle.prototype,"sleepEarn",null),AbstractArticle}(x),S=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),F=function(t){function Article(){var e=t.call(this,Oe)||this;return e.appName=Be,e}return S(Article,t),Article.prototype.goToTask=function(){this.goTo(this.tab,2)},Article.prototype.getCoinStr=function(){var t=search("恭喜你获得[0-9]+金币");t[0];return t[1]},Article}(A),L=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ArticleLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},B=function(t){function ArticleLite(){var e=t.call(this,Ne)||this;return e.appName=Re,e}return L(ArticleLite,t),ArticleLite.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.doubleEarn()},function(){t.watchAds()},function(){t.toSearch()},function(){t.randomSearch()}]),this.reward2()},ArticleLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("现金收益");var t=search("[0-9]+金币"),e=(t[0],t[1]);if(void 0!==e){var o=parseInt(e);f.debug("".concat(o)),this.store(_.Weight,o)}},ArticleLite.prototype.goToTask=function(){this.goTo(this.tab,2)},ArticleLite.prototype.getCoinStr=function(){var t=search("恭喜获得宝箱奖励"),e=t[0],o=(t[1],search("\\+[0-9]+金币",{bounds:{top:e.bottom}}));o[0];return o[1]},ArticleLite.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("额外再领")&&(this.watch(text("日常任务")),closeByImageMatching())},ArticleLite.prototype.toSearch=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&text("搜一搜赚钱").exists();)scrollClick("去搜索","搜一搜赚钱")&&fixedClick("搜索")&&(moveDown(15,4),this.backUntilFind(text("日常任务")))},ArticleLite.prototype.randomSearch=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&text("随机搜赚钱").exists();)scrollClick("随机搜","随机搜赚钱")&&(moveDown(15,4),this.backUntilFind(text("日常任务")))},ArticleLite.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&findAndClick("点击领取",{coverBoundsScaling:1});)this.watchAdsForCoin("日常任务")},ArticleLite.prototype.reward2=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&findAndClick("领取",{coverBoundsScaling:1});)this.watchAdsForCoin("日常任务")},ArticleLite.prototype.swipeVideo=function(t){this.goTo(this.tab,2),scrollClick("看视频","看文章或视频赚金币")&&moveDown(t,10)},ArticleLite_decorate([measureExecutionTime],ArticleLite.prototype,"highEff",null),ArticleLite_decorate([measureExecutionTime],ArticleLite.prototype,"weight",null),ArticleLite_decorate([functionLog("签到")],ArticleLite.prototype,"signIn",null),ArticleLite_decorate([functionLog("搜一搜赚钱")],ArticleLite.prototype,"toSearch",null),ArticleLite_decorate([functionLog("随机搜赚钱")],ArticleLite.prototype,"randomSearch",null),ArticleLite_decorate([functionLog("看视频奖励领取")],ArticleLite.prototype,"reward",null),ArticleLite_decorate([functionLog("领取挑战奖励")],ArticleLite.prototype,"reward2",null),ArticleLite_decorate([functionLog("看视频")],ArticleLite.prototype,"swipeVideo",null),ArticleLite}(A),O=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),Baidu_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},R=function(t){function Baidu(){var e=t.call(this)||this;return e.packageName=Ee,e.appName=Ce,e.tab=id("android:id/tabs"),e.initialComponent=e.tab,e.initialNum=0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,1800),e}return O(Baidu,t),Baidu.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.searchForCoin()},function(){t.openTreasure()},function(){t.watchAds()},function(){t.swipeVideo(300)}])},Baidu.prototype.weight=function(){this.goto(0),scrollTo("金币收益",{coverBoundsScaling:1});var t=searchByOcrRecognize("[0-9]+"),e=(t[0],t[1]);if(null!=e){var o=parseInt(e.toString());f.debug("weight: ".concat(o)),this.store(_.Weight,o)}},Baidu.prototype.signIn=function(){this.goto(0),fixedClick("额外领[0-9]+金币")&&(this.watch(text("金币收益")),this.watchAdsForCoin("金币收益"))},Baidu.prototype.watchAds=function(){for(this.goto(0);scrollClick("去完成","看广告赚钱.*");)this.watch(text("金币收益")),this.watchAdsForCoin("金币收益")},Baidu.prototype.searchForCoin=function(){var t,e,o,i;this.goto(0);var n=textMatches("搜索赚金币.*").findOnce(),r=null==n?void 0:n.text().match(/\((\d+)\/(\d+)\)/);if(r)for(var c=parseInt(r[1]);c<parseInt(r[2]);c++)findAndClick(className("android.widget.TextView"),{bounds:null===(i=null===(o=null===(e=null===(t=null==n?void 0:n.parent())||void 0===t?void 0:t.parent())||void 0===e?void 0:e.parent())||void 0===o?void 0:o.child(1))||void 0===i?void 0:i.bounds(),waitTimes:15})&&(this.backUntilFind(text("金币收益")),waitRandomTime(2),this.watchAdsForCoin("金币收益"))},Baidu.prototype.openTreasure=function(){this.goto(0),fixedClick("开宝箱得金币")&&this.watchAdsForCoin("金币收益")},Baidu.prototype.swipeVideo=function(t){this.goTo(this.tab,0),selectedClick("发现",170)&&findAndClick(className("android.widget.ImageView"),{bounds:{top:device.height/5}})&&(f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,10))},Baidu.prototype.goto=function(t){0===t?this.tab.exists()?(this.goTo(this.tab,4),findAndClick("天天领现金",{ocrRecognize:!0,bounds:{bottom:device.height/5,left:device.width/2}})):this.backUntilFind(text("金币收益")):1===t&&(this.goTo(this.tab,1),text("我的铜钱").exists()||fixedClick("换现金"))},Baidu_decorate([measureExecutionTime],Baidu.prototype,"highEff",null),Baidu_decorate([measureExecutionTime],Baidu.prototype,"weight",null),Baidu_decorate([functionLog("签到")],Baidu.prototype,"signIn",null),Baidu_decorate([functionLog("看广告")],Baidu.prototype,"watchAds",null),Baidu_decorate([functionLog("搜索赚金币")],Baidu.prototype,"searchForCoin",null),Baidu_decorate([functionLog("开宝箱")],Baidu.prototype,"openTreasure",null),Baidu_decorate([functionLog("刷视频")],Baidu.prototype,"swipeVideo",null),Baidu}(x),N=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),BaiduBig_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},j=function(t){function BaiduBig(){var e=t.call(this)||this;return e.packageName=Le,e.appName=Fe,e.tab=id("android:id/tabs"),e.initialComponent=e.tab,e.initialNum=0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e}return N(BaiduBig,t),BaiduBig.prototype.highEff=function(){closeByImageMatching(),this.signIn(),this.openTreasure(),this.listenBook(),this.searchForCoin(),this.watchAds(),this.openTreasure(),this.reward()},BaiduBig.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),e.reward3(),e.reward2()}))},BaiduBig.prototype.weight=function(){this.goto(),scrollTo("现金收益",{coverBoundsScaling:1});var t=searchByOcrRecognize("[0-9]+",{bounds:{bottom:1*device.height/5}}),e=(t[0],t[1]);if(void 0!==e){var o=parseInt(e.toString());this.store(_.Weight,o)}},BaiduBig.prototype.signIn=function(){this.goTo(this.tab,0),this.goto(),fixedClick("额外领[0-9]+金币")&&(this.watch(text("现金收益")),this.watchAdsForCoin("现金收益"))},BaiduBig.prototype.watchAds=function(){this.goto();for(;0<=Ot&&scrollClick("去完成","看广告赚钱.*");)this.watch(text("现金收益")),this.watchAdsForCoin("现金收益")},BaiduBig.prototype.searchForCoin=function(){var t,e,o,i;this.goto(),scrollTo("搜索赚金币.*",{coverBoundsScaling:1});var n=textMatches("搜索赚金币.*").findOnce();if(null!=n){if(n.text().match(/\((\d+)\/(\d+)\)/))for(var r=0;r<8;r++)findAndClick(className("android.widget.TextView"),{bounds:null===(i=null===(o=null===(e=null===(t=null==n?void 0:n.parent())||void 0===t?void 0:t.parent())||void 0===e?void 0:e.parent())||void 0===o?void 0:o.child(1))||void 0===i?void 0:i.bounds(),waitTimes:8})&&(this.backUntilFind(text("现金收益")),waitRandomTime(2),this.watchAdsForCoin("现金收益"))}},BaiduBig.prototype.openTreasure=function(){this.goto(),fixedClick("开宝箱得金币")&&this.watchAdsForCoin("现金收益")},BaiduBig.prototype.listenBook=function(){this.goTo(this.tab,1),findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),clickUntilGone:!0})&&fixedClick("开始听书|续播")},BaiduBig.prototype.swipeVideo=function(t){this.goTo(this.tab,0),moveDown(t,4)},BaiduBig.prototype.reward=function(){this.goto();var t=0;for(scrollTo("今日任务",{coverBoundsScaling:1});++t<=Ot&&ocrClick(".?领取"););},BaiduBig.prototype.reward2=function(){this.goto();var t=0;for(scrollTo("领取",{coverBoundsScaling:1});++t<=Ot&&fixedClick("领取");)this.watchAdsForCoin("现金收益")},BaiduBig.prototype.reward3=function(){var t,e,o,i;this.goto();var n=0;scrollTo("看视频/热搜赚金币",{coverBoundsScaling:1});for(var r=text("看视频/热搜赚金币").findOnce();++n<=Ot&&findAndClick("领",{ocrRecognize:!0,bounds:null===(i=null===(o=null===(e=null===(t=null==r?void 0:r.parent())||void 0===t?void 0:t.parent())||void 0===e?void 0:e.parent())||void 0===o?void 0:o.child(2))||void 0===i?void 0:i.bounds()}););},BaiduBig.prototype.goto=function(){this.tab.exists()?(this.goTo(this.tab,4),fixedClick("立即签到")):this.backUntilFind(text("现金收益"))},BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"highEff",null),BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"lowEff",null),BaiduBig_decorate([measureExecutionTime],BaiduBig.prototype,"weight",null),BaiduBig_decorate([functionLog("签到")],BaiduBig.prototype,"signIn",null),BaiduBig_decorate([functionLog("看广告")],BaiduBig.prototype,"watchAds",null),BaiduBig_decorate([functionLog("搜索赚金币")],BaiduBig.prototype,"searchForCoin",null),BaiduBig_decorate([functionLog("开宝箱")],BaiduBig.prototype,"openTreasure",null),BaiduBig_decorate([functionLog("听书")],BaiduBig.prototype,"listenBook",null),BaiduBig_decorate([functionLog("浏览资讯")],BaiduBig.prototype,"swipeVideo",null),BaiduBig_decorate([functionLog("每日挑战奖励领取")],BaiduBig.prototype,"reward",null),BaiduBig_decorate([functionLog("领取奖励")],BaiduBig.prototype,"reward2",null),BaiduBig_decorate([functionLog("领取红包")],BaiduBig.prototype,"reward3",null),BaiduBig}(x),I=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),BaiduLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},P=function(t){function BaiduLite(){var e=t.call(this)||this;return e.packageName=Se,e.appName=Ae,e.tab=id("android:id/tabs"),e.initialComponent=e.tab,e.initialNum=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,2400),e.lowEffEstimatedTime=0,e}return I(BaiduLite,t),BaiduLite.prototype.highEff=function(){var t=this;dialogClick("立即领今日打款")&&closeByImageMatching(),this.signIn(),this.listenBook(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.searchForCoin()},function(){t.mealSupp()}])},BaiduLite.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.swipeVideo(t),e.reward(),e.reward2(),e.openTreasure()}))},BaiduLite.prototype.weight=function(){this.goto(4);var t=search("[0-9]+",{index:2}),e=(t[0],t[1]);this.store(_.Weight,e)},BaiduLite.prototype.signIn=function(){this.goto(2),fixedClick("额外领[0-9]+金币")&&(this.watch(text("每日任务")),this.watchAdsForCoin("每日任务"))},BaiduLite.prototype.watchAds=function(){for(this.goto(2);scrollClick("去完成","看广告赚钱");)this.watch(text("每日任务")),this.watchAdsForCoin("每日任务")},BaiduLite.prototype.searchForCoin=function(){this.goto(2);for(var t=0;++t<=Ot&&findAndClick("随心搜",{leftRange:"搜索赚金币.*",waitTimes:15});)this.backUntilFind(text("每日任务")),waitRandomTime(2),this.watchAdsForCoin("每日任务")},BaiduLite.prototype.reward=function(){this.goto(2),fixedClick("立即收下");for(var t=0;++t<Ot&&scrollClick("可领"););},BaiduLite.prototype.reward2=function(){if(this.goto(2),scrollClick("去听书","听书赚金币")&&findAndClick(className("android.widget.ImageView"),{bounds:{top:2*device.height/3,left:2*device.width/3}}))for(var t=0;++t<Ot&&scrollClick("可领取");)this.watchAdsForCoin("听书赚金币")},BaiduLite.prototype.listenBook=function(){this.goto(0),selectedClick("听书",170)&&findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),clickUntilGone:!0})&&fixedClick("开始听书|续播")},BaiduLite.prototype.mealSupp=function(){this.goto(2),scrollClick("去领取","吃饭补贴")&&fixedClick("(补签)?领取.*补贴")&&this.watch(textMatches(".*时间.*"))},BaiduLite.prototype.swipeVideo=function(t){this.goto(0),moveDown(t,4)},BaiduLite.prototype.openTreasure=function(){this.goto(2),fixedClick("开宝箱得金币")&&this.watchAdsForCoin("每日任务")},BaiduLite.prototype.goto=function(t){2==t&&1==this.preNum?(this.goTo(this.tab,0),this.goTo(this.tab,2)):this.goTo(this.tab,t)},BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"highEff",null),BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"lowEff",null),BaiduLite_decorate([measureExecutionTime],BaiduLite.prototype,"weight",null),BaiduLite_decorate([functionLog("签到")],BaiduLite.prototype,"signIn",null),BaiduLite_decorate([functionLog("看广告")],BaiduLite.prototype,"watchAds",null),BaiduLite_decorate([functionLog("搜索赚金币")],BaiduLite.prototype,"searchForCoin",null),BaiduLite_decorate([functionLog("领取奖励")],BaiduLite.prototype,"reward",null),BaiduLite_decorate([functionLog("领取听书奖励")],BaiduLite.prototype,"reward2",null),BaiduLite_decorate([functionLog("听书")],BaiduLite.prototype,"listenBook",null),BaiduLite_decorate([functionLog("吃饭补贴")],BaiduLite.prototype,"mealSupp",null),BaiduLite_decorate([functionLog("刷视频")],BaiduLite.prototype,"swipeVideo",null),BaiduLite_decorate([functionLog("开宝箱")],BaiduLite.prototype,"openTreasure",null),BaiduLite}(x),D=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),DeJian_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},M=function(t){function DeJian(){var e=t.call(this)||this;return e.appName=Jt,e.packageName=Qt,e.initialComponent=desc("bookstore_button"),e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,Rt),e.medEffEstimatedTime=e.fetch(_.MedEffEstimatedTime,2700),e.lowEffEstimatedTime=0,e}return D(DeJian,t),DeJian.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.mealSupp()},function(){t.joinActivity()}])},DeJian.prototype.medEff=function(){var t=0;do{t%3==0&&this.openTreasure(),this.readBook(180),this.reward()}while(++t<Ot&&this.watchAds())},DeJian.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.watchAds(),e.openTreasure(),e.reward()}))},DeJian.prototype.weight=function(){this.goTo(desc("discovery_button"),-1),scrollTo("金币收益");var t=textEndsWith("币").findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},DeJian.prototype.readBook=function(t){this.goTo(desc("bookstore_button"),-1);var e=id(this.packageName+":id/channel_tab").findOnce();null!=e&&findAndClick("推荐",{fixed:!0,ocrRecognize:!0,bounds:e.bounds(),selectedThreshold:100})&&readClick(id("com.zhangyue.iReader.bookStore:id/id_tv_book_name"),random(0,5))&&this.read(t)},DeJian.prototype.reward=function(){this.goTo(desc("discovery_button"),-1);for(var t=0;++t<Ot&&scrollClick("领取");)this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching()},DeJian.prototype.signIn=function(){this.goTo(desc("discovery_button"),-1),(textStartsWith("成功签到").exists()||scrollClick("点击签到.+"))&&closeByImageMatching()},DeJian.prototype.mealSupp=function(){this.goTo(desc("discovery_button"),-1),scrollClick("点击领取")&&(this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching())},DeJian.prototype.watchAds=function(){return this.goTo(desc("discovery_button"),-1),!!scrollClick("去观看","看视频赚金币与声望")&&(this.watch(text("金币收益")),dialogClick("知道了")||closeByImageMatching(),!0)},DeJian.prototype.joinActivity=function(){if(this.goTo(desc("discovery_button"),-1),findAndClick("参与活动赚金币",{coverBoundsScaling:1})){var t=id("com.zhangyue.module.ad:id/tv_reward_video_title").findOnce();if(null!=t){var e=t.text().match(/\((\d+)\/(\d+)\)/);if(e)for(var o=parseInt(e[1]);o<parseInt(e[2]);o++)findAndClick("看视频赚金币",{fixed:!0,clickUntilGone:!0}),f.log("参与活动, 正在观看".concat(o+1,"/").concat(e[2],"个广告")),this.watch(text("金币收益"));else f.log("活动已完成")}back()}},DeJian.prototype.openTreasure=function(){this.goTo(desc("discovery_button"),-1),fixedClick("开宝箱得金币")&&(this.watchAdsForCoin("金币收益"),text("恭喜获得").exists()&&closeByImageMatching())},DeJian_decorate([measureExecutionTime],DeJian.prototype,"highEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"medEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"lowEff",null),DeJian_decorate([measureExecutionTime],DeJian.prototype,"weight",null),DeJian_decorate([functionLog("阅读")],DeJian.prototype,"readBook",null),DeJian_decorate([functionLog("领取奖励")],DeJian.prototype,"reward",null),DeJian_decorate([functionLog("签到")],DeJian.prototype,"signIn",null),DeJian_decorate([functionLog("领取餐补")],DeJian.prototype,"mealSupp",null),DeJian_decorate([functionLog("看广告")],DeJian.prototype,"watchAds",null),DeJian_decorate([functionLog("参加活动")],DeJian.prototype,"joinActivity",null),DeJian_decorate([functionLog("开宝箱")],DeJian.prototype,"openTreasure",null),DeJian}(x),z=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractFreeNovel_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},V=function(t){function AbstractFreeNovel(e){var o=t.call(this)||this;return o.tab=id(e+":id/home_activity_navigation_bar"),o.initialComponent=o.tab,o.initialNum=1,o.highEffEstimatedTime=o.fetch(_.HighEffEstimatedTime,900),o.lowEffEstimatedTime=0,o.lowEffAssmitCount=2,o}return z(AbstractFreeNovel,t),AbstractFreeNovel.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.shopping()},function(){t.luckySpin()}])},AbstractFreeNovel.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t/2,1800,(function(t){return e.readBook(t),e.reward(),e.openTreasure(),t}));var o=!0;doFuncAtGivenTime(t/2,1800,(function(t){o?(e.listenBook(),o=!1):e.continueListen();var i=waitRandomTime(t);return e.reward2(),e.openTreasure(),i}))},AbstractFreeNovel.prototype.weight=function(){if(this.goTo(this.tab,2),scrollTo("我的金币",{coverBoundsScaling:1}),fixedClick("我的金币")){var t=textStartsWith("今日金币").findOnce();if(null!=t){var e=t.text().replace(",","").match(/[0-9]+/);if(e){var o=parseInt(e[0]);f.debug("".concat(this.constructor.name,":").concat(o)),this.store(_.Weight,o)}}}},AbstractFreeNovel.prototype.signIn=function(){this.goTo(this.tab,2),this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.openTreasure=function(){this.goTo(this.tab,2),ocrClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.watchAds=function(){this.goTo(this.tab,2),scrollClick("去观看","看小视频赚金币.*")&&(this.watch(text("日常福利")),scrollClick("领金币","看小视频赚金币.*"))},AbstractFreeNovel.prototype.shopping=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("去逛逛","逛街赚金币.*");)this.watch(text("日常福利")),scrollClick("领金币","逛街赚金币.*")},AbstractFreeNovel.prototype.readBook=function(t){this.openBook(),this.read(t)},AbstractFreeNovel.prototype.listenBook=function(){this.openBook(),id(this.packageName+":id/reader_listen_entry").exists()||normalClick(device.width/2,device.height/2),findAndClick(id(this.packageName+":id/reader_listen_entry"),{fixed:!0})&&(dialogClick("去看小视频")&&this.watch(text("边听边读")),goneClick("边听边读"))},AbstractFreeNovel.prototype.luckySpin=function(){if(this.goTo(this.tab,2),scrollClick("去抽奖","幸运大转盘.*")){var t=textStartsWith("今日剩余抽奖次数").findOnce();if(null!=t){var e=t.text().match("[0-9]+");if(e){f.debug("".concat(e));for(var o=0;o<parseInt(e[0]);o++)findAndClick("抽奖",{fixed:!0,ocrRecognize:!0,waitTimes:10,bounds:{bottom:1656}}),this.watch(text("幸运大转盘")),findAndClick("好的",{fixed:!0,waitFor:!0})}}}},AbstractFreeNovel.prototype.reward=function(){this.goTo(this.tab,2);var t=0;for(this.watchAdsForCoin("日常福利");++t<Ot&&scrollClick("领金币","阅读赚金币.*");)this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.reward2=function(){this.goTo(this.tab,2);var t=0;for(this.watchAdsForCoin("日常福利");++t<Ot&&scrollClick("领金币","听书赚金币.*");)this.watchAdsForCoin("日常福利")},AbstractFreeNovel.prototype.continueListen=function(){id(this.packageName+":id/voice_rl").exists()?findAndClick(id(this.packageName+":id/voice_rl"))&&(dialogClick("去看小视频")&&this.watch(text("边听边读")),goneClick("边听边读")):this.listenBook()},AbstractFreeNovel.prototype.openBook=function(){this.goTo(this.tab,1),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tv_book_one_book_title"),random(0,3))},AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"highEff",null),AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"lowEff",null),AbstractFreeNovel_decorate([measureExecutionTime],AbstractFreeNovel.prototype,"weight",null),AbstractFreeNovel_decorate([functionLog("签到")],AbstractFreeNovel.prototype,"signIn",null),AbstractFreeNovel_decorate([functionLog("开宝箱")],AbstractFreeNovel.prototype,"openTreasure",null),AbstractFreeNovel_decorate([functionLog("看视频")],AbstractFreeNovel.prototype,"watchAds",null),AbstractFreeNovel_decorate([functionLog("逛街")],AbstractFreeNovel.prototype,"shopping",null),AbstractFreeNovel_decorate([functionLog("阅读")],AbstractFreeNovel.prototype,"readBook",null),AbstractFreeNovel_decorate([functionLog("听书")],AbstractFreeNovel.prototype,"listenBook",null),AbstractFreeNovel_decorate([functionLog("幸运大转盘")],AbstractFreeNovel.prototype,"luckySpin",null),AbstractFreeNovel_decorate([functionLog("领取奖励")],AbstractFreeNovel.prototype,"reward",null),AbstractFreeNovel_decorate([functionLog("领取奖励")],AbstractFreeNovel.prototype,"reward2",null),AbstractFreeNovel}(x),K=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),G=function(t){function EggplantFree(){var e=t.call(this,$t)||this;return e.appName=qt,e.packageName=$t,e}return K(EggplantFree,t),EggplantFree}(V),U=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShou_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},W=function(t){function KuaiShou(){var e=t.call(this)||this;return e.appName=ye,e.packageName=ve,e.tab=id(e.packageName+":id/tab_layout"),e.register=id(e.packageName+":id/pendant_mask_bg"),e.initialComponent=e.tab,e.initialNum=1,e.depth=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e}return U(KuaiShou,t),KuaiShou.prototype.highEff=function(){var t=this;fixedClick("我知道了"),this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.mealSupp()},function(){t.like()},function(){t.comment()},function(){t.collect()},function(){t.like()},function(){t.comment()},function(){t.collect()}])},KuaiShou.prototype.lowEff=function(t){var e=this,o=0;doFuncAtGivenTimeByEstimate(t/2,(function(){e.watchAds(),++o%25==0&&e.openTreasure()})),doFuncAtGivenTime(t/2,1500,(function(t){e.swipeVideo(t),e.openTreasure()})),this.reward()},KuaiShou.prototype.weight=function(){this.goto(-1),scrollTo("[0-9]+",{coverBoundsScaling:1});var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(549),resizeY(429)).findOnce();if(null!=t){var e=parseInt(t.text());f.debug("weight: ".concat(e)),this.store(_.Weight,e)}},KuaiShou.prototype.signIn=function(){this.goto(-1),dialogClick("立即领取")&&(this.watchAdsForCoin("日常任务"),closeByImageMatching())},KuaiShou.prototype.swipeVideo=function(t){this.goto(1),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,10)},KuaiShou.prototype.openTreasure=function(){this.goto(-1),fixedClick("立刻领[0-9]+金币")&&this.watchAdsForCoin("日常任务")},KuaiShou.prototype.watchAds=function(){return this.goto(-1),!!findAndClick("领福利 赚更多",{coverBoundsScaling:1.2,leftRange:"看广告得.*金币",clickUntilGone:!0})&&(this.watch(text("日常任务")),!0)},KuaiShou.prototype.watchlive=function(){if(this.goto(-1),findAndClick("去观看 限时领",{coverBoundsScaling:1.2,leftRange:"看直播得.*金币",clickUntilGone:!0})){for(var t=0;t<6;t++)swipeDown(b.Fast,1e3),waitRandomTime(2),findAndClick(id(this.packageName+":id/photo"),{index:random(0,3),waitTimes:40})&&this.backUntilFind(id(this.packageName+":id/photo"));this.backUntilFind(text("日常任务")),findAndClick("领金币 限时领",{coverBoundsScaling:1.2,leftRange:"看直播得.*金币"})&&dialogClick("知道了")}},KuaiShou.prototype.mealSupp=function(){if(this.goto(-1),scrollClick("去查看|去领取","到饭点领饭补")){var t=0;for(fixedClick("领取饭补")&&this.watchAdsForCoin("看直播");++t<Ot&&fixedClick(".*待补签");)this.watch(text("已补签"))}},KuaiShou.prototype.like=function(){if(this.goto(-1),scrollClick("去点赞","点赞1个作品")){this.preNum=1,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Ot&&!fixedClick(id(this.packageName+":id/like_icon"));)swipeDown(b.Fast,400),waitRandomTime(2)}},KuaiShou.prototype.comment=function(){if(this.goto(-1),scrollClick("去评论","评论1个作品")){this.preNum=1,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Ot&&!fixedClick(id(this.packageName+":id/comment_icon"));)swipeDown(b.Fast,400),waitRandomTime(2);if(++t<Ot&&fixedClick(id(this.packageName+":id/editor_holder_text"))){var e=id(this.packageName+":id/editor").findOnce();null!=e&&(e.setText("打卡"),waitRandomTime(3),fixedClick(id(this.packageName+":id/finish_button"))&&back())}}},KuaiShou.prototype.collect=function(){if(this.goto(-1),scrollClick("去收藏","收藏1个作品")){this.preNum=1,swipeDown(b.Fast,400),waitRandomTime(2);for(var t=0;++t<Ot&&!fixedClick(id(this.packageName+":id/collect_icon"));)swipeDown(b.Fast,400),waitRandomTime(2)}},KuaiShou.prototype.reward=function(){this.goto(-1),fixedClick("领取奖励")&&closeByImageMatching()},KuaiShou.prototype.goto=function(t){-1===t?this.tab.exists()?(this.goTo(this.tab,0),fixedClick(id(this.packageName+":id/left_btn_parent"))&&fixedClick("任务中心")):this.backUntilFind(text("日常任务")):this.goTo(this.tab,t)},KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"highEff",null),KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"lowEff",null),KuaiShou_decorate([measureExecutionTime],KuaiShou.prototype,"weight",null),KuaiShou_decorate([functionLog("签到")],KuaiShou.prototype,"signIn",null),KuaiShou_decorate([functionLog("刷视频")],KuaiShou.prototype,"swipeVideo",null),KuaiShou_decorate([functionLog("开宝箱")],KuaiShou.prototype,"openTreasure",null),KuaiShou_decorate([functionLog("看广告")],KuaiShou.prototype,"watchAds",null),KuaiShou_decorate([functionLog("看直播")],KuaiShou.prototype,"watchlive",null),KuaiShou_decorate([functionLog("领饭补")],KuaiShou.prototype,"mealSupp",null),KuaiShou_decorate([functionLog("点赞")],KuaiShou.prototype,"like",null),KuaiShou_decorate([functionLog("评论")],KuaiShou.prototype,"comment",null),KuaiShou_decorate([functionLog("收藏")],KuaiShou.prototype,"collect",null),KuaiShou_decorate([functionLog("领取奖励")],KuaiShou.prototype,"reward",null),KuaiShou}(x),Y=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShouFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},H=function(t){function KuaiShouFree(){var e=t.call(this)||this;return e.coin=0,e.isFirst=!0,e.appName=we,e.packageName=Te,e.tab=id(e.packageName+":id/home_bottom_bar"),e.initialComponent=e.tab,e.initialNum=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,1200),e.lowEffEstimatedTime=0,e}return Y(KuaiShouFree,t),KuaiShouFree.prototype.highEff=function(){this.signIn(),this.coin=this.record(),this.openTreasure(),this.watchAds()},KuaiShouFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},KuaiShouFree.prototype.weight=function(){var t=this.record()-this.coin;this.store(_.Weight,t)},KuaiShouFree.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即签到")&&closeByImageMatching()},KuaiShouFree.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("去赚钱","看视频赚[0-9]+金币");)this.watch(text("日常任务"))},KuaiShouFree.prototype.openTreasure=function(){this.goTo(this.tab,2),fixedClick("点击领[0-9]+金币")&&this.watchAdsForCoin("日常任务")},KuaiShouFree.prototype.readBook=function(t){this.goTo(this.tab,1),fixedClick("领[0-9]+金币"),readClick(id(this.packageName+":id/book_name"),random(0,3))&&this.read(t)},KuaiShouFree.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("去领取","认真阅读小说额外奖励");)this.watchAdsForCoin("日常任务")},KuaiShouFree.prototype.record=function(){this.goTo(this.tab,2);var t=getScreenImage({left:resizeX(78),top:resizeY(339),right:resizeX(360),bottom:resizeY(438)}),e=ocr.recognizeText(t);t.recycle();var o=e.match("[0-9]+");return o?parseInt(o[0]):0},KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"highEff",null),KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"lowEff",null),KuaiShouFree_decorate([measureExecutionTime],KuaiShouFree.prototype,"weight",null),KuaiShouFree_decorate([functionLog("签到")],KuaiShouFree.prototype,"signIn",null),KuaiShouFree_decorate([functionLog("看视频")],KuaiShouFree.prototype,"watchAds",null),KuaiShouFree_decorate([functionLog("开宝箱")],KuaiShouFree.prototype,"openTreasure",null),KuaiShouFree_decorate([functionLog("阅读")],KuaiShouFree.prototype,"readBook",null),KuaiShouFree_decorate([functionLog("领取奖励")],KuaiShouFree.prototype,"reward",null),KuaiShouFree}(x),X=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),KuaiShouLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},J=function(t){function KuaiShouLite(){var e=t.call(this)||this;return e.appName=be,e.packageName=ke,e.tab=id(e.packageName+":id/tab_layout"),e.initialComponent=e.tab,e.initialNum=0,e.depth=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,300),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return X(KuaiShouLite,t),KuaiShouLite.prototype.highEff=function(){this.signIn(),this.openTreasure()},KuaiShouLite.prototype.lowEff=function(t){var e=this,o=0;doFuncAtGivenTimeByEstimate(t/2,(function(){e.watchAds(),++o%15==0&&e.openTreasure()})),doFuncAtGivenTime(t/2,600,(function(t){e.swipeVideo(t),e.openTreasure()}))},KuaiShouLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("我的金币",{coverBoundsScaling:1});var t=searchByOcrRecognize("[0-9]+"),e=(t[0],t[1]);if(null!=e){var o=parseInt(e.toString());f.debug("weight: ".concat(o)),this.store(_.Weight,o)}},KuaiShouLite.prototype.swipeVideo=function(t){this.goTo(this.tab,0),f.log("预计刷视频".concat(convertSecondsToMinutes(t),"分钟")),moveDown(t,15)},KuaiShouLite.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即领取")&&(this.watchAdsForCoin("日常福利"),closeByImageMatching())},KuaiShouLite.prototype.watchAds=function(){return this.goTo(this.tab,2),!!scrollClick("领福利","看广告得[0-9]+金币")&&(this.watch(text("日常任务")),!0)},KuaiShouLite.prototype.watchLive=function(){if(this.goTo(this.tab,2),scrollClick("领福利","看6次直播领金币"))for(var t=0;t<6;t++)swipeDown(b.Fast,1e3),waitRandomTime(2),findAndClick(id(this.packageName+":id/play_view_container"),{index:random(0,3),waitTimes:70})&&this.backUntilFind(id(this.packageName+":id/play_view_container"))},KuaiShouLite.prototype.openTreasure=function(){if(this.goTo(this.tab,2),this.watchAdsForCoin("日常福利"),fixedClick("开宝箱得金币")){var t=search("恭喜你获得"),e=t[0],o=(t[1],search("[0-9]+金币",{bounds:{top:e.bottom}}));o[0];if(getNumFromComponent(o[1])<jt)throw new w(this.appName+"账号异常");this.watchAdsForCoin("日常福利")}},KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"highEff",null),KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"lowEff",null),KuaiShouLite_decorate([measureExecutionTime],KuaiShouLite.prototype,"weight",null),KuaiShouLite_decorate([functionLog("刷视频")],KuaiShouLite.prototype,"swipeVideo",null),KuaiShouLite_decorate([functionLog("签到")],KuaiShouLite.prototype,"signIn",null),KuaiShouLite_decorate([functionLog("看广告")],KuaiShouLite.prototype,"watchAds",null),KuaiShouLite_decorate([functionLog("看直播")],KuaiShouLite.prototype,"watchLive",null),KuaiShouLite_decorate([functionLog("开宝箱")],KuaiShouLite.prototype,"openTreasure",null),KuaiShouLite}(x),Q=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),MarvelFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},q=function(t){function MarvelFree(){var e=t.call(this)||this;return e.appName=ee,e.packageName=oe,e.tab=id(e.packageName+":id/tab_layout"),e.initialComponent=e.tab,e.initialNum=0,e.depth=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,900),e.lowEffEstimatedTime=0,e}return Q(MarvelFree,t),MarvelFree.prototype.highEff=function(){this.signIn(),this.openTreasure(),this.watchAds()},MarvelFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},MarvelFree.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches("[0-9]+").boundsInside(0,0,resizeX(582),resizeY(735)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},MarvelFree.prototype.signIn=function(){this.goTo(this.tab,2),textStartsWith("今日签到").exists()&&closeByImageMatching()},MarvelFree.prototype.openTreasure=function(){this.goTo(this.tab,2),fixedClick("开宝箱")&&this.watchAdsForCoin("日常福利")},MarvelFree.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&textMatches("看视频领金币.+").exists()&&scrollClick("去领取","看视频领金币.+");)this.watch(text("日常福利"))},MarvelFree.prototype.readBook=function(t){this.goTo(this.tab,0),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tv_book_name"),2*random(0,3))&&this.read(t)},MarvelFree.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&findAndClick(text("领金币").depth(24));)this.watchAdsForCoin("日常福利")},MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"highEff",null),MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"lowEff",null),MarvelFree_decorate([measureExecutionTime],MarvelFree.prototype,"weight",null),MarvelFree_decorate([functionLog("签到")],MarvelFree.prototype,"signIn",null),MarvelFree_decorate([functionLog("开宝箱")],MarvelFree.prototype,"openTreasure",null),MarvelFree_decorate([functionLog("看视频")],MarvelFree.prototype,"watchAds",null),MarvelFree_decorate([functionLog("阅读")],MarvelFree.prototype,"readBook",null),MarvelFree_decorate([functionLog("领取奖励")],MarvelFree.prototype,"reward",null),MarvelFree}(x),$=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),Z=function(t){function PandaBrain(){var e=t.call(this,te)||this;return e.appName=Zt,e.packageName=te,e}return $(PandaBrain,t),PandaBrain}(V),tt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),et=function(t){function AbstractTomato(){var e=t.call(this)||this;return e.exchangeRate=33e3,e}return tt(AbstractTomato,t),AbstractTomato.prototype.sign=function(){if(findAndClick("立即签到.+",{fixed:!0,feedback:!0}),findAndClick("看视频立即续签|额外领[0-9]+金币",{fixed:!0})&&(this.watch(textMatches(merge(["日常福利","看视频立即续签"]))),text("看视频立即续签").exists()))throw new w(this.appName);this.watchAdsForCoin("日常福利")},AbstractTomato.prototype.open=function(){fixedClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},AbstractTomato}(x),ot=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),RedFruits_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},it=function(t){function RedFruits(){var e=t.call(this)||this;return e.list=["阅读赚金币"],e.appName=Ht,e.packageName=Xt,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,1200),e.initialComponent=text("首页"),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return ot(RedFruits,t),RedFruits.prototype.highEff=function(){this.signIn(),this.openTreasure(),this.watchAds(),this.mealSupp()},RedFruits.prototype.lowEff=function(t){var e=this;this.goTo(text("福利"),-1);var o=!1;textMatches("看短剧(自动)?赚金币").exists()&&(textMatches("看短剧赚金币").exists()&&this.list.push("看短剧赚金币"),o=!0),doFuncAtGivenTime(t/2,600,(function(t){o?e.swipeVideo(t):e.readBook(t),e.openTreasure(),e.reward()})),doFuncAtGivenTime(t/2,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()}))},RedFruits.prototype.weight=function(){this.goTo(text("福利"),-1),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(540),resizeY(442)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},RedFruits.prototype.swipeVideo=function(t){if(this.goTo(text("首页"),-1),findAndClick(id(this.packageName+":id/ll_tab_content_layout"),{selectedThreshold:170,index:1})&&readClick(id(this.packageName+":id/title_tv"),random(0,7))){f.log("计划时间: ".concat(convertSecondsToMinutes(t),"分钟"));for(var e=0;t>e;)textMatches(merge(["上滑查看下一集","上滑继续观看短剧"])).exists()&&gesture(1e3,[resizeX(random(380,420)),resizeY(random(1750,1850))],[resizeX(random(780,820)),resizeY(random(250,350))]),e+=waitRandomTime(30)}},RedFruits.prototype.readBook=function(t){this.goTo(text("首页"),-1),selectedClick("经典",170)&&findAndClick(id(this.packageName+":id/name_tv"),{leftRange:random(1,8).toString(),coverBoundsScaling:1})&&this.read(t)},RedFruits.prototype.reward=function(){this.goTo(text("福利"),-1);for(var t=0,e=0,o=this.list;e<o.length;e++)for(var i=o[e];++t<Ot&&scrollClick("立即领取",i);)this.watchAdsForCoin("日常福利")},RedFruits.prototype.signIn=function(){this.goTo(text("福利"),-1),this.sign(),findAndClick("去签到",{coverBoundsScaling:1})&&this.sign()},RedFruits.prototype.watchAds=function(){this.goTo(text("福利"),-1);for(var t=0;++t<Ot&&scrollClick("去观看","看视频赚海量金币");)this.watch(text("日常福利"))},RedFruits.prototype.openTreasure=function(){this.goTo(text("福利"),-1),this.open()},RedFruits.prototype.mealSupp=function(){if(this.goTo(text("福利"),-1),scrollClick("去领取","吃饭补贴")){fixedClick("领.*补贴[0-9]+金币")&&this.watchAdsForCoin("已按时吃饭.*天");for(var t=0;++t<Ot&&fixedClick("看视频补领一次补贴");)this.watch(textMatches("已按时吃饭.*天|恭喜获得")),this.watchAdsForCoin("已按时吃饭.*天")}},RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"highEff",null),RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"lowEff",null),RedFruits_decorate([measureExecutionTime],RedFruits.prototype,"weight",null),RedFruits_decorate([functionLog("刷短剧")],RedFruits.prototype,"swipeVideo",null),RedFruits_decorate([functionLog("阅读")],RedFruits.prototype,"readBook",null),RedFruits_decorate([functionLog("领取奖励")],RedFruits.prototype,"reward",null),RedFruits_decorate([functionLog("签到")],RedFruits.prototype,"signIn",null),RedFruits_decorate([functionLog("看广告")],RedFruits.prototype,"watchAds",null),RedFruits_decorate([functionLog("开宝箱")],RedFruits.prototype,"openTreasure",null),RedFruits_decorate([functionLog("吃饭补贴")],RedFruits.prototype,"mealSupp",null),RedFruits}(et),nt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),SevenCatsFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},rt=function(t){function SevenCatsFree(){var e=t.call(this,se)||this;return e.appName=ae,e.packageName=se,e}return nt(SevenCatsFree,t),SevenCatsFree.prototype.weight=function(){this.goTo(this.tab,2);var t=textMatches(".*今日金币.*").findOnce();if(null!=t){var e=t.text().match(/[0-9]+今日金币/);if(e){var o=parseInt(e[0]);this.store(_.Weight,o)}}},SevenCatsFree.prototype.signIn=function(){this.goTo(this.tab,2),dialogClick("立即签到.+"),this.watchAdsForCoin("日常福利")},SevenCatsFree_decorate([measureExecutionTime],SevenCatsFree.prototype,"weight",null),SevenCatsFree_decorate([functionLog("签到")],SevenCatsFree.prototype,"signIn",null),SevenCatsFree}(V),ct=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ShuQi_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},at=function(t){function ShuQi(){var e=t.call(this)||this;return e.appName=re,e.packageName=ce,e.tab=id("android:id/tabs"),e.initialComponent=e.tab,e.initialNum=1,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,900),e.lowEffEstimatedTime=0,e}return ct(ShuQi,t),ShuQi.prototype.highEff=function(){this.signIn(),this.watchAds(),this.reward()},ShuQi.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.readBook(t),e.reward()}))},ShuQi.prototype.weight=function(){this.goTo(this.tab,4);var t=id(this.packageName+":id/account_worth_money").findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},ShuQi.prototype.signIn=function(){this.goTo(this.tab,2),(dialogClick("立即签到")||scrollClick("去签到","每日签到")&&dialogClick("立即签到"))&&(closeByImageMatching(),closeByImageMatching())},ShuQi.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("去观看","看视频赚[0-9]+金币");)this.watch(text("做任务 赚金币"))},ShuQi.prototype.readBook=function(t){this.goTo(this.tab,1),selectedClick("推荐",170)&&readClick(id(this.packageName+":id/tpl_book_name"),2*random(0,3))&&this.read(t)},ShuQi.prototype.reward=function(){this.goTo(this.tab,2),scrollClick("(一键|加倍)收取")&&(this.watchAdsForCoin("做任务 赚金币"),dialogClick("领取加倍奖励"),closeByImageMatching())},ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"highEff",null),ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"lowEff",null),ShuQi_decorate([measureExecutionTime],ShuQi.prototype,"weight",null),ShuQi_decorate([functionLog("签到")],ShuQi.prototype,"signIn",null),ShuQi_decorate([functionLog("看视频")],ShuQi.prototype,"watchAds",null),ShuQi_decorate([functionLog("阅读")],ShuQi.prototype,"readBook",null),ShuQi_decorate([functionLog("领取奖励")],ShuQi.prototype,"reward",null),ShuQi}(x),st=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),SpeedFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},ut=function(t){function SpeedFree(){var e=t.call(this)||this;return e.appName=ie,e.packageName=ne,e.initialComponent=desc("bookstore_button"),e.exchangeRate=33e3,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,7200),e.lowEffEstimatedTime=0,e}return st(SpeedFree,t),SpeedFree.prototype.highEff=function(){this.signIn(),this.listenBook(),this.openTreasure(),this.watchAds(),this.reward()},SpeedFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.listenBook(),e.readBook(t),e.openTreasure(),e.reward()}))},SpeedFree.prototype.weight=function(){this.goTo(desc("discovery_button"),-1),scrollTo("金币收益");var t=textMatches("[0-9]+").boundsInside(0,0,resizeX(420),resizeY(432)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},SpeedFree.prototype.signIn=function(){this.goTo(desc("discovery_button"),-1),dialogClick("立即签到.+")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.openTreasure=function(){this.goTo(desc("discovery_button"),-1),fixedClick("开宝箱得金币")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.watchAds=function(){this.goTo(desc("discovery_button"),-1);for(var t=0;++t<Ot&&scrollClick("去观看","看视频赚金币");)this.watch(text("日常福利")),this.watchAdsForCoin("日常福利")},SpeedFree.prototype.readBook=function(t){this.goTo(desc("bookstore_button"),-1);var e=id("com.dj.speed:id/channel_tab").findOnce();null!=e&&findAndClick("推荐",{fixed:!0,ocrRecognize:!0,bounds:e.bounds(),selectedThreshold:100})&&readClick(id("com.zhangyue.iReader.bookStore:id/iv_book"),random(0,5))&&this.read(t)},SpeedFree.prototype.listenBook=function(){this.goTo(desc("bookstore_button"),-1);var t=id("com.dj.speed:id/channel_tab").findOnce();null!=t&&findAndClick("听书",{fixed:!0,ocrRecognize:!0,bounds:t.bounds(),selectedThreshold:100})&&findAndClick(id("com.zhangyue.iReader.bookStore:id/id_audition_btn"),{index:random(0,7)})&&dialogClick(merge(["看视频","看广告加时长"]))&&this.watch(desc("bookstore_button"))},SpeedFree.prototype.mealSupp=function(){this.goTo(desc("discovery_button"),-1),scrollClick("立即领取","吃饭赚钱")&&this.watchAdsForCoin("日常福利")},SpeedFree.prototype.reward=function(){this.goTo(desc("discovery_button"),-1);for(var t=0,e=0,o=["阅读赚海量金币","听书赚海量金币"];e<o.length;e++)for(var i=o[e];++t<Ot&&scrollClick("领取",i);)this.watchAdsForCoin("日常福利")},SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"highEff",null),SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"lowEff",null),SpeedFree_decorate([measureExecutionTime],SpeedFree.prototype,"weight",null),SpeedFree_decorate([functionLog("签到")],SpeedFree.prototype,"signIn",null),SpeedFree_decorate([functionLog("开宝箱")],SpeedFree.prototype,"openTreasure",null),SpeedFree_decorate([functionLog("看广告")],SpeedFree.prototype,"watchAds",null),SpeedFree_decorate([functionLog("阅读")],SpeedFree.prototype,"readBook",null),SpeedFree_decorate([functionLog("听书")],SpeedFree.prototype,"listenBook",null),SpeedFree_decorate([functionLog("领饭补")],SpeedFree.prototype,"mealSupp",null),SpeedFree_decorate([functionLog("领取奖励")],SpeedFree.prototype,"reward",null),SpeedFree}(x),lt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),ft=function(t){function StarrySky(){var e=t.call(this,pe)||this;return e.appName=fe,e.packageName=pe,e}return lt(StarrySky,t),StarrySky}(V),pt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),AbstractTikTok_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},dt=function(t){function AbstractTikTok(){var e=t.call(this)||this;return e.moveFlag=!0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,600),e.medEffEstimatedTime=e.fetch(_.MedEffEstimatedTime,1800),e.lowEffEstimatedTime=0,e}return pt(AbstractTikTok,t),AbstractTikTok.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.watchAds()},function(){t.shopping()}])},AbstractTikTok.prototype.medEff=function(){this.watchLive()},AbstractTikTok.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,1200,(function(t){e.swipeVideo(t),randomExecute([function(){e.openTreasure()},function(){e.watchAds()},function(){e.shopping()}])}))},AbstractTikTok.prototype.scrollOcrClick=function(t,e){for(;0<Ot&&void 0===searchByOcrRecognize(e)[0];)this.move();if(0>=Ot)return!1;var o=searchByOcrRecognize(e),i=o[0];o[1];return!!findAndClick(t,{fixed:!0,ocrRecognize:!0,bounds:{top:i.top,bottom:i.bottom+80}})||(this.move(),this.scrollOcrClick(t,e))},AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"highEff",null),AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"medEff",null),AbstractTikTok_decorate([measureExecutionTime],AbstractTikTok.prototype,"lowEff",null),AbstractTikTok}(x),ht=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TikTokLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},gt=function(t){function TikTokLite(){var e=t.call(this)||this;return e.appName=de,e.packageName=he,e.tab=id(e.packageName+":id/root_view"),e.initialComponent=e.tab,e.initialNum=0,e}return ht(TikTokLite,t),TikTokLite.prototype.move=function(){this.moveFlag?swipeDown(b.Fast,1e3):swipeUp(b.Fast,1e3),waitRandomTime(2),void 0!==searchByOcrRecognize("日常任务")[0]&&(this.moveFlag=!0),void 0!==searchByOcrRecognize("已经到底了")[0]&&(this.moveFlag=!1)},TikTokLite.prototype.weight=function(){for(this.goto(-1);void 0===searchByOcrRecognize("金币收益.*")[0];)this.move();var t=searchByOcrRecognize("金币收益.*"),e=(t[0],getNumFromComponent(t[1]));if(0===e){var o=searchByOcrRecognize("[0-9]+");o[0];e=getNumFromComponent(o[1])}this.store(_.Weight,e)},TikTokLite.prototype.signIn=function(){this.goto(-1),dialogClick("立即签到.+|立即领取.+")&&this.watchAdsForCoin("首页")},TikTokLite.prototype.openTreasure=function(){this.goto(-1),ocrClick("开宝箱得金币")&&this.watchAdsForCoin("首页")},TikTokLite.prototype.watchAds=function(){this.goto(-1),this.scrollOcrClick(".?去领取.?","看广告赚金币.*")&&this.watch(text("首页"))},TikTokLite.prototype.watchLive=function(){if(this.goto(-1),this.scrollOcrClick(".?去看看.?","看直播开宝箱.*")){for(;text("再等一下").exists();){var t=text("开宝箱").findOne(18e4);if(null==t)break;randomClick(t.bounds()),closeByImageMatching()}this.backUntilFind(text("首页"))}},TikTokLite.prototype.shoppingHot=function(){this.goto(-1),this.scrollOcrClick(".?去抢购.?",".?浏览爆款得金币.*")&&(moveDown(130,2),this.backUntilFind(text("首页")))},TikTokLite.prototype.shopping=function(){this.goto(-1),this.scrollOcrClick(".?去.?街.?",".?街赚钱.*")&&(moveDown(65,4),this.backUntilFind(text("首页")))},TikTokLite.prototype.swipeVideo=function(t){this.goto(0),moveDown(t,10)},TikTokLite.prototype.goto=function(t){var e=search(className("android.widget.HorizontalScrollView")),o=e[0],i=(e[1],(o.top+o.bottom)/2);this.goTo(this.tab,0),-1===t?i<500?findAndClick(className("android.widget.FrameLayout"),{fixed:!0,bounds:{top:i,bottom:device.height/3,left:2*device.width/3}}):this.backUntilFind(this.tab):0===t&&i>500&&back()},TikTokLite_decorate([measureExecutionTime],TikTokLite.prototype,"weight",null),TikTokLite_decorate([functionLog("签到")],TikTokLite.prototype,"signIn",null),TikTokLite_decorate([functionLog("开宝箱")],TikTokLite.prototype,"openTreasure",null),TikTokLite_decorate([functionLog("看视频")],TikTokLite.prototype,"watchAds",null),TikTokLite_decorate([functionLog("看直播")],TikTokLite.prototype,"watchLive",null),TikTokLite_decorate([functionLog("浏览爆款")],TikTokLite.prototype,"shoppingHot",null),TikTokLite_decorate([functionLog("逛街")],TikTokLite.prototype,"shopping",null),TikTokLite_decorate([functionLog("刷视频")],TikTokLite.prototype,"swipeVideo",null),TikTokLite}(dt),mt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TikTokVolcano_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},yt=function(t){function TikTokVolcano(){var e=t.call(this)||this;return e.appName=ge,e.packageName=me,e.initialComponent=text("首页"),e.exchangeRate=3e4,e}return mt(TikTokVolcano,t),TikTokVolcano.prototype.weight=function(){for(this.goto();void 0===searchByOcrRecognize("今日领取火苗.*")[0];)this.move();var t=searchByOcrRecognize("今日领取火苗.*"),e=(t[0],getNumFromComponent(t[1]));this.store(_.Weight,e)},TikTokVolcano.prototype.signIn=function(){this.goto(),this.watchAdsForCoin("我的赠送榜")},TikTokVolcano.prototype.openTreasure=function(){this.goto(),findAndClick(".?开宝箱得火苗.?",{ocrRecognize:!0,fixed:!0,feedback:!0})&&this.watchAdsForCoin("我的赠送榜")},TikTokVolcano.prototype.watchAds=function(){this.goto(),this.scrollOcrClick(".?去领取.?","限时任务赚火苗.*")&&this.watch(text("我的赠送榜"))},TikTokVolcano.prototype.shopping=function(){this.goto(),this.scrollOcrClick(".?去.?街.?",".?街得火苗.*")&&(moveDown(65,4),this.backUntilFind(text("我的赠送榜")))},TikTokVolcano.prototype.watchLive=function(){if(this.goto(),this.scrollOcrClick(".?去看看.?","看直播领火苗.*")){for(;!text("明天再来").exists();){var t=text("开宝箱").findOne(18e4);if(null==t)break;randomClick(t.bounds()),dialogClick("收下火苗")}this.backUntilFind(text("我的赠送榜"))}},TikTokVolcano.prototype.swipeVideo=function(t){this.goTo(text("首页"),-1),moveDown(t,10)},TikTokVolcano.prototype.move=function(){var t=0,e=text("我的赠送榜").findOnce();null!==e&&(t=e.bounds().centerY()),this.moveFlag?swipeDown(b.Fast,1e3):swipeUp(b.Fast,1e3),waitRandomTime(2),null!==(e=text("我的赠送榜").findOnce())&&t===e.bounds().centerY()&&(this.moveFlag=!this.moveFlag)},TikTokVolcano.prototype.goto=function(){text("首页").exists()?(this.goTo(text("首页"),-1),fixedClick(desc("侧边栏"))&&fixedClick("火苗")):this.backUntilFind(text("我的赠送榜"))},TikTokVolcano_decorate([measureExecutionTime],TikTokVolcano.prototype,"weight",null),TikTokVolcano_decorate([functionLog("签到")],TikTokVolcano.prototype,"signIn",null),TikTokVolcano_decorate([functionLog("开宝箱")],TikTokVolcano.prototype,"openTreasure",null),TikTokVolcano_decorate([functionLog("看广告")],TikTokVolcano.prototype,"watchAds",null),TikTokVolcano_decorate([functionLog("逛街")],TikTokVolcano.prototype,"shopping",null),TikTokVolcano_decorate([functionLog("看直播")],TikTokVolcano.prototype,"watchLive",null),TikTokVolcano_decorate([functionLog("刷视频")],TikTokVolcano.prototype,"swipeVideo",null),TikTokVolcano}(dt),vt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),Tomato_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},wt=function(t){function Tomato(){var e=t.call(this)||this;return e.appName=Vt,e.packageName=Kt,e.randomTab=className("android.widget.RadioGroup").boundsInside(0,device.height-300,device.width,device.height).boundsContains(0,device.height-100,device.width,device.height-50),e.initialNum=0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,Rt),e.medEffEstimatedTime=e.fetch(_.MedEffEstimatedTime,5400),e.lowEffEstimatedTime=0,e}return vt(Tomato,t),Tomato.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.winGoldCoin()},function(){t.listenBook()},function(){t.watchAds()}])},Tomato.prototype.medEff=function(){var t=0;do{this.readBook(180),t%3==0&&this.openTreasure()}while(++t<Ot&&this.watchAds());this.reward()},Tomato.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t,600,(function(t){e.readBook(t),e.watchAds(),e.openTreasure(),e.reward()}))},Tomato.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(535),resizeY(627)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},Tomato.prototype.signIn=function(){this.goTo(this.tab,2),this.sign(),scrollTo("金币献爱心",{waitFor:!0}),findAndClick("立即签到",{leftRange:"(明日)?签到",coverBoundsScaling:1})&&this.sign()},Tomato.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0,e=0,o=["听书赚金币","阅读赚金币","听书额外存金币"];e<o.length;e++)for(var i=o[e];++t<Ot&&scrollClick("(?:立即|翻倍)领取",i);)this.watchAdsForCoin("日常福利")},Tomato.prototype.listenBook=function(){if(this.goTo(this.tab,0),selectedClick("推荐",170)){for(findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),index:1});!text("阅读电子书").exists();)back(),waitRandomTime(3),gesture(1e3,[resizeX(random(580,620)),resizeY(random(950,1050))],[resizeX(random(780,820)),resizeY(random(1750,1850))]),waitRandomTime(3),findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),index:1});fixedClick(merge(["开始播放","续播"]))}},Tomato.prototype.readBook=function(t){if(this.goTo(this.tab,0),selectedClick("推荐",170)){for(findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});!text("阅读电子书").exists();)back(),waitRandomTime(5),swipeUp(b.Fast,1e3),waitRandomTime(5),findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});fixedClick("阅读电子书")&&this.read(t)}},Tomato.prototype.watchAds=function(){return this.goTo(this.tab,2),text("看视频赚金币").exists()||scrollTo("金币献爱心",{waitFor:!0}),!!scrollClick("立即观看","看视频赚金币")&&(this.watch(text("日常福利")),null!=text("立即观看").findOne(1e4)&&this.watchAds(),!0)},Tomato.prototype.openTreasure=function(){this.goTo(this.tab,2),this.open()},Tomato.prototype.winGoldCoin=function(){if(this.goTo(this.tab,2),scrollClick("去抽奖","天天抽奖赢金币")&&findAndClick("抽奖",{fixed:!0,waitTimes:10}))for(var t=0;++t<Ot&&scrollClick("待领取");)this.watchAdsForCoin("已领取")},Tomato_decorate([measureExecutionTime],Tomato.prototype,"highEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"medEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"lowEff",null),Tomato_decorate([measureExecutionTime],Tomato.prototype,"weight",null),Tomato_decorate([functionLog("签到")],Tomato.prototype,"signIn",null),Tomato_decorate([functionLog("领取奖励")],Tomato.prototype,"reward",null),Tomato_decorate([functionLog("听书")],Tomato.prototype,"listenBook",null),Tomato_decorate([functionLog("阅读")],Tomato.prototype,"readBook",null),Tomato_decorate([functionLog("看广告")],Tomato.prototype,"watchAds",null),Tomato_decorate([functionLog("开宝箱")],Tomato.prototype,"openTreasure",null),Tomato_decorate([functionLog("抽奖赢金币")],Tomato.prototype,"winGoldCoin",null),Tomato}(et),Tt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TomatoFree_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},bt=function(t){function TomatoFree(){var e=t.call(this)||this;return e.appName=Gt,e.packageName=Ut,e.tab=id(e.packageName+":id/radio_group"),e.initialComponent=e.tab,e.initialNum=0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,2100),e.lowEffEstimatedTime=0,e.lowEffAssmitCount=2,e}return Tt(TomatoFree,t),TomatoFree.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.mealSupp()},function(){t.listenBook(),t.watchAds()}]),this.reward()},TomatoFree.prototype.lowEff=function(t){var e=this;doFuncAtGivenTime(t/2,600,(function(t){e.readBook(t),e.openTreasure(),e.reward()})),doFuncAtGivenTime(t/2,600,(function(t){e.swipeVideo(t),e.openTreasure(),e.reward()}))},TomatoFree.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(581),resizeY(567)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},TomatoFree.prototype.signIn=function(){this.goTo(this.tab,2),this.sign(),scrollTo("金币献爱心",{waitFor:!0}),findAndClick("去签到",{coverBoundsScaling:1})&&this.sign()},TomatoFree.prototype.listenBook=function(){if(this.goTo(this.tab,0),selectedClick("推荐",170)){for(findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});!textMatches("全部播放|续播").exists();)back(),waitRandomTime(5),swipeUp(b.Fast,1e3),waitRandomTime(5),findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});fixedClick("全部播放|续播")}},TomatoFree.prototype.mealSupp=function(){this.goTo(this.tab,2),scrollClick("去领取","吃饭补贴")&&fixedClick("领取.*补贴[0-9]+金币")&&this.watchAdsForCoin("日常福利")},TomatoFree.prototype.readBook=function(t){if(this.goTo(this.tab,0),selectedClick("推荐",170)){for(findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});!text("阅读电子书").exists();)back(),waitRandomTime(3),swipeUp(b.Fast,1e3),waitRandomTime(3),findAndClick(className("android.widget.TextView"),{leftRange:random(1,4).toString(),coverBoundsScaling:1});fixedClick("阅读电子书")&&this.read(t)}},TomatoFree.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0,e=0,o=["阅读赚金币","听书赚金币","看短剧赚金币"];e<o.length;e++)for(var i=o[e];++t<Ot&&scrollClick("立即领取",i);)this.watchAdsForCoin("日常福利")},TomatoFree.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("立即领取","看视频赚金币");)this.watch(text("日常福利"))},TomatoFree.prototype.swipeVideo=function(t){if(this.goTo(this.tab,0),selectedClick("看剧",170)&&readClick(id(this.packageName+":id/title_tv"),random(0,8))){f.log("计划时间: ".concat(convertSecondsToMinutes(t),"分钟"));for(var e=0;t>e;)textMatches(merge(["上滑查看下一集","上滑继续观看短剧"])).exists()&&swipeDown(b.Fast,200),e+=waitRandomTime(30)}},TomatoFree.prototype.openTreasure=function(){this.goTo(this.tab,2),this.open()},TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"highEff",null),TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"lowEff",null),TomatoFree_decorate([measureExecutionTime],TomatoFree.prototype,"weight",null),TomatoFree_decorate([functionLog("签到")],TomatoFree.prototype,"signIn",null),TomatoFree_decorate([functionLog("听书")],TomatoFree.prototype,"listenBook",null),TomatoFree_decorate([functionLog("领取餐补")],TomatoFree.prototype,"mealSupp",null),TomatoFree_decorate([functionLog("阅读")],TomatoFree.prototype,"readBook",null),TomatoFree_decorate([functionLog("领取奖励")],TomatoFree.prototype,"reward",null),TomatoFree_decorate([functionLog("看视频")],TomatoFree.prototype,"watchAds",null),TomatoFree_decorate([functionLog("看短剧")],TomatoFree.prototype,"swipeVideo",null),TomatoFree_decorate([functionLog("开宝箱")],TomatoFree.prototype,"openTreasure",null),TomatoFree}(et),kt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),TomatoLite_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},_t=function(t){function TomatoLite(){var e=t.call(this)||this;return e.appName=Wt,e.packageName=Yt,e.randomTab=className("android.widget.RadioGroup").boundsInside(0,device.height-300,device.width,device.height).boundsContains(0,device.height-100,device.width,device.height-50),e.initialNum=0,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,2100),e}return kt(TomatoLite,t),TomatoLite.prototype.highEff=function(){var t=this;this.signIn(),randomExecute([function(){t.openTreasure()},function(){t.mealSupp()},function(){t.winGoldCoin()},function(){t.listenBook(),t.watchAds()}]),this.reward()},TomatoLite.prototype.weight=function(){this.goTo(this.tab,2),scrollTo("金币收益");var t=textMatches(/(\d+)/).boundsInside(0,0,resizeX(540),resizeY(373)).findOnce();if(null!=t){var e=parseInt(t.text());this.store(_.Weight,e)}},TomatoLite.prototype.signIn=function(){this.goTo(this.tab,2),this.sign(),findAndClick("立即签到",{coverBoundsScaling:1})&&this.sign()},TomatoLite.prototype.listenBook=function(){this.goTo(this.tab,0),selectedClick("音乐",170)&&fixedClick("排行榜")&&scrollClick(random(1,8).toString())},TomatoLite.prototype.reward=function(){this.goTo(this.tab,2);for(var t=0,e=0,o=["听音乐赚金币","每日听歌赚钱"];e<o.length;e++)for(var i=o[e];++t<Ot&&scrollClick("立即领取",i);)this.watchAdsForCoin("日常福利")},TomatoLite.prototype.mealSupp=function(){this.goTo(this.tab,2),scrollClick("去领取","吃饭补贴")&&dialogClick("领取.*补贴[0-9]金币")&&this.watchAdsForCoin("日常福利")},TomatoLite.prototype.watchAds=function(){this.goTo(this.tab,2);for(var t=0;++t<Ot&&scrollClick("立即观看","看视频赚金币");)f.log("正在观看第".concat(t,"个广告")),this.watch(text("日常福利")),t%3==0&&this.openTreasure(),text("立即观看").findOne(18e4)},TomatoLite.prototype.openTreasure=function(){this.goTo(this.tab,2),this.open()},TomatoLite.prototype.winGoldCoin=function(){if(this.goTo(this.tab,2),scrollClick("去抽奖","天天抽奖赢金币"))for(var t=0;++t<Ot&&findAndClick("抽奖",{fixed:!0,waitTimes:10})&&!dialogClick("开心收下");)this.watchAdsForCoin("日常福利")},TomatoLite_decorate([measureExecutionTime],TomatoLite.prototype,"highEff",null),TomatoLite_decorate([measureExecutionTime],TomatoLite.prototype,"weight",null),TomatoLite_decorate([functionLog("签到")],TomatoLite.prototype,"signIn",null),TomatoLite_decorate([functionLog("听书")],TomatoLite.prototype,"listenBook",null),TomatoLite_decorate([functionLog("领取奖励")],TomatoLite.prototype,"reward",null),TomatoLite_decorate([functionLog("领取餐补")],TomatoLite.prototype,"mealSupp",null),TomatoLite_decorate([functionLog("看广告")],TomatoLite.prototype,"watchAds",null),TomatoLite_decorate([functionLog("开宝箱")],TomatoLite.prototype,"openTreasure",null),TomatoLite_decorate([functionLog("去抽奖")],TomatoLite.prototype,"winGoldCoin",null),TomatoLite}(et),xt=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),WanChao_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Ct=function(t){function WanChao(){var e=t.call(this)||this;return e.appName=ue,e.packageName=le,e.highEffEstimatedTime=e.fetch(_.HighEffEstimatedTime,Rt),e}return xt(WanChao,t),WanChao.prototype.highEff=function(){this.readForMoney()},WanChao.prototype.weight=function(){this.store(_.Weight,0)},WanChao.prototype.readForMoney=function(){if(findAndClick("阅读有礼")){for(var t=0;++t<Ot&&text("请完成安全验证").exists();)this.overDetection(),waitRandomTime(4);for(;++t<Ot&&findAndClick("待完成",{waitTimes:10,coverBoundsScaling:1});)back(),waitRandomTime(4);if(fixedClick("抽奖")){var e=idContains("nc_1_n1z").findOnce();if(null!=e&&(swipe(e.bounds().centerX(),e.bounds().centerY(),device.width,e.bounds().centerY()+random(-25,0),100),waitRandomTime(3)),findAndClick("抽奖",{ocrRecognize:!0,bounds:{top:200}})){var o=textMatches("[0-9]+.[0-9]+元").boundsInside(resizeX(108),resizeY(1140),resizeX(972),resizeY(1323)).findOnce();null!=o&&(f.log("中奖".concat(o.text())),this.store(_.Weight,parseFloat(o.text())*this.exchangeRate))}}}},WanChao.prototype.overDetection=function(){var t=id("tf-verify-canvas").findOnce(),e=resizeX(123),o=resizeX(957),i=resizeY(1065);null!=t&&(e=t.bounds().left,o=t.bounds().right,i=t.bounds().top);for(var n=getScreenImage(),r=1e4,c=0,a=e;a<o;a++){for(var s=0,u=a;u<a+120;u++){var l=images.pixel(n,u,i+150),f=colors.red(l),p=colors.green(l),d=colors.blue(l);s+=this.isGrayColor(f,p,d)}s<r&&(r=s,c=a)}var h=className("android.view.View").depth(14).drawingOrder(0).boundsInside(100,1400,300,1600).findOnce();if(null!=h){var g=(h.bounds().left+h.bounds().right)/2,m=(h.bounds().top+h.bounds().bottom)/2;gesture(2e3,[g,m],[g+c-149,m+random(-50,50)])}n.recycle()},WanChao.prototype.isGrayColor=function(t,e,o){return t+e+o>200&&t+e+o<500?Math.sqrt((Math.pow(t-e,2)+Math.pow(t-o,2)+Math.pow(e-o,2))/3):100},WanChao_decorate([measureExecutionTime],WanChao.prototype,"highEff",null),WanChao}(x),Et=function(){var t=function extendStatics(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}(),YouShi_decorate=function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},At=function(t){function YouShi(){var e=t.call(this,xe)||this;return e.appName=_e,e}return Et(YouShi,t),YouShi.prototype.goToTask=function(){this.goTo(this.tab,3)},YouShi.prototype.getCoinStr=function(){var t=search("恭喜获得宝箱奖励"),e=t[0],o=(t[1],search("\\+[0-9]+金币",{bounds:{top:e.bottom}}));o[0];return o[1]},YouShi.prototype.signIn=function(){this.goToTask(),(dialogClick("签到领金币")||findAndClick("立即签到",{feedback:!0}))&&this.watchAdsForCoin("日常任务")},YouShi_decorate([functionLog("签到")],YouShi.prototype,"signIn",null),YouShi}(A),St=(events.emitter(),10),Ft=8,Lt=3,Bt=6,Ot=25,Rt=600,Nt=86400,jt=10,It="app",Pt="date",Dt=storages.create("YWfjbEVp32"),Mt=1080,zt=2340,Vt="番茄畅听",Kt="com.xs.fm",Gt="番茄免费小说",Ut="com.dragon.read",Wt="番茄畅听音乐版",Yt="com.xs.fm.lite",Ht="红果免费短剧",Xt="com.phoenix.read",Jt="得间小说",Qt="com.chaozh.iReader.dj",qt="茄子免费小说",$t="com.qz.freader",Zt="熊猫脑洞小说",te="com.xm.freader",ee="奇迹免费小说",oe="reader.com.xmly.xmlyreader",ie="速读免费小说",ne="com.dj.speed",re="书旗小说",ce="com.shuqi.controller",ae="七猫免费小说",se="com.kmxs.reader",ue="望潮",le="com.shangc.tiennews.taizhou",fe="星空免费小说",pe="com.xk.qreader",de="抖音极速版",he="com.ss.android.ugc.aweme.lite",ge="抖音火山版",me="com.ss.android.ugc.live",ye="快手",ve="com.smile.gifmaker",we="快手免费小说",Te="com.kuaishou.kgx.novel",be="快手极速版",ke="com.kuaishou.nebula",_e="有柿",xe="com.ss.android.article.search",Ce="百度",Ee="com.baidu.searchbox",Ae="百度极速版",Se="com.baidu.searchbox.lite",Fe="百度大字版",Le="com.baidu.searchbox.tomas",Be="今日头条",Oe="com.ss.android.article.news",Re="头条搜索极速版",Ne="com.ss.android.article.lite",je=new At,Ie=new at,Pe=new ft,De=new q,Me=new G,ze=new rt,Ve=new Z,Ke=new wt,Ge=new bt,Ue=new _t,We=new it,Ye=new H,He=new W,Xe=new J,Je=new gt,Qe=new yt,qe=new ut,$e=new M,Ze=new R,to=new P,eo=new j,oo=new F,io=new B,no=new Ct,ro={},co={},ao={},so={},uo={1:je,2:Ie,3:Pe,4:De,5:Me,6:ze,7:Ve,8:Ke,9:Ge,10:Ue,11:We,12:Ye,13:qe,14:$e,15:no,16:He,17:Xe,18:Ze,19:to,20:eo,21:oo,22:io,23:Je,24:Qe};f.info("加载配置");var lo=(C=hamibot.env)._TOKEN,fo=C._SHOW_CONSOLE,po=C.APP_ENV,ho=(C.ROBOT_ID,C.ORDER),go=C.RESET,mo=fo,yo=[];if(null!=ho){f.info("调整执行顺序");var vo=ho.split(" ");if(vo.length>0)for(var wo=0,To=vo=vo.filter((function(t,e,o){return o.indexOf(t)===e}));wo<To.length;wo++){var bo=(Co=To[wo]).split(":");if(2===bo.length){Co=bo[0];var ko=Number(bo[1]);if(!isNaN(ko)){var _o=uo[Co];null!=_o&&(so[_o.constructor.name]=60*ko)}}var xo=uo[Co];null!=xo&&yo.push(xo)}}if(yo.length!=uo.length)for(var Co in uo)-1==yo.indexOf(uo[Co])&&yo.push(uo[Co]);var Eo=yo.filter((function(t){return!1!==hamibot.env[t.constructor.name]}));if(f.info("正在启动...\n\n\t当前脚本版本: ".concat("0.4.3","\n")),"production"===po?f.setDisplayLevel(e.Log):"development"===po&&f.debug("处于开发环境"),!0===go&&(f.info("脚本重置"),Dt.clear()),events.on("exit",(function(){threads.shutDownAll(),f.info("结束..."),waitRandomTime(5),console.hide()})),lo&&""!==lo&&0==function setToken(t){return 32===t.length&&!/^\d*$/.test(t)&&(t,!0)}(lo))throw new k("pushplus token","needs to be a 32-bit hexadecimal number");function sendIncomeMessageToWxPuher(t){if(lo&&""!==lo)return 200===http.postJson("https://wxpusher.zjiecode.com/api/send/message",{appToken:"AT_2vEaUfXFmwMKybX7YeX3yCJFrmc7TFlD",content:t,summary:"智能助手日收益推送",contentType:3,uids:[lo],verifyPay:!1}).statusCode}function toShowString(t){for(var e=["型号: ".concat(device.product,"\n")],o=0,i=0,n=0,r=t;n<r.length;n++){var c=r[n],a=parseInt(c.fetch(_.Weight,0)),s=a/c.exchangeRate;f.debug("".concat(c.appName,": ").concat(a)),o+=a,i+=s,e.push("".concat(c.appName,": ").concat(a," - - - ").concat(s.toFixed(2),"元"))}return e.push("\n今日总收益: ".concat(o,"金币 - - - ").concat(i.toFixed(2),"元")),e.join("\n")}function sendErrorMessage(t){var e=u,o=getScreenImage();hamibot.postMessage(Date.now().toString(),{telemetry:!0,data:{title:t,attachments:[{type:"text",data:e.toString()},{type:"image",data:images.toBase64(o)}]}}),o.recycle()}function allocateSurplus(t,e){f.debug("surplus: ".concat(t));if(t<0)for(var o=0,i=e.reverse();o<i.length;o++){if(!1===(a=i[o]).fetch(_.Executed)){var n=Math.min(ao[a.constructor.name],-t);ao[a.constructor.name]-=n,t+=n}}else if(t>0)for(var r=0,c=e;r<c.length;r++){var a;if(!1===(a=c[r]).fetch(_.Executed)){var s=Math.min(t,1800);ao[a.constructor.name]+=s,t-=s}}}function appTimeAllocation(t,e){f.info("分配执行时间");for(var o=0,i=e;o<i.length;o++){var n=i[o],r=so[n.constructor.name];if(null!=r){var c=Math.min(t,r);c>=n.highEffEstimatedTime&&(c-=n.highEffEstimatedTime,t-=n.highEffEstimatedTime,ro[n.constructor.name]+=n.highEffEstimatedTime,c>=n.medEffEstimatedTime&&(c-=n.medEffEstimatedTime,t-=n.medEffEstimatedTime,co[n.constructor.name]+=n.medEffEstimatedTime),n.lowEffEstimatedTime!=Nt&&c>0&&(t-=c,ao[n.constructor.name]+=c))}}for(var a=0,s=e;a<s.length;a++){var u=s[a];t>=u.highEffEstimatedTime&&void 0===so[u.constructor.name]&&(ro[u.constructor.name]=u.highEffEstimatedTime,t-=u.highEffEstimatedTime)}for(var l=0,p=e;l<p.length;l++){var d=p[l];t>=d.medEffEstimatedTime&&void 0===so[d.constructor.name]&&ro[d.constructor.name]>0&&(co[d.constructor.name]+=d.medEffEstimatedTime,t-=d.medEffEstimatedTime)}var h=1;if(e.length>0)for(var g=!0;g&&t>=Rt;){var m=h*Rt;g=!1;for(var y=0,v=e;y<v.length;y++){var w=v[y];if(w.lowEffEstimatedTime!=Nt&&void 0===so[w.constructor.name]&&ro[w.constructor.name]>0){g=!0;var T=Math.min(m*w.lowEffAssmitCount,t);ao[w.constructor.name]+=T,t-=T}}h<4&&h++}}f.info("开始执行脚本"),function init(){if(null===auto.service){if(!confirm("Please enable accessibility permission"))throw new g("Accessibility permission obtaining failure.");auto.waitFor()}else f.verbose("已启用无障碍辅助功能权限");if(0===device.height||0===device.width)throw new m("Failed to get the screen size. Please try restarting the service or re-installing Hamibot");if(f.debug("分辨率: "+device.height+" x "+device.width),threads.start((function(){f.debug("子线程启动"),findAndClick(className("android.widget.Button").textMatches(".?立即开始.?|.?允许.?"),{waitFor:!0,clickUntilGone:!0,fixed:!0})})).waitFor(),!requestScreenCapture())throw new g("Accessibility permission obtaining failure.");if(f.debug("启动视觉识别"),!files.exists("/sdcard/exit.png")){f.debug("正在加载资源");var t=images.load("https://hamibot-1304500632.cos.ap-nanjing.myqcloud.com/exit.png");null!=t&&(t.saveTo("/sdcard/exit.png"),t.recycle())}device.keepScreenOn(36e5),mo&&(console.show(),waitRandomTime(1))}(),function main(){for(;;){var t=Eo;if(0==t.length)throw new k("拿我这测试了?");var e=new Date,o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59),i=e.getMonth().toString()+"/"+e.getDate().toString();if(i===Dt.get(Pt))t=t.filter((function(t){return!1===t.fetch(_.Executed,!1)}));else{for(var n=0,r=t;n<r.length;n++){r[n].store(_.Executed,!1)}Dt.remove(It)}Dt.put(Pt,i);for(var c=(o.getTime()-e.getTime())/1e3-60*t.length,a=t.slice().sort((function(t,e){return e.fetch(_.Weight,0)/e.exchangeRate*100-t.fetch(_.Weight,0)/t.exchangeRate*100})),s=0,u=a;s<u.length;s++){var l=u[s];ro[l.constructor.name]=0,co[l.constructor.name]=0,ao[l.constructor.name]=0,f.debug("".concat(l.appName))}appTimeAllocation(c,a);for(var p=0,d=t;p<d.length;p++){var h=d[p],g=ro[h.constructor.name]+co[h.constructor.name]+ao[h.constructor.name];0!=g&&f.log("".concat(h.appName,": ").concat(convertSecondsToMinutes(g),"分钟"))}var m=0;f.info("进入主流程"),clearBackground();for(var y=0,v=t;y<v.length;y++){var w=v[y],T=m+ro[w.constructor.name]+co[w.constructor.name]+ao[w.constructor.name];T>0&&(w.store(_.Weight,0),Dt.put(It,w.constructor.name),m=w.start(T),w.store(_.Executed,!0),allocateSurplus(m,a),clearBackground())}f.info("发送今日收益"),sendIncomeMessageToWxPuher(toShowString(Eo));var b=new Date;if(o.getTime()>b.getTime()){var x=o.getTime()-b.getTime();f.log("等待".concat(convertSecondsToMinutes(x/1e3+1),"分钟开启新一天任务")),sleep(x+6e4)}}}()})();